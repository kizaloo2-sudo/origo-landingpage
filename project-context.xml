This file is a merged representation of a subset of the codebase, containing specifically included files and files not matching ignore patterns, combined into a single document by Repomix.

<file_summary>
This section contains a summary of this file.

<purpose>
This file contains a packed representation of a subset of the repository's contents that is considered the most important context.
It is designed to be easily consumable by AI systems for analysis, code review,
or other automated processes.
</purpose>

<file_format>
The content is organized as follows:
1. This summary section
2. Repository information
3. Directory structure
4. Repository files (if enabled)
5. Multiple file entries, each consisting of:
  - File path as an attribute
  - Full contents of the file
</file_format>

<usage_guidelines>
- This file should be treated as read-only. Any changes should be made to the
  original repository files, not this packed version.
- When processing this file, use the file path to distinguish
  between different files in the repository.
- Be aware that this file may contain sensitive information. Handle it with
  the same level of security as you would the original repository.
</usage_guidelines>

<notes>
- Some files may have been excluded based on .gitignore rules and Repomix's configuration
- Binary files are not included in this packed representation. Please refer to the Repository Structure section for a complete list of file paths, including binary files
- Only files matching these patterns are included: **/*.{ts,tsx,js,jsx}, **/*.{json,css,scss,md,mdx}, **/supabase/**
- Files matching these patterns are excluded: **/node_modules/**, **/.next/**, **/.git/**, **/dist/**, **/build/**, **/*.{png,jpg,jpeg,gif,svg,ico,webp}, **/*.{pdf,doc,docx}, **/package-lock.json, **/yarn.lock, **/pnpm-lock.yaml
- Files matching patterns in .gitignore are excluded
- Files matching default ignore patterns are excluded
- Files are sorted by Git change count (files with more changes are at the bottom)
</notes>

</file_summary>

<directory_structure>
app/admin/dashboard/analytics/page.tsx
app/admin/dashboard/assessments/page.tsx
app/admin/dashboard/layout.tsx
app/admin/dashboard/page.tsx
app/admin/dashboard/settings/page.tsx
app/admin/dashboard/users/page.tsx
app/admin/login/page.tsx
app/admin/page.tsx
app/api/admin/assessments/route.ts
app/api/admin/debug/route.ts
app/api/admin/stats/route.ts
app/api/admin/test/route.ts
app/api/admin/users/route.ts
app/api/test-supabase/route.ts
app/assessment/page.tsx
app/dashboard/data.json
app/dashboard/page.tsx
app/globals.css
app/layout.tsx
app/page.tsx
app/privacy/page.tsx
app/results/page.tsx
app/terms/page.tsx
components.json
components/admin/admin-header.tsx
components/admin/admin-sidebar.tsx
components/admin/overview.tsx
components/admin/recent-activity.tsx
components/admin/stats-cards.tsx
components/app-sidebar.tsx
components/assessment/ProgressBar.tsx
components/assessment/QuestionCard.tsx
components/assessment/QuizContainer.tsx
components/chart-area-interactive.tsx
components/data-table-leads.tsx
components/data-table.tsx
components/landing/Hero.tsx
components/landing/ValueProps.tsx
components/layout/ConditionalFooter.tsx
components/layout/Footer.tsx
components/layout/Navbar.tsx
components/nav-documents.tsx
components/nav-main.tsx
components/nav-secondary.tsx
components/nav-user.tsx
components/results/CTASection.tsx
components/results/InsightCards.tsx
components/results/ScoreGauge.tsx
components/section-cards.tsx
components/site-header.tsx
components/ui/alert.tsx
components/ui/avatar.tsx
components/ui/badge.tsx
components/ui/breadcrumb.tsx
components/ui/Button.tsx
components/ui/calendar.tsx
components/ui/card.tsx
components/ui/chart.tsx
components/ui/checkbox.tsx
components/ui/command.tsx
components/ui/dialog.tsx
components/ui/drawer.tsx
components/ui/dropdown-menu.tsx
components/ui/form.tsx
components/ui/GlassCard.tsx
components/ui/input.tsx
components/ui/label.tsx
components/ui/pagination.tsx
components/ui/scroll-area.tsx
components/ui/SectionContainer.tsx
components/ui/select.tsx
components/ui/separator.tsx
components/ui/sheet.tsx
components/ui/sidebar.tsx
components/ui/skeleton.tsx
components/ui/sonner.tsx
components/ui/switch.tsx
components/ui/table.tsx
components/ui/tabs.tsx
components/ui/toggle-group.tsx
components/ui/toggle.tsx
components/ui/tooltip.tsx
data/questions.ts
hooks/use-leads.ts
hooks/use-mobile.tsx
lib/admin-logging.ts
lib/cn.ts
lib/logger.ts
lib/supabase/client.ts
lib/supabase/server.ts
lib/utils.ts
middleware.ts
next.config.ts
package.json
playwright.config.ts
README.md
repomix.config.json
services/assessment-service.ts
store/quiz-store.ts
tailwind.config.ts
test-results/.last-run.json
test-supabase-connection.ts
tests/e2e/admin.spec.ts
tests/logger.test.ts
tests/logging.test.ts
tests/services/assessment-service.test.ts
tsconfig.json
vitest.config.ts
</directory_structure>

<files>
This section contains the contents of the repository's files.

<file path="repomix.config.json">
{
  "output": {
    "filePath": "project-context.xml",
    "style": "xml"
  },
  "include": [
    "**/*.{ts,tsx,js,jsx}",
    "**/*.{json,css,scss,md,mdx}",
    "**/supabase/**"
  ],
  "ignore": {
    "customPatterns": [
      "**/node_modules/**",
      "**/.next/**",
      "**/.git/**",
      "**/dist/**",
      "**/build/**",
      "**/*.{png,jpg,jpeg,gif,svg,ico,webp}",
      "**/*.{pdf,doc,docx}",
      "**/package-lock.json",
      "**/yarn.lock",
      "**/pnpm-lock.yaml"
    ]
  }
}
</file>

<file path="app/admin/dashboard/analytics/page.tsx">
'use client';

import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';
import { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';
import { Overview } from '@/components/admin/overview';
import { 
  TrendingUp, 
  Users, 
  Target, 
  BarChart3,
  PieChart,
  Activity
} from 'lucide-react';
import {
  LineChart,
  Line,
  PieChart as RePieChart,
  Pie,
  Cell,
  ResponsiveContainer,
  XAxis,
  YAxis,
  CartesianGrid,
  Tooltip,
  Legend,
} from 'recharts';

const userGrowthData = [
  { month: 'Jan', users: 45 },
  { month: 'Feb', users: 52 },
  { month: 'Mar', users: 61 },
  { month: 'Apr', users: 58 },
  { month: 'May', users: 73 },
  { month: 'Jun', users: 85 },
  { month: 'Jul', users: 92 },
  { month: 'Aug', users: 88 },
  { month: 'Sep', users: 95 },
  { month: 'Oct', users: 102 },
  { month: 'Nov', users: 110 },
  { month: 'Dec', users: 125 },
];

const scoreDistributionData = [
  { name: 'High (70+)', value: 35, color: '#10b981' },
  { name: 'Medium (40-69)', value: 45, color: '#f59e0b' },
  { name: 'Low (0-39)', value: 20, color: '#ef4444' },
];

const completionRateData = [
  { month: 'Jan', rate: 78 },
  { month: 'Feb', rate: 82 },
  { month: 'Mar', rate: 79 },
  { month: 'Apr', rate: 85 },
  { month: 'May', rate: 88 },
  { month: 'Jun', rate: 91 },
];

export default function AnalyticsPage() {
  return (
    <div className="space-y-6">
      {/* Key Metrics */}
      <div className="grid gap-4 md:grid-cols-2 lg:grid-cols-4">
        <Card className="bg-[#111111]/80 backdrop-blur-xl border-white/10">
          <CardHeader className="flex flex-row items-center justify-between pb-2">
            <CardTitle className="text-sm font-medium text-neutral-400">Growth Rate</CardTitle>
            <TrendingUp className="w-4 h-4 text-green-400" />
          </CardHeader>
          <CardContent>
            <div className="text-2xl font-bold text-white">+23.5%</div>
            <p className="text-xs text-green-400 mt-1">↑ 12.3% from last month</p>
          </CardContent>
        </Card>

        <Card className="bg-[#111111]/80 backdrop-blur-xl border-white/10">
          <CardHeader className="flex flex-row items-center justify-between pb-2">
            <CardTitle className="text-sm font-medium text-neutral-400">Engagement</CardTitle>
            <Activity className="w-4 h-4 text-blue-400" />
          </CardHeader>
          <CardContent>
            <div className="text-2xl font-bold text-white">87.3%</div>
            <p className="text-xs text-blue-400 mt-1">↑ 5.2% from last month</p>
          </CardContent>
        </Card>

        <Card className="bg-[#111111]/80 backdrop-blur-xl border-white/10">
          <CardHeader className="flex flex-row items-center justify-between pb-2">
            <CardTitle className="text-sm font-medium text-neutral-400">Conversion</CardTitle>
            <Target className="w-4 h-4 text-[#febe5d]" />
          </CardHeader>
          <CardContent>
            <div className="text-2xl font-bold text-white">64.2%</div>
            <p className="text-xs text-[#febe5d] mt-1">↑ 8.1% from last month</p>
          </CardContent>
        </Card>

        <Card className="bg-[#111111]/80 backdrop-blur-xl border-white/10">
          <CardHeader className="flex flex-row items-center justify-between pb-2">
            <CardTitle className="text-sm font-medium text-neutral-400">Retention</CardTitle>
            <Users className="w-4 h-4 text-purple-400" />
          </CardHeader>
          <CardContent>
            <div className="text-2xl font-bold text-white">91.8%</div>
            <p className="text-xs text-purple-400 mt-1">↑ 3.4% from last month</p>
          </CardContent>
        </Card>
      </div>

      {/* Charts */}
      <Tabs defaultValue="growth" className="space-y-4">
        <TabsList className="bg-[#111111]/80 border border-white/10">
          <TabsTrigger
            value="growth"
            className="data-[state=active]:bg-[#febe5d] data-[state=active]:text-black"
          >
            <TrendingUp className="w-4 h-4 mr-2" />
            User Growth
          </TabsTrigger>
          <TabsTrigger
            value="distribution"
            className="data-[state=active]:bg-[#febe5d] data-[state=active]:text-black"
          >
            <PieChart className="w-4 h-4 mr-2" />
            Score Distribution
          </TabsTrigger>
          <TabsTrigger
            value="completion"
            className="data-[state=active]:bg-[#febe5d] data-[state=active]:text-black"
          >
            <BarChart3 className="w-4 h-4 mr-2" />
            Completion Rate
          </TabsTrigger>
        </TabsList>

        {/* User Growth Chart */}
        <TabsContent value="growth">
          <Card className="bg-[#111111]/80 backdrop-blur-xl border-white/10">
            <CardHeader>
              <CardTitle className="text-white">User Growth Trend</CardTitle>
              <CardDescription className="text-neutral-400">
                Monthly new user registrations over the past year
              </CardDescription>
            </CardHeader>
            <CardContent>
              <ResponsiveContainer width="100%" height={400}>
                <LineChart data={userGrowthData}>
                  <CartesianGrid strokeDasharray="3 3" stroke="#333" />
                  <XAxis dataKey="month" stroke="#888" />
                  <YAxis stroke="#888" />
                  <Tooltip
                    contentStyle={{
                      backgroundColor: '#111',
                      border: '1px solid rgba(255,255,255,0.1)',
                      borderRadius: '8px',
                    }}
                  />
                  <Line
                    type="monotone"
                    dataKey="users"
                    stroke="#febe5d"
                    strokeWidth={3}
                    dot={{ fill: '#febe5d', r: 4 }}
                  />
                </LineChart>
              </ResponsiveContainer>
            </CardContent>
          </Card>
        </TabsContent>

        {/* Score Distribution */}
        <TabsContent value="distribution">
          <Card className="bg-[#111111]/80 backdrop-blur-xl border-white/10">
            <CardHeader>
              <CardTitle className="text-white">Score Distribution</CardTitle>
              <CardDescription className="text-neutral-400">
                Distribution of assessment scores across all users
              </CardDescription>
            </CardHeader>
            <CardContent>
              <ResponsiveContainer width="100%" height={400}>
                <RePieChart>
                  <Pie
                    data={scoreDistributionData}
                    cx="50%"
                    cy="50%"
                    labelLine={false}
                    label={({ name, value }) => `${name}: ${value}%`}
                    outerRadius={120}
                    fill="#8884d8"
                    dataKey="value"
                  >
                    {scoreDistributionData.map((entry, index) => (
                      <Cell key={`cell-${index}`} fill={entry.color} />
                    ))}
                  </Pie>
                  <Tooltip
                    contentStyle={{
                      backgroundColor: '#111',
                      border: '1px solid rgba(255,255,255,0.1)',
                      borderRadius: '8px',
                    }}
                  />
                  <Legend />
                </RePieChart>
              </ResponsiveContainer>
            </CardContent>
          </Card>
        </TabsContent>

        {/* Completion Rate */}
        <TabsContent value="completion">
          <Card className="bg-[#111111]/80 backdrop-blur-xl border-white/10">
            <CardHeader>
              <CardTitle className="text-white">Assessment Completion Rate</CardTitle>
              <CardDescription className="text-neutral-400">
                Percentage of completed assessments over time
              </CardDescription>
            </CardHeader>
            <CardContent>
              <ResponsiveContainer width="100%" height={400}>
                <LineChart data={completionRateData}>
                  <CartesianGrid strokeDasharray="3 3" stroke="#333" />
                  <XAxis dataKey="month" stroke="#888" />
                  <YAxis stroke="#888" domain={[0, 100]} />
                  <Tooltip
                    contentStyle={{
                      backgroundColor: '#111',
                      border: '1px solid rgba(255,255,255,0.1)',
                      borderRadius: '8px',
                    }}
                  />
                  <Line
                    type="monotone"
                    dataKey="rate"
                    stroke="#10b981"
                    strokeWidth={3}
                    dot={{ fill: '#10b981', r: 4 }}
                  />
                </LineChart>
              </ResponsiveContainer>
            </CardContent>
          </Card>
        </TabsContent>
      </Tabs>
    </div>
  );
}
</file>

<file path="app/admin/dashboard/assessments/page.tsx">
'use client';

import { useEffect, useState } from 'react';
import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';
import { Input } from '@/components/ui/input';
import { Label } from '@/components/ui/label';
import { Button } from '@/components/ui/Button';
import {
  Table,
  TableBody,
  TableCell,
  TableHead,
  TableHeader,
  TableRow,
} from '@/components/ui/table';
import { Badge } from '@/components/ui/badge';
import { Download, Eye, FileSpreadsheet, FileText, FileJson, Mail, MoreVertical, Briefcase, Building, Trash2, Send, Award, Search } from 'lucide-react';
import {
  DropdownMenu,
  DropdownMenuContent,
  DropdownMenuItem,
  DropdownMenuLabel,
  DropdownMenuSeparator,
  DropdownMenuTrigger,
} from '@/components/ui/dropdown-menu';
import {
  Dialog,
  DialogContent,
  DialogDescription,
  DialogFooter,
  DialogHeader,
  DialogTitle,
} from '@/components/ui/dialog';
import { toast } from 'sonner';

interface Assessment {
  id: string;
  user_id: string;
  score: number;
  answers: any;
  completed: boolean;
  created_at: string;
  profiles?: {
    email: string;
    full_name?: string;
    role?: string;
    industry?: string;
  };
}

export default function AssessmentsPage() {
  const [assessments, setAssessments] = useState<Assessment[]>([]);
  const [loading, setLoading] = useState(true);
  const [searchQuery, setSearchQuery] = useState('');
  const [exportOpen, setExportOpen] = useState(false);
  const [viewDetailsOpen, setViewDetailsOpen] = useState(false);
  const [sendEmailOpen, setSendEmailOpen] = useState(false);
  const [deleteAssessmentOpen, setDeleteAssessmentOpen] = useState(false);
  const [selectedAssessment, setSelectedAssessment] = useState<Assessment | null>(null);
  const [emailForm, setEmailForm] = useState({
    subject: '',
    message: '',
  });

  useEffect(() => {
    fetchAssessments();
  }, []);

  const fetchAssessments = async () => {
    try {
      const response = await fetch('/api/admin/assessments');
      const result = await response.json();

      if (result.success) {
        setAssessments(result.data);
      } else {
        toast.error('Failed to fetch assessments');
        setAssessments([]);
      }
    } catch (error) {
      toast.error('Network error fetching assessments');
      setAssessments([]);
    } finally {
      setLoading(false);
    }
  };

  const handleExport = (format: 'csv' | 'json' | 'xlsx') => {
    try {
      let content = '';
      let filename = '';
      let mimeType = '';

      if (format === 'csv') {
        // CSV export
        const headers = ['ID', 'User Email', 'User Name', 'Score', 'Status', 'Submitted Date'];
        const rows = assessments.map(a => [
          a.id,
          a.profiles?.email || 'N/A',
          a.profiles?.full_name || 'N/A',
          a.score || 0,
          a.completed ? 'Completed' : 'In Progress',
          new Date(a.created_at).toLocaleString()
        ]);
        
        content = [headers, ...rows].map(row => row.join(',')).join('\n');
        filename = `assessments-${Date.now()}.csv`;
        mimeType = 'text/csv';
      } else if (format === 'json') {
        // JSON export
        content = JSON.stringify(assessments, null, 2);
        filename = `assessments-${Date.now()}.json`;
        mimeType = 'application/json';
      } else if (format === 'xlsx') {
        // For XLSX, we would typically use a library like xlsx
        // For now, we'll just show a message
        toast.info('XLSX export coming soon! Using CSV instead.');
        handleExport('csv');
        return;
      }

      // Create and download file
      const blob = new Blob([content], { type: mimeType });
      const url = window.URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = filename;
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
      window.URL.revokeObjectURL(url);

      toast.success(`Exported ${assessments.length} assessments as ${format.toUpperCase()}`);
      setExportOpen(false);
    } catch (error) {
      toast.error('Failed to export data');
    }
  };

  const handleSendEmail = async () => {
    try {
      // Simulate sending email
      await new Promise(resolve => setTimeout(resolve, 1000));
      
      toast.success(`Email sent to ${selectedAssessment?.profiles?.email}`);
      setSendEmailOpen(false);
      setEmailForm({ subject: '', message: '' });
    } catch (error) {
      toast.error('Failed to send email');
    }
  };

  const handleDeleteAssessment = async () => {
    try {
      // TODO: Call API to delete assessment
      toast.success('Assessment deleted successfully');
      setDeleteAssessmentOpen(false);
      fetchAssessments();
    } catch (error) {
      toast.error('Failed to delete assessment');
    }
  };

  const filteredAssessments = assessments.filter(
    (assessment) =>
      assessment.profiles?.email?.toLowerCase().includes(searchQuery.toLowerCase()) ||
      assessment.profiles?.full_name?.toLowerCase().includes(searchQuery.toLowerCase())
  );

  const getTierFromScore = (score: number) => {
    if (score <= 40) return 'Noise-Driven';
    if (score <= 70) return 'Partial Signal';
    return 'Signal-Driven';
  };

  const getTierBadge = (score: number) => {
    const tier = getTierFromScore(score);
    if (tier === 'Signal-Driven') {
      return {
        label: 'Signal-Driven',
        className: 'bg-green-500/10 text-green-400 border-green-500/20'
      };
    } else if (tier === 'Partial Signal') {
      return {
        label: 'Partial Signal',
        className: 'bg-yellow-500/10 text-yellow-400 border-yellow-500/20'
      };
    } else {
      return {
        label: 'Noise-Driven',
        className: 'bg-red-500/10 text-red-400 border-red-500/20'
      };
    }
  };

  if (loading) {
    return (
      <div className="flex items-center justify-center min-h-[400px]">
        <div className="flex flex-col items-center gap-4">
          <div className="w-12 h-12 border-4 border-[#febe5d]/20 border-t-[#febe5d] rounded-full animate-spin" />
          <p className="text-sm text-neutral-400">Loading assessments...</p>
        </div>
      </div>
    );
  }

  return (
    <div className="space-y-6">
      {/* Page Header */}
      <div className="flex items-center justify-end">
        <Button
          variant="default"
          size="lg"
          className="bg-[#febe5d] hover:bg-[#ffc978] text-black"
          onClick={() => setExportOpen(true)}
        >
          <Download className="mr-2 w-4 h-4" />
          Export Data
        </Button>
      </div>

      {/* Stats Cards */}
      <div className="grid gap-4 md:grid-cols-3">
        <Card className="bg-[#111111]/80 backdrop-blur-xl border-white/10">
          <CardHeader className="pb-3">
            <CardTitle className="text-sm font-medium text-neutral-400">Total Assessments</CardTitle>
          </CardHeader>
          <CardContent>
            <div className="text-2xl font-bold text-white">{assessments.length}</div>
            <p className="text-xs text-neutral-500 mt-1">All time</p>
          </CardContent>
        </Card>

        <Card className="bg-[#111111]/80 backdrop-blur-xl border-white/10">
          <CardHeader className="pb-3">
            <CardTitle className="text-sm font-medium text-neutral-400">Completed</CardTitle>
          </CardHeader>
          <CardContent>
            <div className="text-2xl font-bold text-white">
              {assessments.filter((a) => a.completed).length}
            </div>
            <p className="text-xs text-neutral-500 mt-1">
              {assessments.length > 0 
                ? Math.round((assessments.filter((a) => a.completed).length / assessments.length) * 100)
                : 0}% completion rate
            </p>
          </CardContent>
        </Card>

        <Card className="bg-[#111111]/80 backdrop-blur-xl border-white/10">
          <CardHeader className="pb-3">
            <CardTitle className="text-sm font-medium text-neutral-400">Average Score</CardTitle>
          </CardHeader>
          <CardContent>
            <div className="text-2xl font-bold text-white">
              {assessments.length > 0
                ? Math.round(
                    assessments.reduce((acc, a) => acc + (a.score || 0), 0) / assessments.length
                  )
                : 0}
            </div>
            <p className="text-xs text-neutral-500 mt-1">Out of 100</p>
          </CardContent>
        </Card>
      </div>



      {/* Assessments Table */}
      <Card className="bg-[#111111]/80 backdrop-blur-xl border-white/10">
        <CardContent className="pt-6">
          <Table>
            <TableHeader>
              <TableRow className="border-white/10 hover:bg-white/5">
                <TableHead className="text-neutral-400">User</TableHead>
                <TableHead className="text-neutral-400">Email</TableHead>
                <TableHead className="text-neutral-400">Role</TableHead>
                <TableHead className="text-neutral-400">Industry</TableHead>
                <TableHead className="text-neutral-400">Tier</TableHead>
                <TableHead className="text-neutral-400"></TableHead>
              </TableRow>
            </TableHeader>
            <TableBody>
              {filteredAssessments.length === 0 ? (
                <TableRow>
                  <TableCell colSpan={6} className="text-center text-neutral-500 py-8">
                    No assessments found
                  </TableCell>
                </TableRow>
              ) : (
                filteredAssessments.map((assessment) => (
                  <TableRow
                    key={assessment.id}
                    className="border-white/10 hover:bg-white/5 transition-colors"
                  >
                    <TableCell>
                      <p className="text-sm font-medium text-white">
                        {assessment.profiles?.full_name || 'Unknown User'}
                      </p>
                    </TableCell>
                    <TableCell>
                      <div className="flex items-center gap-2 text-sm text-neutral-300">
                        <Mail className="w-4 h-4 text-neutral-500" />
                        {assessment.profiles?.email || 'N/A'}
                      </div>
                    </TableCell>
                    <TableCell>
                      <div className="flex items-center gap-2 text-sm text-neutral-300">
                        <Briefcase className="w-4 h-4 text-neutral-500" />
                        {assessment.profiles?.role || 'N/A'}
                      </div>
                    </TableCell>
                    <TableCell>
                      <div className="flex items-center gap-2 text-sm text-neutral-300">
                        <Building className="w-4 h-4 text-neutral-500" />
                        {assessment.profiles?.industry || 'N/A'}
                      </div>
                    </TableCell>
                    <TableCell>
                      <div className="flex items-center gap-2 text-sm text-neutral-300">
                        <Award className="w-4 h-4 text-neutral-500" />
                        <Badge className={getTierBadge(assessment.score || 0).className}>
                          {getTierBadge(assessment.score || 0).label}
                        </Badge>
                      </div>
                    </TableCell>
                    <TableCell>
                      <DropdownMenu>
                        <DropdownMenuTrigger asChild>
                          <Button variant="ghost" size="icon" className="h-8 w-8 hover:bg-white/10 transition-all">
                            <MoreVertical className="w-4 h-4 text-neutral-400" />
                          </Button>
                        </DropdownMenuTrigger>
                        <DropdownMenuContent align="end" className="bg-[#111111] border-white/10">
                          <DropdownMenuLabel className="text-white">Actions</DropdownMenuLabel>
                          <DropdownMenuSeparator className="bg-white/10" />
                          <DropdownMenuItem 
                            className="text-neutral-300 focus:text-white focus:bg-white/5"
                            onClick={() => {
                              setSelectedAssessment(assessment);
                              setViewDetailsOpen(true);
                            }}
                          >
                            <Eye className="mr-2 w-4 h-4" />
                            View Details
                          </DropdownMenuItem>
                          <DropdownMenuItem 
                            className="text-neutral-300 focus:text-white focus:bg-white/5"
                            onClick={() => {
                              setSelectedAssessment(assessment);
                              setSendEmailOpen(true);
                            }}
                          >
                            <Send className="mr-2 w-4 h-4" />
                            Send Email
                          </DropdownMenuItem>
                          <DropdownMenuSeparator className="bg-white/10" />
                          <DropdownMenuItem 
                            className="text-red-400 focus:text-red-300 focus:bg-red-500/10"
                            onClick={() => {
                              setSelectedAssessment(assessment);
                              setDeleteAssessmentOpen(true);
                            }}
                          >
                            <Trash2 className="mr-2 w-4 h-4" />
                            Delete Assessment
                          </DropdownMenuItem>
                        </DropdownMenuContent>
                      </DropdownMenu>
                    </TableCell>
                  </TableRow>
                ))
              )}
            </TableBody>
          </Table>
        </CardContent>
      </Card>

      {/* Export Dialog */}
      <Dialog open={exportOpen} onOpenChange={setExportOpen}>
        <DialogContent className="max-w-md">
          <DialogHeader>
            <DialogTitle>Export Assessment Data</DialogTitle>
            <DialogDescription>
              Choose the format for exporting {assessments.length} assessment records
            </DialogDescription>
          </DialogHeader>
          <div className="space-y-3 py-4">
            <Button
              variant="outline"
              className="w-full justify-start text-left h-auto py-4 border-white/10 bg-transparent hover:bg-white/5"
              onClick={() => handleExport('csv')}
            >
              <div className="flex items-center gap-3">
                <div className="p-2 bg-green-500/10 rounded-lg">
                  <FileSpreadsheet className="w-5 h-5 text-green-400" />
                </div>
                <div>
                  <p className="text-white font-medium">CSV Format</p>
                  <p className="text-xs text-neutral-400">Compatible with Excel and Google Sheets</p>
                </div>
              </div>
            </Button>

            <Button
              variant="outline"
              className="w-full justify-start text-left h-auto py-4 border-white/10 bg-transparent hover:bg-white/5"
              onClick={() => handleExport('json')}
            >
              <div className="flex items-center gap-3">
                <div className="p-2 bg-blue-500/10 rounded-lg">
                  <FileJson className="w-5 h-5 text-blue-400" />
                </div>
                <div>
                  <p className="text-white font-medium">JSON Format</p>
                  <p className="text-xs text-neutral-400">For developers and data analysis</p>
                </div>
              </div>
            </Button>

            <Button
              variant="outline"
              className="w-full justify-start text-left h-auto py-4 border-white/10 bg-transparent hover:bg-white/5"
              onClick={() => handleExport('xlsx')}
            >
              <div className="flex items-center gap-3">
                <div className="p-2 bg-orange-500/10 rounded-lg">
                  <FileText className="w-5 h-5 text-orange-400" />
                </div>
                <div>
                  <p className="text-white font-medium">Excel Format (.xlsx)</p>
                  <p className="text-xs text-neutral-400">Native Excel format with formatting</p>
                </div>
              </div>
            </Button>
          </div>
          <DialogFooter>
            <Button 
              variant="outline" 
              onClick={() => setExportOpen(false)}
              className="border-white/10 text-neutral-300 hover:text-white bg-white/5 hover:bg-white/10 h-10 px-4 transition-all"
            >
              Cancel
            </Button>
          </DialogFooter>
        </DialogContent>
      </Dialog>

      {/* View Details Dialog */}
      <Dialog open={viewDetailsOpen} onOpenChange={setViewDetailsOpen}>
        <DialogContent className="max-w-2xl max-h-[80vh] overflow-y-auto">
          <DialogHeader>
            <DialogTitle>Assessment Details</DialogTitle>
            <DialogDescription>
              Complete assessment information
            </DialogDescription>
          </DialogHeader>
          <div className="space-y-6 py-4">
            {/* User Information */}
            <div>
              <h3 className="text-lg font-semibold text-white mb-3">User Information</h3>
              <div className="grid grid-cols-2 gap-4">
                <div className="space-y-1">
                  <Label className="text-neutral-400">Full Name</Label>
                  <p className="text-white font-medium">
                    {selectedAssessment?.profiles?.full_name || 'Unknown User'}
                  </p>
                </div>
                <div className="space-y-1">
                  <Label className="text-neutral-400">Email</Label>
                  <p className="text-white font-medium">{selectedAssessment?.profiles?.email || 'N/A'}</p>
                </div>
              </div>
            </div>

            {/* Assessment Information */}
            <div>
              <h3 className="text-lg font-semibold text-white mb-3">Assessment Information</h3>
              <div className="grid grid-cols-2 gap-4">
                <div className="space-y-1">
                  <Label className="text-neutral-400">Tier</Label>
                  <div className="pt-1">
                    <Badge className={getTierBadge(selectedAssessment?.score || 0).className}>
                      {getTierBadge(selectedAssessment?.score || 0).label}
                    </Badge>
                  </div>
                </div>
                <div className="space-y-1">
                  <Label className="text-neutral-400">Submitted At</Label>
                  <p className="text-white font-medium">
                    {selectedAssessment?.created_at 
                      ? new Date(selectedAssessment.created_at).toLocaleString()
                      : 'N/A'}
                  </p>
                </div>
                <div className="space-y-1">
                  <Label className="text-neutral-400">Assessment ID</Label>
                  <p className="text-white font-mono text-xs">
                    {selectedAssessment?.id || 'N/A'}
                  </p>
                </div>
              </div>
            </div>

            {/* Answers */}
            {selectedAssessment?.answers && (
              <div>
                <h3 className="text-lg font-semibold text-white mb-3">Answers Summary</h3>
                <div className="bg-black/40 rounded-lg p-4 border border-white/10 max-h-96 overflow-y-auto">
                  <div className="space-y-3">
                    {Object.entries(selectedAssessment.answers)
                      .filter(([key]) => {
                        const questionNum = parseInt(key.replace('q', ''));
                        return questionNum >= 1 && questionNum <= 19;
                      })
                      .sort(([keyA], [keyB]) => {
                        const numA = parseInt(keyA.replace('q', ''));
                        const numB = parseInt(keyB.replace('q', ''));
                        return numA - numB;
                      })
                      .map(([key, value]: [string, any]) => {
                        const questionNum = parseInt(key.replace('q', ''));
                        return (
                          <div key={key} className="pb-3 border-b border-white/5 last:border-0">
                            <div className="flex items-start gap-3">
                              <div className="flex-shrink-0 w-8 h-8 rounded-full bg-[#febe5d]/10 flex items-center justify-center">
                                <span className="text-sm font-semibold text-[#febe5d]">{questionNum}</span>
                              </div>
                              <div className="flex-1">
                                <p className="text-sm font-medium text-white mb-1">
                                  {typeof value === 'object' && value?.question ? value.question : `Question ${questionNum}`}
                                </p>
                                <p className="text-sm text-neutral-400">
                                  <span className="text-neutral-500">Answer: </span>
                                  {typeof value === 'object' ? value?.answer || JSON.stringify(value) : String(value)}
                                </p>
                              </div>
                            </div>
                          </div>
                        );
                      })}
                  </div>
                </div>
              </div>
            )}
          </div>
          <DialogFooter>
            <Button 
              variant="outline"
              onClick={() => setViewDetailsOpen(false)}
              className="border-white/10 text-neutral-300 hover:text-white bg-white/5 hover:bg-white/10 h-10 px-4 transition-all"
            >
              Cancel
            </Button>
          </DialogFooter>
        </DialogContent>
      </Dialog>

      {/* Send Email Dialog */}
      <Dialog open={sendEmailOpen} onOpenChange={setSendEmailOpen}>
        <DialogContent className="max-w-md">
          <DialogHeader>
            <DialogTitle>Send Email</DialogTitle>
            <DialogDescription>
              Send an email to {selectedAssessment?.profiles?.email}
            </DialogDescription>
          </DialogHeader>
          <div className="space-y-4 py-4">
            <div className="space-y-2">
              <Label htmlFor="subject" className="text-white">Subject</Label>
              <Input
                id="subject"
                placeholder="Email subject"
                value={emailForm.subject}
                onChange={(e) => setEmailForm({ ...emailForm, subject: e.target.value })}
                className="bg-black/40 border-white/10 text-white"
              />
            </div>
            <div className="space-y-2">
              <Label htmlFor="message" className="text-white">Message</Label>
              <textarea
                id="message"
                rows={6}
                placeholder="Type your message here..."
                value={emailForm.message}
                onChange={(e) => setEmailForm({ ...emailForm, message: e.target.value })}
                className="w-full rounded-md bg-black/40 border border-white/10 text-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[#febe5d]/50"
              />
            </div>
          </div>
          <DialogFooter>
            <Button 
              variant="outline" 
              onClick={() => setSendEmailOpen(false)} 
              className="border-white/10 text-neutral-300 hover:text-white bg-white/5 hover:bg-white/10 h-10 px-4 transition-all"
            >
              Cancel
            </Button>
            <Button 
              onClick={handleSendEmail}
              className="bg-[#febe5d] hover:bg-[#ffc978] text-black"
              disabled={!emailForm.subject || !emailForm.message}
            >
              <Send className="mr-2 w-4 h-4" />
              Send Email
            </Button>
          </DialogFooter>
        </DialogContent>
      </Dialog>

      {/* Delete Assessment Dialog */}
      <Dialog open={deleteAssessmentOpen} onOpenChange={setDeleteAssessmentOpen}>
        <DialogContent className="max-w-md">
          <DialogHeader>
            <DialogTitle>Delete Assessment</DialogTitle>
            <DialogDescription>
              Are you sure you want to delete this assessment? This action cannot be undone.
            </DialogDescription>
          </DialogHeader>
          <div className="py-4">
            <div className="bg-red-500/10 border border-red-500/20 rounded-lg p-4">
              <p className="text-white font-medium">{selectedAssessment?.profiles?.full_name || 'Unknown User'}</p>
              <p className="text-neutral-400 text-sm">{selectedAssessment?.profiles?.email}</p>
            </div>
          </div>
          <DialogFooter>
            <Button 
              variant="outline" 
              onClick={() => setDeleteAssessmentOpen(false)} 
              className="border-white/10 text-neutral-300 hover:text-white bg-white/5 hover:bg-white/10 h-10 px-4 transition-all"
            >
              Cancel
            </Button>
            <Button 
              onClick={handleDeleteAssessment}
              className="bg-red-500 hover:bg-red-600 text-white"
            >
              <Trash2 className="mr-2 w-4 h-4" />
              Delete Assessment
            </Button>
          </DialogFooter>
        </DialogContent>
      </Dialog>
    </div>
  );
}
</file>

<file path="app/admin/dashboard/layout.tsx">
'use client';

import { useEffect, useState } from 'react';
import { useRouter, usePathname } from 'next/navigation';
import { createClient } from '@/lib/supabase/client';
import { AdminSidebar } from '@/components/admin/admin-sidebar';
import { AdminHeader } from '@/components/admin/admin-header';

export default function AdminDashboardLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  const [isLoading, setIsLoading] = useState(true);
  const [isSidebarOpen, setIsSidebarOpen] = useState(true);
  const router = useRouter();
  const supabase = createClient();

  useEffect(() => {
    const checkAuth = async () => {
      const { data: { session } } = await supabase.auth.getSession();
      
      if (!session) {
        router.push('/admin/login');
        return;
      }
      
      setIsLoading(false);
    };

    checkAuth();

    const { data: { subscription } } = supabase.auth.onAuthStateChange((_event, session) => {
      if (!session) {
        router.push('/admin/login');
      }
    });

    return () => subscription.unsubscribe();
  }, [router, supabase]);

  if (isLoading) {
    return (
      <div className="min-h-screen w-full bg-[#0a0a0a] flex items-center justify-center">
        <div className="flex flex-col items-center gap-4">
          <div className="w-12 h-12 border-4 border-[#febe5d]/20 border-t-[#febe5d] rounded-full animate-spin" />
          <p className="text-sm text-neutral-400">Loading...</p>
        </div>
      </div>
    );
  }

  return (
    <div className="min-h-screen w-full bg-[#0a0a0a]">
      {/* Background Gradient */}
      <div className="fixed inset-0 bg-gradient-radial from-[#febe5d]/5 via-transparent to-transparent opacity-30 pointer-events-none" />
      
      {/* Layout Container */}
      <div className="relative flex h-screen overflow-hidden">
        {/* Sidebar */}
        <AdminSidebar isOpen={isSidebarOpen} onToggle={() => setIsSidebarOpen(!isSidebarOpen)} />
        
        {/* Main Content */}
        <div className="flex-1 flex flex-col overflow-hidden">
          {/* Header */}
          <AdminHeader onMenuClick={() => setIsSidebarOpen(!isSidebarOpen)} />
          
          {/* Content Area */}
          <main className="flex-1 overflow-y-auto">
            <div className="container mx-auto px-6 py-8">
              {children}
            </div>
          </main>
        </div>
      </div>
    </div>
  );
}
</file>

<file path="app/admin/dashboard/page.tsx">
'use client';

import { useEffect, useState } from 'react';
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';
import { Overview } from '@/components/admin/overview';
import { StatsCards } from '@/components/admin/stats-cards';

interface Stats {
  totalUsers: number;
  totalAssessments: number;
  activeUsers: number;
  completionRate: number;
}

export default function AdminDashboardPage() {
  const [stats, setStats] = useState<Stats>({
    totalUsers: 0,
    totalAssessments: 0,
    activeUsers: 0,
    completionRate: 0,
  });
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    fetchStats();
  }, []);

  const fetchStats = async () => {
    try {
      const response = await fetch('/api/admin/stats');
      const result = await response.json();

      if (result.success) {
        setStats({
          totalUsers: result.data.totalUsers,
          totalAssessments: result.data.totalAssessments,
          activeUsers: result.data.activeUsers,
          completionRate: result.data.completionRate,
        });
      } else {
        console.error('Failed to fetch stats:', result.error);
      }
    } catch (error) {
      console.error('Error fetching stats:', error);
    } finally {
      setLoading(false);
    }
  };

  if (loading) {
    return (
      <div className="flex items-center justify-center min-h-[400px]">
        <div className="flex flex-col items-center gap-4">
          <div className="w-12 h-12 border-4 border-[#febe5d]/20 border-t-[#febe5d] rounded-full animate-spin" />
          <p className="text-sm text-neutral-400">Loading dashboard...</p>
        </div>
      </div>
    );
  }

  return (
    <div className="space-y-6">
      {/* Stats Cards */}
      <StatsCards stats={stats} />

      {/* Overview Chart - Full Width */}
      <Card className="bg-[#111111]/80 backdrop-blur-xl border-white/10">
        <CardHeader>
          <CardTitle className="text-white">Overview</CardTitle>
          <CardDescription className="text-neutral-400">
            User activity and assessment completion over time
          </CardDescription>
        </CardHeader>
        <CardContent className="h-[350px]">
          <Overview />
        </CardContent>
      </Card>
    </div>
  );
}
</file>

<file path="app/admin/dashboard/settings/page.tsx">
'use client';

import { useState, useEffect } from 'react';
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';
import { Input } from '@/components/ui/input';
import { Label } from '@/components/ui/label';
import { Button } from '@/components/ui/Button';
import { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';
import { Switch } from '@/components/ui/switch';
import {
  Settings as SettingsIcon,
  Bell,
  Shield,
  Save,
  Mail,
} from 'lucide-react';
import { Separator } from '@/components/ui/separator';
import { createClient } from '@/lib/supabase/client';
import { toast } from 'sonner';

interface GeneralSettings {
  appName: string;
  companyName: string;
  supportEmail: string;
  timezone: string;
}

interface NotificationSettings {
  emailNotifications: boolean;
  pushNotifications: boolean;
  newUserRegistrations: boolean;
  assessmentCompletions: boolean;
  systemUpdates: boolean;
  weeklyReports: boolean;
}

export default function SettingsPage() {
  const [saving, setSaving] = useState(false);
  
  // General Settings
  const [generalSettings, setGeneralSettings] = useState<GeneralSettings>({
    appName: 'ORIGO Admin',
    companyName: 'ORIGO',
    supportEmail: 'support@origo.com',
    timezone: 'UTC+7 (Bangkok)',
  });

  // Notification Settings
  const [notificationSettings, setNotificationSettings] = useState<NotificationSettings>({
    emailNotifications: true,
    pushNotifications: false,
    newUserRegistrations: true,
    assessmentCompletions: true,
    systemUpdates: false,
    weeklyReports: false,
  });

  // Security Settings
  const [twoFactorAuth, setTwoFactorAuth] = useState(false);
  const [passwordForm, setPasswordForm] = useState({
    currentPassword: '',
    newPassword: '',
    confirmPassword: '',
  });

  // Load settings from localStorage on mount
  useEffect(() => {
    const savedGeneral = localStorage.getItem('general-settings');
    const savedNotifications = localStorage.getItem('notification-settings');
    const saved2FA = localStorage.getItem('two-factor-auth');

    if (savedGeneral) {
      setGeneralSettings(JSON.parse(savedGeneral));
    }
    if (savedNotifications) {
      setNotificationSettings(JSON.parse(savedNotifications));
    }
    if (saved2FA) {
      setTwoFactorAuth(JSON.parse(saved2FA));
    }
  }, []);

  const handleSaveGeneral = async () => {
    setSaving(true);
    try {
      // Save to localStorage
      localStorage.setItem('general-settings', JSON.stringify(generalSettings));
      
      // Simulate API call
      await new Promise(resolve => setTimeout(resolve, 1000));
      
      toast.success('General settings saved successfully!');
    } catch (error) {
      toast.error('Failed to save settings');
    } finally {
      setSaving(false);
    }
  };

  const handleSaveNotifications = async () => {
    setSaving(true);
    try {
      // Save to localStorage
      localStorage.setItem('notification-settings', JSON.stringify(notificationSettings));
      
      // Simulate API call
      await new Promise(resolve => setTimeout(resolve, 1000));
      
      toast.success('Notification preferences saved successfully!');
    } catch (error) {
      toast.error('Failed to save preferences');
    } finally {
      setSaving(false);
    }
  };

  const handleUpdatePassword = async () => {
    // Validate passwords
    if (passwordForm.newPassword !== passwordForm.confirmPassword) {
      toast.error('New passwords do not match');
      return;
    }

    if (passwordForm.newPassword.length < 6) {
      toast.error('Password must be at least 6 characters');
      return;
    }

    setSaving(true);
    try {
      const supabase = createClient();
      
      // Update password in Supabase
      const { error } = await supabase.auth.updateUser({
        password: passwordForm.newPassword,
      });

      if (error) throw error;

      // Save 2FA setting
      localStorage.setItem('two-factor-auth', JSON.stringify(twoFactorAuth));
      
      toast.success('Password updated successfully! Please login again with your new password.');
      
      // Clear form
      setPasswordForm({
        currentPassword: '',
        newPassword: '',
        confirmPassword: '',
      });

      // Optionally, sign out the user after password change
      // await supabase.auth.signOut();
      // window.location.href = '/admin/login';
      
    } catch (error: any) {
      toast.error(error.message || 'Failed to update password');
    } finally {
      setSaving(false);
    }
  };

  return (
    <div className="space-y-6">
      <Tabs defaultValue="general" className="space-y-4">
        <TabsList className="bg-[#111111]/80 border border-white/10">
          <TabsTrigger
            value="general"
            className="data-[state=active]:bg-[#febe5d] data-[state=active]:text-black"
          >
            <SettingsIcon className="w-4 h-4 mr-2" />
            General
          </TabsTrigger>
          <TabsTrigger
            value="notifications"
            className="data-[state=active]:bg-[#febe5d] data-[state=active]:text-black"
          >
            <Bell className="w-4 h-4 mr-2" />
            Notifications
          </TabsTrigger>
          <TabsTrigger
            value="security"
            className="data-[state=active]:bg-[#febe5d] data-[state=active]:text-black"
          >
            <Shield className="w-4 h-4 mr-2" />
            Security
          </TabsTrigger>
        </TabsList>

        {/* General Settings */}
        <TabsContent value="general">
          <Card className="bg-[#111111]/80 backdrop-blur-xl border-white/10">
            <CardHeader>
              <CardTitle className="text-white">General Settings</CardTitle>
              <CardDescription className="text-neutral-400">
                Update your application general settings
              </CardDescription>
            </CardHeader>
            <CardContent className="space-y-6">
              <div className="space-y-2">
                <Label htmlFor="app-name" className="text-white">
                  Application Name
                </Label>
                <Input
                  id="app-name"
                  value={generalSettings.appName}
                  onChange={(e) => setGeneralSettings({ ...generalSettings, appName: e.target.value })}
                  className="bg-black/40 border-white/10 text-white"
                />
              </div>

              <div className="space-y-2">
                <Label htmlFor="company" className="text-white">
                  Company Name
                </Label>
                <Input
                  id="company"
                  value={generalSettings.companyName}
                  onChange={(e) => setGeneralSettings({ ...generalSettings, companyName: e.target.value })}
                  className="bg-black/40 border-white/10 text-white"
                />
              </div>

              <div className="space-y-2">
                <Label htmlFor="support-email" className="text-white">
                  Support Email
                </Label>
                <Input
                  id="support-email"
                  type="email"
                  value={generalSettings.supportEmail}
                  onChange={(e) => setGeneralSettings({ ...generalSettings, supportEmail: e.target.value })}
                  className="bg-black/40 border-white/10 text-white"
                />
              </div>

              <Separator className="bg-white/10" />

              <div className="space-y-2">
                <Label htmlFor="timezone" className="text-white">
                  Timezone
                </Label>
                <Input
                  id="timezone"
                  value={generalSettings.timezone}
                  onChange={(e) => setGeneralSettings({ ...generalSettings, timezone: e.target.value })}
                  className="bg-black/40 border-white/10 text-white"
                />
              </div>

              <div className="flex justify-end">
                <Button
                  variant="default"
                  size="lg"
                  className="bg-[#febe5d] hover:bg-[#ffc978] text-black"
                  onClick={handleSaveGeneral}
                  disabled={saving}
                >
                  <Save className="mr-2 w-4 h-4" />
                  {saving ? 'Saving...' : 'Save Changes'}
                </Button>
              </div>
            </CardContent>
          </Card>
        </TabsContent>

        {/* Notifications */}
        <TabsContent value="notifications">
          <Card className="bg-[#111111]/80 backdrop-blur-xl border-white/10">
            <CardHeader>
              <CardTitle className="text-white">Notification Preferences</CardTitle>
              <CardDescription className="text-neutral-400">
                Manage how you receive notifications
              </CardDescription>
            </CardHeader>
            <CardContent className="space-y-6">
              <div className="flex items-center justify-between">
                <div className="space-y-1">
                  <div className="flex items-center gap-2">
                    <Mail className="w-4 h-4 text-neutral-400" />
                    <Label htmlFor="email-notif" className="text-white font-medium">
                      Email Notifications
                    </Label>
                  </div>
                  <p className="text-sm text-neutral-500">
                    Receive email updates about important events
                  </p>
                </div>
                <Switch
                  id="email-notif"
                  checked={notificationSettings.emailNotifications}
                  onCheckedChange={(checked) => 
                    setNotificationSettings({ ...notificationSettings, emailNotifications: checked })
                  }
                />
              </div>

              <Separator className="bg-white/10" />

              <div className="flex items-center justify-between">
                <div className="space-y-1">
                  <div className="flex items-center gap-2">
                    <Bell className="w-4 h-4 text-neutral-400" />
                    <Label htmlFor="push-notif" className="text-white font-medium">
                      Push Notifications
                    </Label>
                  </div>
                  <p className="text-sm text-neutral-500">
                    Receive push notifications on your device
                  </p>
                </div>
                <Switch
                  id="push-notif"
                  checked={notificationSettings.pushNotifications}
                  onCheckedChange={(checked) => 
                    setNotificationSettings({ ...notificationSettings, pushNotifications: checked })
                  }
                />
              </div>

              <Separator className="bg-white/10" />

              <div className="space-y-4">
                <h3 className="text-white font-medium">Email Preferences</h3>
                <div className="space-y-3">
                  <div className="flex items-center justify-between">
                    <Label className="text-neutral-300 text-sm">New user registrations</Label>
                    <Switch
                      checked={notificationSettings.newUserRegistrations}
                      onCheckedChange={(checked) => 
                        setNotificationSettings({ ...notificationSettings, newUserRegistrations: checked })
                      }
                    />
                  </div>
                  <div className="flex items-center justify-between">
                    <Label className="text-neutral-300 text-sm">Assessment completions</Label>
                    <Switch
                      checked={notificationSettings.assessmentCompletions}
                      onCheckedChange={(checked) => 
                        setNotificationSettings({ ...notificationSettings, assessmentCompletions: checked })
                      }
                    />
                  </div>
                  <div className="flex items-center justify-between">
                    <Label className="text-neutral-300 text-sm">System updates</Label>
                    <Switch
                      checked={notificationSettings.systemUpdates}
                      onCheckedChange={(checked) => 
                        setNotificationSettings({ ...notificationSettings, systemUpdates: checked })
                      }
                    />
                  </div>
                  <div className="flex items-center justify-between">
                    <Label className="text-neutral-300 text-sm">Weekly reports</Label>
                    <Switch
                      checked={notificationSettings.weeklyReports}
                      onCheckedChange={(checked) => 
                        setNotificationSettings({ ...notificationSettings, weeklyReports: checked })
                      }
                    />
                  </div>
                </div>
              </div>

              <div className="flex justify-end">
                <Button
                  variant="default"
                  size="lg"
                  className="bg-[#febe5d] hover:bg-[#ffc978] text-black"
                  onClick={handleSaveNotifications}
                  disabled={saving}
                >
                  <Save className="mr-2 w-4 h-4" />
                  {saving ? 'Saving...' : 'Save Preferences'}
                </Button>
              </div>
            </CardContent>
          </Card>
        </TabsContent>

        {/* Security */}
        <TabsContent value="security">
          <Card className="bg-[#111111]/80 backdrop-blur-xl border-white/10">
            <CardHeader>
              <CardTitle className="text-white">Security Settings</CardTitle>
              <CardDescription className="text-neutral-400">
                Manage your account security and authentication
              </CardDescription>
            </CardHeader>
            <CardContent className="space-y-6">
              <div className="flex items-center justify-between">
                <div className="space-y-1">
                  <Label htmlFor="2fa" className="text-white font-medium">
                    Two-Factor Authentication
                  </Label>
                  <p className="text-sm text-neutral-500">
                    Add an extra layer of security to your account
                  </p>
                </div>
                <Switch
                  id="2fa"
                  checked={twoFactorAuth}
                  onCheckedChange={setTwoFactorAuth}
                />
              </div>

              <Separator className="bg-white/10" />

              <div className="space-y-4">
                <h3 className="text-white font-medium">Change Password</h3>
                <div className="space-y-4">
                  <div className="space-y-2">
                    <Label htmlFor="current-password" className="text-white">
                      Current Password
                    </Label>
                    <Input
                      id="current-password"
                      type="password"
                      value={passwordForm.currentPassword}
                      onChange={(e) => setPasswordForm({ ...passwordForm, currentPassword: e.target.value })}
                      className="bg-black/40 border-white/10 text-white"
                      placeholder="Enter current password"
                    />
                  </div>
                  <div className="space-y-2">
                    <Label htmlFor="new-password" className="text-white">
                      New Password
                    </Label>
                    <Input
                      id="new-password"
                      type="password"
                      value={passwordForm.newPassword}
                      onChange={(e) => setPasswordForm({ ...passwordForm, newPassword: e.target.value })}
                      className="bg-black/40 border-white/10 text-white"
                      placeholder="Enter new password"
                    />
                  </div>
                  <div className="space-y-2">
                    <Label htmlFor="confirm-password" className="text-white">
                      Confirm New Password
                    </Label>
                    <Input
                      id="confirm-password"
                      type="password"
                      value={passwordForm.confirmPassword}
                      onChange={(e) => setPasswordForm({ ...passwordForm, confirmPassword: e.target.value })}
                      className="bg-black/40 border-white/10 text-white"
                      placeholder="Confirm new password"
                    />
                  </div>
                  {passwordForm.newPassword && passwordForm.confirmPassword && 
                   passwordForm.newPassword !== passwordForm.confirmPassword && (
                    <p className="text-sm text-red-400">Passwords do not match</p>
                  )}
                </div>
              </div>

              <div className="flex justify-end">
                <Button
                  variant="default"
                  size="lg"
                  className="bg-[#febe5d] hover:bg-[#ffc978] text-black"
                  onClick={handleUpdatePassword}
                  disabled={saving || !passwordForm.currentPassword || !passwordForm.newPassword || !passwordForm.confirmPassword}
                >
                  <Save className="mr-2 w-4 h-4" />
                  {saving ? 'Updating...' : 'Update Password'}
                </Button>
              </div>
            </CardContent>
          </Card>
        </TabsContent>
      </Tabs>
    </div>
  );
}
</file>

<file path="app/admin/dashboard/users/page.tsx">
'use client';

import { useEffect, useState } from 'react';
import { Card, CardContent } from '@/components/ui/card';
import { Input } from '@/components/ui/input';
import { Label } from '@/components/ui/label';
import { Button } from '@/components/ui/Button';
import {
  Table,
  TableBody,
  TableCell,
  TableHead,
  TableHeader,
  TableRow,
} from '@/components/ui/table';
import { Badge } from '@/components/ui/badge';
import { Search, UserPlus, MoreVertical, Mail, Briefcase, Building, Trash2, Eye, Send, Award } from 'lucide-react';
import {
  DropdownMenu,
  DropdownMenuContent,
  DropdownMenuItem,
  DropdownMenuLabel,
  DropdownMenuSeparator,
  DropdownMenuTrigger,
} from '@/components/ui/dropdown-menu';
import {
  Dialog,
  DialogContent,
  DialogDescription,
  DialogFooter,
  DialogHeader,
  DialogTitle,
} from '@/components/ui/dialog';
import {
  Select,
  SelectContent,
  SelectItem,
  SelectTrigger,
  SelectValue,
} from '@/components/ui/select';
import { createClient } from '@/lib/supabase/client';
import { toast } from 'sonner';

interface User {
  id: string;
  email: string;
  full_name?: string;
  role?: string;
  industry?: string;
  created_at: string;
  last_sign_in_at?: string;
  tier?: string; // 'Signal-Driven' | 'Partial Signal' | 'Noise-Driven'
  score?: number; // For calculating tier
}

export default function UsersPage() {
  const [users, setUsers] = useState<User[]>([]);
  const [loading, setLoading] = useState(true);
  const [searchQuery, setSearchQuery] = useState('');
  
  // Dialog states
  const [addUserOpen, setAddUserOpen] = useState(false);
  const [viewDetailsOpen, setViewDetailsOpen] = useState(false);
  const [sendEmailOpen, setSendEmailOpen] = useState(false);
  const [deleteUserOpen, setDeleteUserOpen] = useState(false);
  const [selectedUser, setSelectedUser] = useState<User | null>(null);

  // Form states
  const [newUser, setNewUser] = useState({
    email: '',
    password: '',
    full_name: '',
    role: '',
    industry: '',
  });
  const [emailForm, setEmailForm] = useState({
    subject: '',
    message: '',
  });

  useEffect(() => {
    fetchUsers();
  }, []);

  const fetchUsers = async () => {
    try {
      const response = await fetch('/api/admin/users');
      const result = await response.json();

      if (result.success) {
        setUsers(result.data);
      } else {
        toast.error('Failed to fetch users');
        setUsers([]);
      }
    } catch (error) {
      toast.error('Network error fetching users');
      setUsers([]);
    } finally {
      setLoading(false);
    }
  };

  const handleAddUser = async () => {
    try {
      const supabase = createClient();
      
      // Create user in Supabase Auth
      const { data, error } = await supabase.auth.signUp({
        email: newUser.email,
        password: newUser.password,
        options: {
          data: {
            full_name: newUser.full_name,
            role: newUser.role,
            industry: newUser.industry,
          },
        },
      });

      if (error) throw error;

      toast.success('User added successfully!');
      setAddUserOpen(false);
      setNewUser({
        email: '',
        password: '',
        full_name: '',
        role: '',
        industry: '',
      });
      fetchUsers();
    } catch (error: any) {
      toast.error(error.message || 'Failed to add user');
    }
  };

  const handleSendEmail = async () => {
    try {
      // Simulate sending email
      await new Promise(resolve => setTimeout(resolve, 1000));
      
      toast.success(`Email sent to ${selectedUser?.email}`);
      setSendEmailOpen(false);
      setEmailForm({ subject: '', message: '' });
    } catch (error) {
      toast.error('Failed to send email');
    }
  };

  const handleDeleteUser = async () => {
    try {
      const supabase = createClient();
      
      // In a real implementation, you would call an admin API to delete the user
      // For now, we'll just show a success message
      
      toast.success('User deleted successfully');
      setDeleteUserOpen(false);
      fetchUsers();
    } catch (error) {
      toast.error('Failed to delete user');
    }
  };

  const getTierFromScore = (score: number) => {
    if (score <= 40) return 'Noise-Driven';
    if (score <= 70) return 'Partial Signal';
    return 'Signal-Driven';
  };

  const getTierBadge = (tier?: string, score?: number) => {
    const actualTier = tier || (score ? getTierFromScore(score) : 'N/A');
    
    if (actualTier === 'Signal-Driven') {
      return {
        label: 'Signal-Driven',
        className: 'bg-green-500/10 text-green-400 border-green-500/20'
      };
    } else if (actualTier === 'Partial Signal') {
      return {
        label: 'Partial Signal',
        className: 'bg-yellow-500/10 text-yellow-400 border-yellow-500/20'
      };
    } else if (actualTier === 'Noise-Driven') {
      return {
        label: 'Noise-Driven',
        className: 'bg-red-500/10 text-red-400 border-red-500/20'
      };
    } else {
      return {
        label: 'N/A',
        className: 'bg-gray-500/10 text-gray-400 border-gray-500/20'
      };
    }
  };

  const filteredUsers = users.filter(
    (user) =>
      user.email?.toLowerCase().includes(searchQuery.toLowerCase()) ||
      user.full_name?.toLowerCase().includes(searchQuery.toLowerCase())
  );

  if (loading) {
    return (
      <div className="flex items-center justify-center min-h-[400px]">
        <div className="flex flex-col items-center gap-4">
          <div className="w-12 h-12 border-4 border-[#febe5d]/20 border-t-[#febe5d] rounded-full animate-spin" />
          <p className="text-sm text-neutral-400">Loading users...</p>
        </div>
      </div>
    );
  }

  return (
    <div className="space-y-6">
      {/* Page Header */}
      <div className="flex items-center justify-end">
        <Button
          variant="default"
          size="lg"
          className="bg-[#febe5d] hover:bg-[#ffc978] text-black"
          onClick={() => setAddUserOpen(true)}
        >
          <UserPlus className="mr-2 w-4 h-4" />
          Add User
        </Button>
      </div>

      {/* Search */}
      <Card className="bg-[#111111]/80 backdrop-blur-xl border-white/10">
        <CardContent className="pt-6">
          <div className="flex items-center gap-4">
            <div className="relative flex-1">
              <Search className="absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-neutral-500" />
              <Input
                placeholder="Search users by name or email..."
                value={searchQuery}
                onChange={(e) => setSearchQuery(e.target.value)}
                className="pl-10 bg-black/40 border-white/10 text-white"
              />
            </div>
          </div>
        </CardContent>
      </Card>

      {/* Users Table */}
      <Card className="bg-[#111111]/80 backdrop-blur-xl border-white/10">
        <CardContent className="pt-6">
          <Table>
            <TableHeader>
              <TableRow className="border-white/10 hover:bg-white/5">
                <TableHead className="text-neutral-400">User</TableHead>
                <TableHead className="text-neutral-400">Email</TableHead>
                <TableHead className="text-neutral-400">Role</TableHead>
                <TableHead className="text-neutral-400">Industry</TableHead>
                <TableHead className="text-neutral-400">Tier</TableHead>
                <TableHead className="text-neutral-400"></TableHead>
              </TableRow>
            </TableHeader>
            <TableBody>
              {filteredUsers.length === 0 ? (
                <TableRow>
                  <TableCell colSpan={6} className="text-center text-neutral-500 py-8">
                    No users found
                  </TableCell>
                </TableRow>
              ) : (
                filteredUsers.map((user) => (
                  <TableRow
                    key={user.id}
                    className="border-white/10 hover:bg-white/5 transition-colors"
                  >
                    <TableCell>
                      <p className="text-sm font-medium text-white">
                        {user.full_name || 'Unnamed User'}
                      </p>
                    </TableCell>
                    <TableCell>
                      <div className="flex items-center gap-2 text-sm text-neutral-300">
                        <Mail className="w-4 h-4 text-neutral-500" />
                        {user.email}
                      </div>
                    </TableCell>
                    <TableCell>
                      <div className="flex items-center gap-2 text-sm text-neutral-300">
                        <Briefcase className="w-4 h-4 text-neutral-500" />
                        {user.role || 'N/A'}
                      </div>
                    </TableCell>
                    <TableCell>
                      <div className="flex items-center gap-2 text-sm text-neutral-300">
                        <Building className="w-4 h-4 text-neutral-500" />
                        {user.industry || 'N/A'}
                      </div>
                    </TableCell>
                    <TableCell>
                      <div className="flex items-center gap-2 text-sm text-neutral-300">
                        <Award className="w-4 h-4 text-neutral-500" />
                        <Badge className={getTierBadge(user.tier, user.score).className}>
                          {getTierBadge(user.tier, user.score).label}
                        </Badge>
                      </div>
                    </TableCell>
                    <TableCell>
                      <DropdownMenu>
                        <DropdownMenuTrigger asChild>
                          <Button variant="ghost" size="icon" className="h-8 w-8 hover:bg-white/10 transition-all">
                            <MoreVertical className="w-4 h-4 text-neutral-400" />
                          </Button>
                        </DropdownMenuTrigger>
                        <DropdownMenuContent align="end" className="bg-[#111111] border-white/10">
                          <DropdownMenuLabel className="text-white">Actions</DropdownMenuLabel>
                          <DropdownMenuSeparator className="bg-white/10" />
                          <DropdownMenuItem 
                            className="text-neutral-300 focus:text-white focus:bg-white/5"
                            onClick={() => {
                              setSelectedUser(user);
                              setViewDetailsOpen(true);
                            }}
                          >
                            <Eye className="mr-2 w-4 h-4" />
                            View Details
                          </DropdownMenuItem>
                          <DropdownMenuItem 
                            className="text-neutral-300 focus:text-white focus:bg-white/5"
                            onClick={() => {
                              setSelectedUser(user);
                              setSendEmailOpen(true);
                            }}
                          >
                            <Send className="mr-2 w-4 h-4" />
                            Send Email
                          </DropdownMenuItem>
                          <DropdownMenuSeparator className="bg-white/10" />
                          <DropdownMenuItem 
                            className="text-red-400 focus:text-red-300 focus:bg-red-500/10"
                            onClick={() => {
                              setSelectedUser(user);
                              setDeleteUserOpen(true);
                            }}
                          >
                            <Trash2 className="mr-2 w-4 h-4" />
                            Delete User
                          </DropdownMenuItem>
                        </DropdownMenuContent>
                      </DropdownMenu>
                    </TableCell>
                  </TableRow>
                ))
              )}
            </TableBody>
          </Table>
        </CardContent>
      </Card>

      {/* Add User Dialog */}
      <Dialog open={addUserOpen} onOpenChange={setAddUserOpen}>
        <DialogContent className="max-w-md">
          <DialogHeader>
            <DialogTitle>Add New User</DialogTitle>
            <DialogDescription>
              Create a new user account. They will receive a confirmation email.
            </DialogDescription>
          </DialogHeader>
          <div className="space-y-4 py-4">
            <div className="space-y-2">
              <Label htmlFor="email" className="text-white">Email *</Label>
              <Input
                id="email"
                type="email"
                placeholder="user@example.com"
                value={newUser.email}
                onChange={(e) => setNewUser({ ...newUser, email: e.target.value })}
                className="bg-black/40 border-white/10 text-white"
              />
            </div>
            <div className="space-y-2">
              <Label htmlFor="password" className="text-white">Password *</Label>
              <Input
                id="password"
                type="password"
                placeholder="••••••••"
                value={newUser.password}
                onChange={(e) => setNewUser({ ...newUser, password: e.target.value })}
                className="bg-black/40 border-white/10 text-white"
              />
            </div>
            <div className="space-y-2">
              <Label htmlFor="full_name" className="text-white">Full Name</Label>
              <Input
                id="full_name"
                placeholder="John Doe"
                value={newUser.full_name}
                onChange={(e) => setNewUser({ ...newUser, full_name: e.target.value })}
                className="bg-black/40 border-white/10 text-white"
              />
            </div>
            <div className="space-y-2">
              <Label htmlFor="role" className="text-white">Role</Label>
              <Select value={newUser.role} onValueChange={(value) => setNewUser({ ...newUser, role: value })}>
                <SelectTrigger className="bg-black/40 border-white/10 text-white">
                  <SelectValue placeholder="Select role" />
                </SelectTrigger>
                <SelectContent className="bg-[#111111] border-white/10">
                  <SelectItem value="CEO" className="text-white">CEO</SelectItem>
                  <SelectItem value="CTO" className="text-white">CTO</SelectItem>
                  <SelectItem value="Manager" className="text-white">Manager</SelectItem>
                  <SelectItem value="Developer" className="text-white">Developer</SelectItem>
                  <SelectItem value="Other" className="text-white">Other</SelectItem>
                </SelectContent>
              </Select>
            </div>
            <div className="space-y-2">
              <Label htmlFor="industry" className="text-white">Industry</Label>
              <Select value={newUser.industry} onValueChange={(value) => setNewUser({ ...newUser, industry: value })}>
                <SelectTrigger className="bg-black/40 border-white/10 text-white">
                  <SelectValue placeholder="Select industry" />
                </SelectTrigger>
                <SelectContent className="bg-[#111111] border-white/10">
                  <SelectItem value="Technology" className="text-white">Technology</SelectItem>
                  <SelectItem value="Finance" className="text-white">Finance</SelectItem>
                  <SelectItem value="Healthcare" className="text-white">Healthcare</SelectItem>
                  <SelectItem value="Education" className="text-white">Education</SelectItem>
                  <SelectItem value="Other" className="text-white">Other</SelectItem>
                </SelectContent>
              </Select>
            </div>
          </div>
          <DialogFooter>
            <Button 
              variant="outline" 
              onClick={() => setAddUserOpen(false)} 
              className="border-white/10 text-neutral-300 hover:text-white bg-white/5 hover:bg-white/10 h-10 px-4 transition-all"
            >
              Cancel
            </Button>
            <Button 
              onClick={handleAddUser}
              className="bg-[#febe5d] hover:bg-[#ffc978] text-black"
              disabled={!newUser.email || !newUser.password}
            >
              Add User
            </Button>
          </DialogFooter>
        </DialogContent>
      </Dialog>

      {/* View Details Dialog */}
      <Dialog open={viewDetailsOpen} onOpenChange={setViewDetailsOpen}>
        <DialogContent className="max-w-2xl max-h-[80vh] overflow-y-auto">
          <DialogHeader>
            <DialogTitle>User Assessment Details</DialogTitle>
            <DialogDescription>
              Assessment answers from this user
            </DialogDescription>
          </DialogHeader>
          <div className="space-y-6 py-4">
            {/* User Information */}
            <div>
              <h3 className="text-lg font-semibold text-white mb-3">User Information</h3>
              <div className="grid grid-cols-2 gap-4">
                <div className="space-y-1">
                  <Label className="text-neutral-400">Full Name</Label>
                  <p className="text-white font-medium">
                    {selectedUser?.full_name || 'N/A'}
                  </p>
                </div>
                <div className="space-y-1">
                  <Label className="text-neutral-400">Email</Label>
                  <p className="text-white font-medium">{selectedUser?.email}</p>
                </div>
              </div>
            </div>

            {/* Answers Summary (Questions 1-19) */}
            <div>
              <h3 className="text-lg font-semibold text-white mb-3">Assessment Answers (Q1-Q19)</h3>
              <div className="bg-black/40 rounded-lg p-4 border border-white/10 max-h-96 overflow-y-auto">
                <div className="space-y-3">
                  {[...Array(19)].map((_, index) => {
                    const questionNum = index + 1;
                    return (
                      <div key={questionNum} className="pb-3 border-b border-white/5 last:border-0">
                        <div className="flex items-start gap-3">
                          <div className="flex-shrink-0 w-8 h-8 rounded-full bg-[#febe5d]/10 flex items-center justify-center">
                            <span className="text-sm font-semibold text-[#febe5d]">{questionNum}</span>
                          </div>
                          <div className="flex-1">
                            <p className="text-sm font-medium text-white mb-1">
                              Question {questionNum}
                            </p>
                            <p className="text-sm text-neutral-400">
                              <span className="text-neutral-500">Answer: </span>
                              <span className="text-neutral-500 italic">Not available</span>
                            </p>
                          </div>
                        </div>
                      </div>
                    );
                  })}
                </div>
              </div>
            </div>
          </div>
          <DialogFooter>
            <Button 
              variant="outline"
              onClick={() => setViewDetailsOpen(false)}
              className="border-white/10 text-neutral-300 hover:text-white bg-white/5 hover:bg-white/10 h-10 px-4 transition-all"
            >
              Cancel
            </Button>
          </DialogFooter>
        </DialogContent>
      </Dialog>

      {/* Send Email Dialog */}
      <Dialog open={sendEmailOpen} onOpenChange={setSendEmailOpen}>
        <DialogContent className="max-w-md">
          <DialogHeader>
            <DialogTitle>Send Email</DialogTitle>
            <DialogDescription>
              Send an email to {selectedUser?.email}
            </DialogDescription>
          </DialogHeader>
          <div className="space-y-4 py-4">
            <div className="space-y-2">
              <Label htmlFor="subject" className="text-white">Subject</Label>
              <Input
                id="subject"
                placeholder="Email subject"
                value={emailForm.subject}
                onChange={(e) => setEmailForm({ ...emailForm, subject: e.target.value })}
                className="bg-black/40 border-white/10 text-white"
              />
            </div>
            <div className="space-y-2">
              <Label htmlFor="message" className="text-white">Message</Label>
              <textarea
                id="message"
                rows={6}
                placeholder="Type your message here..."
                value={emailForm.message}
                onChange={(e) => setEmailForm({ ...emailForm, message: e.target.value })}
                className="w-full rounded-md bg-black/40 border border-white/10 text-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-[#febe5d]/50"
              />
            </div>
          </div>
          <DialogFooter>
            <Button 
              variant="outline" 
              onClick={() => setSendEmailOpen(false)} 
              className="border-white/10 text-neutral-300 hover:text-white bg-white/5 hover:bg-white/10 h-10 px-4 transition-all"
            >
              Cancel
            </Button>
            <Button 
              onClick={handleSendEmail}
              className="bg-[#febe5d] hover:bg-[#ffc978] text-black"
              disabled={!emailForm.subject || !emailForm.message}
            >
              <Send className="mr-2 w-4 h-4" />
              Send Email
            </Button>
          </DialogFooter>
        </DialogContent>
      </Dialog>

      {/* Delete User Dialog */}
      <Dialog open={deleteUserOpen} onOpenChange={setDeleteUserOpen}>
        <DialogContent className="max-w-md">
          <DialogHeader>
            <DialogTitle>Delete User</DialogTitle>
            <DialogDescription>
              Are you sure you want to delete this user? This action cannot be undone.
            </DialogDescription>
          </DialogHeader>
          <div className="py-4">
            <div className="bg-red-500/10 border border-red-500/20 rounded-lg p-4">
              <p className="text-white font-medium">{selectedUser?.full_name || 'Unnamed User'}</p>
              <p className="text-neutral-400 text-sm">{selectedUser?.email}</p>
            </div>
          </div>
          <DialogFooter>
            <Button 
              variant="outline" 
              onClick={() => setDeleteUserOpen(false)} 
              className="border-white/10 text-neutral-300 hover:text-white bg-white/5 hover:bg-white/10 h-10 px-4 transition-all"
            >
              Cancel
            </Button>
            <Button 
              onClick={handleDeleteUser}
              className="bg-red-500 hover:bg-red-600 text-white"
            >
              <Trash2 className="mr-2 w-4 h-4" />
              Delete User
            </Button>
          </DialogFooter>
        </DialogContent>
      </Dialog>
    </div>
  );
}
</file>

<file path="app/admin/login/page.tsx">
'use client';

import { useState, FormEvent } from 'react';
import { useRouter } from 'next/navigation';
import { createClient } from '@/lib/supabase/client';
import { Lock, Mail, AlertCircle } from 'lucide-react';

export default function AdminLoginPage() {
  const [email, setEmail] = useState('');
  const [password, setPassword] = useState('');
  const [error, setError] = useState('');
  const [loading, setLoading] = useState(false);
  const router = useRouter();
  const supabase = createClient();

  const handleLogin = async (e: FormEvent<HTMLFormElement>) => {
    e.preventDefault();
    setError('');
    setLoading(true);

    try {
      const { data, error: signInError } = await supabase.auth.signInWithPassword({
        email,
        password,
      });

      if (signInError) throw signInError;

      if (data.user) {
        router.push('/admin/dashboard');
        router.refresh();
      }
    } catch (err) {
      const errorMessage = err instanceof Error ? err.message : 'Invalid credentials. Please try again.';
      setError(errorMessage);
    } finally {
      setLoading(false);
    }
  };

  return (
    <div className="min-h-screen w-full bg-[#0a0a0a] flex items-center justify-center px-4">
      {/* Background Gradient */}
      <div className="absolute inset-0 bg-gradient-radial from-[#febe5d]/5 via-transparent to-transparent opacity-50" />

      {/* Login Card */}
      <div className="relative w-full max-w-md">
        <div className="bg-[#111111]/80 backdrop-blur-xl border border-white/10 rounded-2xl shadow-2xl p-8">
          {/* Logo/Brand */}
          <div className="text-center mb-8">
            <h1 className="text-3xl font-bold text-white tracking-tight mb-2">
              ORIGO
            </h1>
            <p className="text-sm text-neutral-400">Admin Dashboard</p>
          </div>

          {/* Error Alert */}
          {error && (
            <div className="mb-6 p-4 bg-red-500/10 border border-red-500/20 rounded-lg flex items-start gap-3">
              <AlertCircle className="w-5 h-5 text-red-400 shrink-0 mt-0.5" />
              <p className="text-sm text-red-200">{error}</p>
            </div>
          )}

          {/* Login Form */}
          <form onSubmit={handleLogin} className="space-y-6">
            {/* Email Input */}
            <div>
              <label htmlFor="email" className="block text-sm font-medium text-neutral-300 mb-2">
                Email Address
              </label>
              <div className="relative">
                <Mail className="absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-500" />
                <input
                  id="email"
                  type="email"
                  value={email}
                  onChange={(e) => setEmail(e.target.value)}
                  required
                  className="w-full pl-12 pr-4 py-3 bg-black/40 border border-white/10 rounded-lg text-white placeholder:text-neutral-600 focus:outline-none focus:border-[#febe5d]/50 focus:ring-2 focus:ring-[#febe5d]/20 transition-all"
                  placeholder="admin@origo.com"
                />
              </div>
            </div>

            {/* Password Input */}
            <div>
              <label htmlFor="password" className="block text-sm font-medium text-neutral-300 mb-2">
                Password
              </label>
              <div className="relative">
                <Lock className="absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-500" />
                <input
                  id="password"
                  type="password"
                  value={password}
                  onChange={(e) => setPassword(e.target.value)}
                  required
                  className="w-full pl-12 pr-4 py-3 bg-black/40 border border-white/10 rounded-lg text-white placeholder:text-neutral-600 focus:outline-none focus:border-[#febe5d]/50 focus:ring-2 focus:ring-[#febe5d]/20 transition-all"
                  placeholder="••••••••"
                />
              </div>
            </div>

            {/* Submit Button */}
            <button
              type="submit"
              disabled={loading}
              className="w-full py-3 bg-[#febe5d] hover:bg-[#ffc978] text-black font-semibold rounded-lg transition-all duration-300 hover:shadow-[0_0_20px_rgba(254,190,93,0.3)] disabled:opacity-50 disabled:cursor-not-allowed"
            >
              {loading ? 'Signing in...' : 'Sign In'}
            </button>
          </form>

          {/* Footer Note */}
          <p className="text-xs text-neutral-600 text-center mt-6">
            Authorized access only
          </p>
        </div>
      </div>
    </div>
  );
}
</file>

<file path="app/admin/page.tsx">
import { redirect } from 'next/navigation';

export default function AdminPage() {
  redirect('/admin/login');
}
</file>

<file path="app/api/admin/assessments/route.ts">
import { NextResponse } from 'next/server';
import { createClient } from '@/lib/supabase/server';

export async function GET(request: Request) {
  try {
    const supabase = await createClient();

    // Check if user is authenticated
    const { data: { session }, error: authError } = await supabase.auth.getSession();
    
    if (authError) {
      console.error('Auth error:', authError);
      return NextResponse.json(
        { error: 'Authentication error', details: authError.message },
        { status: 401 }
      );
    }
    
    if (!session) {
      console.error('No session found');
      return NextResponse.json(
        { error: 'Unauthorized - Please login' },
        { status: 401 }
      );
    }

    console.log('Fetching assessments from leads_assessment table...');

    // Get all assessments from leads_assessment table
    const { data: assessments, error } = await supabase
      .from('leads_assessment')
      .select('*')
      .order('inserted_at', { ascending: false });

    if (error) {
      console.error('Supabase error fetching assessments:', error);
      return NextResponse.json(
        { error: 'Failed to fetch assessments', details: error.message },
        { status: 500 }
      );
    }

    if (!assessments || assessments.length === 0) {
      console.warn('No assessments found in leads_assessment table');
      return NextResponse.json({
        success: true,
        data: [],
        count: 0,
      });
    }

    // Transform data to match Admin Dashboard format
    const transformedData = assessments.map((assessment) => ({
      id: assessment.id,
      user_id: assessment.contact_email, // Use email as user identifier
      score: assessment.score_total || 0,
      answers: assessment.answers || {},
      completed: assessment.status === 'completed' || assessment.status === 'new',
      created_at: assessment.inserted_at,
      profiles: {
        email: assessment.contact_email,
        full_name: assessment.contact_name,
      },
    }));

    console.log(`Successfully fetched ${transformedData.length} assessments`);

    return NextResponse.json({
      success: true,
      data: transformedData,
      count: transformedData.length,
    });
  } catch (error) {
    console.error('API Error:', error);
    return NextResponse.json(
      { error: 'Internal server error', details: error instanceof Error ? error.message : 'Unknown error' },
      { status: 500 }
    );
  }
}
</file>

<file path="app/api/admin/debug/route.ts">
import { NextResponse } from 'next/server';
import { createClient } from '@/lib/supabase/server';

export async function GET(request: Request) {
  try {
    const supabase = await createClient();

    // Check session
    const { data: { session }, error: authError } = await supabase.auth.getSession();
    
    if (authError || !session) {
      return NextResponse.json({
        error: 'Unauthorized',
      }, { status: 401 });
    }

    // Fetch raw data from leads_assessment
    const { data: rawData, error } = await supabase
      .from('leads_assessment')
      .select('*')
      .limit(1);

    if (error) {
      return NextResponse.json({
        success: false,
        error: error.message,
        code: error.code,
      });
    }

    // Return sample data structure
    return NextResponse.json({
      success: true,
      count: rawData?.length || 0,
      sampleData: rawData?.[0] || null,
      columns: rawData?.[0] ? Object.keys(rawData[0]) : [],
    });
  } catch (error) {
    return NextResponse.json({
      success: false,
      error: error instanceof Error ? error.message : 'Unknown error',
    }, { status: 500 });
  }
}
</file>

<file path="app/api/admin/stats/route.ts">
import { NextResponse } from 'next/server';
import { createClient } from '@/lib/supabase/server';

export async function GET(request: Request) {
  try {
    const supabase = await createClient();

    // Check if user is authenticated
    const { data: { session }, error: authError } = await supabase.auth.getSession();
    
    if (authError || !session) {
      return NextResponse.json(
        { error: 'Unauthorized' },
        { status: 401 }
      );
    }

    // Get all assessments for statistics
    const { data: assessments, error } = await supabase
      .from('leads_assessment')
      .select('*');

    if (error) {
      console.error('Error fetching stats:', error);
      return NextResponse.json(
        { error: 'Failed to fetch statistics' },
        { status: 500 }
      );
    }

    // Calculate statistics
    const totalAssessments = assessments?.length || 0;
    const completedAssessments = assessments?.filter(
      (a) => a.status === 'completed' || a.status === 'new'
    ).length || 0;

    // Get unique users
    const uniqueEmails = new Set(assessments?.map((a) => a.contact_email) || []);
    const totalUsers = uniqueEmails.size;

    // Calculate active users (users with assessments in last 30 days)
    const thirtyDaysAgo = new Date();
    thirtyDaysAgo.setDate(thirtyDaysAgo.getDate() - 30);
    
    const activeUsers = new Set(
      assessments
        ?.filter((a) => new Date(a.created_at) >= thirtyDaysAgo)
        .map((a) => a.contact_email) || []
    ).size;

    // Calculate completion rate
    const completionRate = totalAssessments > 0
      ? Math.round((completedAssessments / totalAssessments) * 100)
      : 0;

    // Calculate average score
    const totalScore = assessments?.reduce((sum, a) => sum + (a.score_total || 0), 0) || 0;
    const averageScore = totalAssessments > 0
      ? Math.round(totalScore / totalAssessments)
      : 0;

    return NextResponse.json({
      success: true,
      data: {
        totalUsers,
        totalAssessments,
        activeUsers,
        completionRate,
        averageScore,
        completedAssessments,
      },
    });
  } catch (error) {
    console.error('API Error:', error);
    return NextResponse.json(
      { error: 'Internal server error' },
      { status: 500 }
    );
  }
}
</file>

<file path="app/api/admin/test/route.ts">
import { NextResponse } from 'next/server';
import { createClient } from '@/lib/supabase/server';

export async function GET(request: Request) {
  try {
    console.log('🔍 TEST API: Starting...');
    
    const supabase = await createClient();
    console.log('🔍 TEST API: Supabase client created');

    // Check session
    const { data: { session }, error: authError } = await supabase.auth.getSession();
    console.log('🔍 TEST API: Session check result:', { 
      hasSession: !!session, 
      error: authError?.message 
    });

    if (authError) {
      return NextResponse.json({
        success: false,
        message: 'Auth error',
        error: authError.message,
        session: null,
      });
    }

    if (!session) {
      return NextResponse.json({
        success: false,
        message: 'No session found - Please login',
        session: null,
      });
    }

    // Try to fetch from leads_assessment
    const { data, error: dbError, count } = await supabase
      .from('leads_assessment')
      .select('*', { count: 'exact', head: true });

    console.log('🔍 TEST API: Database check result:', { 
      error: dbError?.message, 
      count 
    });

    return NextResponse.json({
      success: true,
      message: 'Test successful',
      session: {
        user: session.user.email,
        expiresAt: session.expires_at,
      },
      database: {
        hasError: !!dbError,
        error: dbError?.message,
        count: count || 0,
      },
    });
  } catch (error) {
    console.error('🔍 TEST API: Unexpected error:', error);
    return NextResponse.json({
      success: false,
      message: 'Unexpected error',
      error: error instanceof Error ? error.message : 'Unknown error',
    }, { status: 500 });
  }
}
</file>

<file path="app/api/admin/users/route.ts">
import { NextResponse } from 'next/server';
import { createClient } from '@/lib/supabase/server';

export async function GET(request: Request) {
  try {
    const supabase = await createClient();

    // Check if user is authenticated
    const { data: { session }, error: authError } = await supabase.auth.getSession();
    
    if (authError) {
      console.error('Auth error:', authError);
      return NextResponse.json(
        { error: 'Authentication error', details: authError.message },
        { status: 401 }
      );
    }
    
    if (!session) {
      console.error('No session found');
      return NextResponse.json(
        { error: 'Unauthorized - Please login' },
        { status: 401 }
      );
    }

    console.log('Fetching from leads_assessment table...');

    // Get unique users from leads_assessment table
    const { data: assessments, error } = await supabase
      .from('leads_assessment')
      .select('contact_email, contact_name, contact_role, company_industry, inserted_at, score_total')
      .order('inserted_at', { ascending: false });

    if (error) {
      console.error('Supabase error fetching users:', error);
      return NextResponse.json(
        { error: 'Failed to fetch users', details: error.message },
        { status: 500 }
      );
    }

    if (!assessments || assessments.length === 0) {
      console.warn('No assessments found in leads_assessment table');
      return NextResponse.json({
        success: true,
        data: [],
        count: 0,
      });
    }

    // Create unique users list (deduplicate by email)
    const usersMap = new Map();
    
    assessments.forEach((assessment) => {
      const email = assessment.contact_email;
      
      // Only keep the first (most recent) entry for each email
      if (!usersMap.has(email)) {
        usersMap.set(email, {
          id: email, // Use email as ID
          email: email,
          full_name: assessment.contact_name,
          role: assessment.contact_role,
          industry: assessment.company_industry,
          created_at: assessment.inserted_at,
          last_sign_in_at: assessment.inserted_at, // Mock last sign in
          score: assessment.score_total || 0, // Add score for tier calculation
        });
      }
    });

    const users = Array.from(usersMap.values());
    console.log(`Successfully fetched ${users.length} unique users`);

    return NextResponse.json({
      success: true,
      data: users,
      count: users.length,
    });
  } catch (error) {
    console.error('API Error:', error);
    return NextResponse.json(
      { error: 'Internal server error', details: error instanceof Error ? error.message : 'Unknown error' },
      { status: 500 }
    );
  }
}
</file>

<file path="app/api/test-supabase/route.ts">
// app/api/test-supabase/route.ts
import { NextResponse } from 'next/server';
import { createServiceRoleClient, createClient } from '@/lib/supabase/server';

export async function GET() {
  const results: any = {
    timestamp: new Date().toISOString(),
    tests: [],
    summary: { passed: 0, failed: 0 }
  };

  try {
    // Test 1: Environment Variables
    results.tests.push({
      name: 'Environment Variables Check',
      status: process.env.NEXT_PUBLIC_SUPABASE_URL && process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY ? 'PASS' : 'FAIL',
      details: {
        SUPABASE_URL: process.env.NEXT_PUBLIC_SUPABASE_URL ? '✅ Found' : '❌ Missing',
        SUPABASE_ANON_KEY: process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY ? '✅ Found' : '❌ Missing',
        SUPABASE_SERVICE_ROLE_KEY: process.env.SUPABASE_SERVICE_ROLE_KEY ? '✅ Found' : '❌ Missing'
      }
    });

    if (!process.env.NEXT_PUBLIC_SUPABASE_URL || !process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY) {
      results.summary.failed++;
      return NextResponse.json(results, { status: 500 });
    }
    results.summary.passed++;

    // Test 2: Get Supabase Client
    let supabase;
    let clientType = 'unknown';
    try {
      supabase = createServiceRoleClient();
      clientType = 'Service Role Client';
    } catch {
      supabase = await createClient();
      clientType = 'Session Client';
    }

    results.tests.push({
      name: 'Supabase Client Creation',
      status: 'PASS',
      details: { clientType }
    });
    results.summary.passed++;

    // Test 3: Table Exists Check
    const { data: tableCheck, error: tableError } = await supabase
      .from('leads_assessment')
      .select('id')
      .limit(1);

    if (tableError) {
      results.tests.push({
        name: 'Table Exists Check',
        status: 'FAIL',
        error: tableError.message,
        details: {
          code: tableError.code,
          hint: tableError.hint,
          fix: 'Run migrations/001_create_leads_assessment.sql in Supabase Dashboard'
        }
      });
      results.summary.failed++;
      return NextResponse.json(results, { status: 500 });
    }

    results.tests.push({
      name: 'Table Exists Check',
      status: 'PASS',
      details: { message: 'leads_assessment table is accessible' }
    });
    results.summary.passed++;

    // Test 4: Insert Test Record
    const testRecord = {
      contact_name: 'Test User',
      contact_email: `test-${Date.now()}@example.com`,
      contact_role: 'Test Role',
      company_industry: 'Test Industry',
      answers: [{
        questionId: 'q1',
        question: 'Test Question',
        answer: 'Test Answer',
        score: 0
      }],
      score_total: 10,
      tier_result: 'Test Tier',
      status: 'test'
    };

    const { data: insertResult, error: insertError } = await supabase
      .from('leads_assessment')
      .insert([testRecord])
      .select();

    if (insertError) {
      results.tests.push({
        name: 'Insert Test Record',
        status: 'FAIL',
        error: insertError.message,
        details: {
          code: insertError.code,
          hint: insertError.hint,
          possibleCauses: [
            'RLS (Row Level Security) is blocking inserts',
            'Missing SUPABASE_SERVICE_ROLE_KEY',
            'No INSERT policy configured'
          ],
          fix: 'Disable RLS or add INSERT policy for public'
        }
      });
      results.summary.failed++;
      return NextResponse.json(results, { status: 500 });
    }

    const insertedId = insertResult?.[0]?.id;
    results.tests.push({
      name: 'Insert Test Record',
      status: 'PASS',
      details: { insertedId }
    });
    results.summary.passed++;

    // Test 5: Cleanup Test Record
    const { error: deleteError } = await supabase
      .from('leads_assessment')
      .delete()
      .eq('id', insertedId);

    if (deleteError) {
      results.tests.push({
        name: 'Cleanup Test Record',
        status: 'WARN',
        error: deleteError.message,
        details: { message: 'Manual cleanup may be needed' }
      });
    } else {
      results.tests.push({
        name: 'Cleanup Test Record',
        status: 'PASS',
        details: { message: 'Test record deleted successfully' }
      });
      results.summary.passed++;
    }

    // Overall Result
    results.summary.message = results.summary.failed === 0 
      ? '🎉 All tests passed! Supabase is configured correctly.'
      : `⚠️  ${results.summary.failed} test(s) failed. Please check the details above.`;

    return NextResponse.json(results, { 
      status: results.summary.failed === 0 ? 200 : 500 
    });

  } catch (error) {
    results.tests.push({
      name: 'Unexpected Error',
      status: 'FAIL',
      error: error instanceof Error ? error.message : 'Unknown error',
      stack: error instanceof Error ? error.stack : undefined
    });
    results.summary.failed++;
    results.summary.message = '❌ Unexpected error occurred during testing';

    return NextResponse.json(results, { status: 500 });
  }
}
</file>

<file path="app/assessment/page.tsx">
import QuizContainer from "@/components/assessment/QuizContainer";

export const metadata = {
  title: "Market Signal Assessment | Origo",
  description: "Discover your business readiness score in 3 minutes",
};

export default function AssessmentPage() {
  return (
    <main className="min-h-screen bg-origo-black">
      <QuizContainer />
    </main>
  );
}
</file>

<file path="app/dashboard/data.json">
[
  {
    "id": "1",
    "date": "2026-01-08T21:47:00Z",
    "name": "takuo",
    "email": "kizaico2@gmail.com",
    "role": "Founder / Owner",
    "industry": "Retail / E-commerce",
    "tier": "Noise-Driven",
    "score": 9
  }
]
</file>

<file path="app/dashboard/page.tsx">
"use client"

import { useState } from "react"
import { AppSidebar } from "@/components/app-sidebar"
import { DataTable } from "@/components/data-table-leads"
import { SectionCards } from "@/components/section-cards"
import { SiteHeader } from "@/components/site-header"
import { SidebarInset, SidebarProvider } from "@/components/ui/sidebar"
import { Input } from "@/components/ui/input"
import { Search, Filter } from "lucide-react"
import {
  Select,
  SelectContent,
  SelectItem,
  SelectTrigger,
  SelectValue,
} from "@/components/ui/select"

// Import mock data
import mockData from "./data.json"

// Uncomment this line to use real data from Supabase
// import { useLeads } from "@/hooks/use-leads"

export default function Page() {
  const [searchQuery, setSearchQuery] = useState("")
  const [tierFilter, setTierFilter] = useState("all")

  // Uncomment these lines to use real data from Supabase
  // const { leads, isLoading, error, stats } = useLeads()
  // if (isLoading) return <div className="p-8">Loading leads...</div>
  // if (error) return <div className="p-8">Error: {error.message}</div>
  
  // Using mock data for now
  const leads = mockData
  const stats = {
    totalLeads: leads.length,
    avgScore: Math.round(leads.reduce((sum, lead) => sum + lead.score, 0) / leads.length) || 0,
    growthReady: leads.filter(lead => lead.tier.toLowerCase().includes('growth')).length,
  }

  // Filter data based on search and tier
  const filteredData = leads.filter((lead) => {
    const matchesSearch =
      searchQuery === "" ||
      lead.name.toLowerCase().includes(searchQuery.toLowerCase()) ||
      lead.email.toLowerCase().includes(searchQuery.toLowerCase()) ||
      lead.industry.toLowerCase().includes(searchQuery.toLowerCase())

    const matchesTier =
      tierFilter === "all" ||
      lead.tier.toLowerCase().replace(/[\s-]/g, "") === 
      tierFilter.toLowerCase().replace(/[\s-]/g, "")

    return matchesSearch && matchesTier
  })

  return (
    <SidebarProvider>
      <AppSidebar variant="inset" />
      <SidebarInset>
        <SiteHeader />
        <div className="flex flex-1 flex-col">
          <div className="@container/main flex flex-1 flex-col gap-2">
            <div className="flex flex-col gap-4 py-4 md:gap-6 md:py-6">
              <SectionCards stats={stats} />
              
              {/* Search and Filter Bar */}
              <div className="px-4 lg:px-6">
                <div className="flex flex-col sm:flex-row gap-4">
                  {/* Search Input */}
                  <div className="relative flex-1">
                    <Search className="absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground" />
                    <Input
                      placeholder="Search by name, email, or industry..."
                      value={searchQuery}
                      onChange={(e) => setSearchQuery(e.target.value)}
                      className="pl-10"
                    />
                  </div>

                  {/* Tier Filter */}
                  <div className="flex items-center gap-2">
                    <Filter className="h-4 w-4 text-muted-foreground" />
                    <Select value={tierFilter} onValueChange={setTierFilter}>
                      <SelectTrigger className="w-[180px]">
                        <SelectValue placeholder="All Tiers" />
                      </SelectTrigger>
                      <SelectContent>
                        <SelectItem value="all">All Tiers</SelectItem>
                        <SelectItem value="growth-ready">Growth Ready</SelectItem>
                        <SelectItem value="noise-driven">Noise-Driven</SelectItem>
                        <SelectItem value="potential">Potential</SelectItem>
                      </SelectContent>
                    </Select>
                  </div>
                </div>

                {/* Results count */}
                <div className="mt-2 text-sm text-muted-foreground">
                  Showing {filteredData.length} of {leads.length} leads
                </div>
              </div>

              <DataTable data={filteredData} />
            </div>
          </div>
        </div>
      </SidebarInset>
    </SidebarProvider>
  )
}
</file>

<file path="app/privacy/page.tsx">
import Link from 'next/link';
import { Metadata } from 'next';

export const metadata: Metadata = {
  title: 'Privacy Policy | ORIGO',
  description: 'Privacy Policy for ORIGO Market-Signal Architecture',
};

export default function PrivacyPage() {
  return (
    <main className="min-h-screen bg-[#0a0a0a] text-neutral-200">
      <div className="max-w-4xl mx-auto px-6 py-20">
        {/* Back Button */}
        <Link
          href="/"
          className="inline-flex items-center gap-2 text-sm text-neutral-400 hover:text-[#febe5d] transition-colors duration-300 mb-12"
        >
          <svg
            className="w-4 h-4"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              strokeLinecap="round"
              strokeLinejoin="round"
              strokeWidth={2}
              d="M15 19l-7-7 7-7"
            />
          </svg>
          Back to Home
        </Link>

        {/* Content */}
        <div className="prose prose-invert prose-neutral max-w-none">
          <h1 className="text-4xl md:text-5xl font-bold text-white mb-8">
            Privacy Policy
          </h1>

          <p className="text-neutral-400 text-lg mb-12">
            Last Updated: January 5, 2026
          </p>

          <section className="mb-12">
            <h2 className="text-2xl font-semibold text-white mb-4">
              1. Introduction
            </h2>
            <p className="text-neutral-300 leading-relaxed mb-4">
              Welcome to ORIGO. We respect your privacy and are committed to
              protecting your personal data. This privacy policy will inform you
              about how we handle your personal data when you visit our website
              and use our services.
            </p>
          </section>

          <section className="mb-12">
            <h2 className="text-2xl font-semibold text-white mb-4">
              2. Information We Collect
            </h2>
            <p className="text-neutral-300 leading-relaxed mb-4">
              We collect the following types of information:
            </p>
            <div className="ml-6 space-y-3">
              <p className="text-neutral-300 leading-relaxed">
                <strong className="text-white">Contact Information:</strong> Name,
                email address, role, and company industry provided through our
                assessment form.
              </p>
              <p className="text-neutral-300 leading-relaxed">
                <strong className="text-white">Assessment Data:</strong> Your
                responses to our Market Signal Assessment questions.
              </p>
              <p className="text-neutral-300 leading-relaxed">
                <strong className="text-white">Technical Data:</strong> Browser
                type, IP address, referral source, and timestamps.
              </p>
            </div>
          </section>

          <section className="mb-12">
            <h2 className="text-2xl font-semibold text-white mb-4">
              3. How We Use Your Information
            </h2>
            <p className="text-neutral-300 leading-relaxed mb-4">
              We use your information to:
            </p>
            <div className="ml-6 space-y-3">
              <p className="text-neutral-300 leading-relaxed">
                • Provide you with personalized assessment results and insights
              </p>
              <p className="text-neutral-300 leading-relaxed">
                • Contact you regarding potential advisory services
              </p>
              <p className="text-neutral-300 leading-relaxed">
                • Improve our services and website functionality
              </p>
              <p className="text-neutral-300 leading-relaxed">
                • Analyze aggregate data to understand market trends
              </p>
            </div>
          </section>

          <section className="mb-12">
            <h2 className="text-2xl font-semibold text-white mb-4">
              4. Data Security
            </h2>
            <p className="text-neutral-300 leading-relaxed mb-4">
              We implement appropriate technical and organizational measures to
              protect your personal data against unauthorized access, alteration,
              disclosure, or destruction. Your data is stored securely using
              industry-standard encryption protocols.
            </p>
          </section>

          <section className="mb-12">
            <h2 className="text-2xl font-semibold text-white mb-4">
              5. Data Retention
            </h2>
            <p className="text-neutral-300 leading-relaxed mb-4">
              We retain your personal data for as long as necessary to fulfill the
              purposes outlined in this privacy policy, unless a longer retention
              period is required by law. Assessment data is typically retained for
              analytical purposes and service improvement.
            </p>
          </section>

          <section className="mb-12">
            <h2 className="text-2xl font-semibold text-white mb-4">
              6. Your Rights
            </h2>
            <p className="text-neutral-300 leading-relaxed mb-4">
              You have the right to:
            </p>
            <div className="ml-6 space-y-3">
              <p className="text-neutral-300 leading-relaxed">
                • Access your personal data
              </p>
              <p className="text-neutral-300 leading-relaxed">
                • Request correction of inaccurate data
              </p>
              <p className="text-neutral-300 leading-relaxed">
                • Request deletion of your data
              </p>
              <p className="text-neutral-300 leading-relaxed">
                • Object to processing of your data
              </p>
              <p className="text-neutral-300 leading-relaxed">
                • Request restriction of processing
              </p>
            </div>
          </section>

          <section className="mb-12">
            <h2 className="text-2xl font-semibold text-white mb-4">
              7. Third-Party Services
            </h2>
            <p className="text-neutral-300 leading-relaxed mb-4">
              We use Supabase as our database provider. Your data is processed in
              accordance with their privacy policies and industry-standard security
              practices. We do not sell or share your personal data with third
              parties for marketing purposes.
            </p>
          </section>

          <section className="mb-12">
            <h2 className="text-2xl font-semibold text-white mb-4">
              8. Cookies and Tracking
            </h2>
            <p className="text-neutral-300 leading-relaxed mb-4">
              Our website uses essential cookies to ensure proper functionality. We
              do not use third-party advertising or tracking cookies. Technical
              cookies are necessary for the assessment tool to function correctly.
            </p>
          </section>

          <section className="mb-12">
            <h2 className="text-2xl font-semibold text-white mb-4">
              9. Changes to This Policy
            </h2>
            <p className="text-neutral-300 leading-relaxed mb-4">
              We may update this privacy policy from time to time. The latest
              version will always be available on this page with the updated date
              clearly displayed. We encourage you to review this policy
              periodically.
            </p>
          </section>

          <section className="mb-12">
            <h2 className="text-2xl font-semibold text-white mb-4">
              10. Contact Us
            </h2>
            <p className="text-neutral-300 leading-relaxed mb-4">
              If you have any questions about this privacy policy or wish to
              exercise your rights, please contact us at:
            </p>
            <p className="text-neutral-300 leading-relaxed">
              Email: privacy@origo.consulting
            </p>
          </section>
        </div>
      </div>
    </main>
  );
}
</file>

<file path="app/results/page.tsx">
'use client';

import { useEffect, useState } from 'react';
import { useRouter } from 'next/navigation';
import { useQuizStore } from '@/store/quiz-store';
import { motion } from 'framer-motion';
import { ArrowRight, RotateCcw } from 'lucide-react';

export default function ResultsPage() {
  const router = useRouter();
  const {
    calculateScorePercentage,
    getTier,
    reset,
    answers,
    contactInfo,
  } = useQuizStore();

  const [score, setScore] = useState(0);
  const [tier, setTier] = useState('');
  const [isLoading, setIsLoading] = useState(true);

  useEffect(() => {
    // Check if quiz is completed
    if (!answers || answers.length === 0 || !contactInfo) {
      // Try to restore a recent submission snapshot from sessionStorage (fallback for full reloads)
      try {
        if (typeof window !== 'undefined') {
          const raw = sessionStorage.getItem('last_quiz_result');
          if (raw) {
            const parsed = JSON.parse(raw);
            setScore(parsed.score ?? 0);
            setTier(parsed.tier ?? '');
            setIsLoading(false);
            return;
          }
        }
      } catch (e) {
        // ignore
      }

      router.push('/assessment');
      return;
    }

    // Calculate results
    const calculatedScore = calculateScorePercentage();
    const calculatedTier = getTier();

    setScore(calculatedScore);
    setTier(calculatedTier);
    setIsLoading(false);
  }, [answers, contactInfo, calculateScorePercentage, getTier, router]);

  const handleStartOver = () => {
    reset();
    router.push('/');
  };

  const handleBookCall = () => {
    // Navigate to booking or CTA
    window.open('https://cal.com/origo/strategy', '_blank');
  };

  if (isLoading) {
    return (
      <div className="min-h-screen bg-[#0a0a0a] flex items-center justify-center">
        <div className="text-center">
          <div className="inline-block animate-spin rounded-full h-12 w-12 border-4 border-[#febe5d] border-t-transparent"></div>
          <p className="text-white mt-4">Analyzing your results...</p>
        </div>
      </div>
    );
  }

  // Tier configuration
  const getTierConfig = () => {
    if (score <= 40) {
      return {
        color: 'red',
        title: 'Noise-Driven Execution',
        description: 'Your current strategy relies heavily on assumptions rather than verified signals. You are likely executing in areas with low buying intent.',
        cta: 'Watch Signal Masterclass',
        ctaAction: () => window.open('/masterclass', '_blank'),
      };
    } else if (score <= 70) {
      return {
        color: 'yellow',
        title: 'Partial Signal Clarity',
        description: 'You have found some market fit, but consistency is lacking. You are likely winning deals but unsure why or how to repeat it efficiently.',
        cta: 'Book Strategy Call',
        ctaAction: handleBookCall,
      };
    } else {
      return {
        color: 'green',
        title: 'Signal-Driven Growth',
        description: 'You have strong market visibility. The challenge now is not finding customers, but architecting decisions to capture them before competitors do.',
        cta: 'Book Executive Strategy Call',
        ctaAction: handleBookCall,
      };
    }
  };

  const tierConfig = getTierConfig();

  return (
    <div className="min-h-screen bg-[#0a0a0a] py-12 px-4">
      {/* Background Gradient */}
      <div className="absolute inset-0 bg-gradient-radial from-[#febe5d]/5 via-transparent to-transparent opacity-50 pointer-events-none" />

      <div className="max-w-4xl mx-auto relative">
        {/* Header */}
        <motion.div
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ duration: 0.6 }}
          className="text-center mb-12"
        >
          <h1 className="text-4xl md:text-5xl font-bold text-white mb-4 tracking-tight">
            Your Market Signal Assessment
          </h1>
          <p className="text-neutral-400 text-lg">
            Based on your responses, here's where you stand
          </p>
        </motion.div>

        {/* Score Card */}
        <motion.div
          initial={{ opacity: 0, scale: 0.95 }}
          animate={{ opacity: 1, scale: 1 }}
          transition={{ duration: 0.6, delay: 0.2 }}
          className="bg-[#111111]/80 backdrop-blur-xl border border-white/10 rounded-2xl p-8 mb-8"
        >
          {/* Score Display */}
          <div className="text-center mb-8">
            <div className="inline-flex items-center justify-center w-32 h-32 rounded-full bg-gradient-to-br from-[#febe5d]/20 to-transparent border-4 border-[#febe5d] mb-4">
              <span className="text-5xl font-bold text-white">{score}%</span>
            </div>
            <h2 className="text-2xl font-bold text-white mb-2">
              {tierConfig.title}
            </h2>
            <p className="text-neutral-400">
              Market Signal Readiness Score
            </p>
          </div>

          {/* Description */}
          <div className="bg-black/40 rounded-lg p-6 mb-6">
            <p className="text-neutral-300 text-lg leading-relaxed">
              {tierConfig.description}
            </p>
          </div>

          {/* CTA Buttons */}
          <div className="flex flex-col sm:flex-row gap-4">
            <button
              onClick={tierConfig.ctaAction}
              className="flex-1 py-4 px-6 bg-[#febe5d] hover:bg-[#ffc978] text-black font-semibold rounded-lg transition-all duration-300 hover:shadow-[0_0_20px_rgba(254,190,93,0.3)] flex items-center justify-center gap-2"
            >
              {tierConfig.cta}
              <ArrowRight className="w-5 h-5" />
            </button>

            <button
              onClick={handleStartOver}
              className="py-4 px-6 bg-transparent border border-white/20 text-white hover:bg-white/10 font-semibold rounded-lg transition-all duration-300 flex items-center justify-center gap-2"
            >
              <RotateCcw className="w-5 h-5" />
              Start Over
            </button>
          </div>
        </motion.div>

        {/* Insights Cards */}
        <motion.div
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ duration: 0.6, delay: 0.4 }}
          className="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8"
        >
          {/* Market Signal Insight */}
          <div className="bg-[#111111]/80 backdrop-blur-xl border border-white/10 rounded-lg p-6">
            <h3 className="text-lg font-semibold text-white mb-3">
              Market Signal
            </h3>
            <p className="text-neutral-400 text-sm">
              {score <= 40
                ? 'High noise detected. Validate demand signals before scaling.'
                : score <= 70
                ? 'Signal gaps identified. Improve consistency in market detection.'
                : 'Signal clarity confirmed. Focus on precision and speed.'}
            </p>
          </div>

          {/* Customer Priority */}
          <div className="bg-[#111111]/80 backdrop-blur-xl border border-white/10 rounded-lg p-6">
            <h3 className="text-lg font-semibold text-white mb-3">
              Customer Priority
            </h3>
            <p className="text-neutral-400 text-sm">
              {score <= 40
                ? 'CAC/LTV risk. Implement negative filtering to disqualify bad fits.'
                : score <= 70
                ? 'Priority leaks detected. Tighten qualification criteria.'
                : 'High-value focus. Shift to account expansion and LTV growth.'}
            </p>
          </div>

          {/* Execution */}
          <div className="bg-[#111111]/80 backdrop-blur-xl border border-white/10 rounded-lg p-6">
            <h3 className="text-lg font-semibold text-white mb-3">
              Execution
            </h3>
            <p className="text-neutral-400 text-sm">
              {score <= 40
                ? 'Reactive execution. Pause and build decision framework first.'
                : score <= 70
                ? 'Process inconsistency. Document decision logic for repeatability.'
                : 'Systematic scale ready. Automate signal reading for efficiency.'}
            </p>
          </div>
        </motion.div>

        {/* Footer Note */}
        <motion.div
          initial={{ opacity: 0 }}
          animate={{ opacity: 1 }}
          transition={{ duration: 0.6, delay: 0.6 }}
          className="text-center text-neutral-500 text-sm"
        >
          <p>
            This assessment is based on the ORIGO Market Signal Framework.
            <br />
            For personalized guidance, book a strategy call with our team.
          </p>
        </motion.div>
      </div>
    </div>
  );
}
</file>

<file path="app/terms/page.tsx">
import Link from 'next/link';
import { Metadata } from 'next';

export const metadata: Metadata = {
  title: 'Terms of Service | ORIGO',
  description: 'Terms of Service for ORIGO Market-Signal Architecture',
};

export default function TermsPage() {
  return (
    <main className="min-h-screen bg-[#0a0a0a] text-neutral-200">
      <div className="max-w-4xl mx-auto px-6 py-20">
        {/* Back Button */}
        <Link
          href="/"
          className="inline-flex items-center gap-2 text-sm text-neutral-400 hover:text-[#febe5d] transition-colors duration-300 mb-12"
        >
          <svg
            className="w-4 h-4"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              strokeLinecap="round"
              strokeLinejoin="round"
              strokeWidth={2}
              d="M15 19l-7-7 7-7"
            />
          </svg>
          Back to Home
        </Link>

        {/* Content */}
        <div className="prose prose-invert prose-neutral max-w-none">
          <h1 className="text-4xl md:text-5xl font-bold text-white mb-8">
            Terms of Service
          </h1>

          <p className="text-neutral-400 text-lg mb-12">
            Last Updated: January 5, 2026
          </p>

          <section className="mb-12">
            <h2 className="text-2xl font-semibold text-white mb-4">
              1. Acceptance of Terms
            </h2>
            <p className="text-neutral-300 leading-relaxed mb-4">
              By accessing and using the ORIGO website and services, you accept
              and agree to be bound by these Terms of Service. If you do not agree
              to these terms, please do not use our services.
            </p>
          </section>

          <section className="mb-12">
            <h2 className="text-2xl font-semibold text-white mb-4">
              2. Service Description
            </h2>
            <p className="text-neutral-300 leading-relaxed mb-4">
              ORIGO provides market-signal architecture consulting and assessment
              services designed to help businesses make better strategic decisions.
              Our services include:
            </p>
            <div className="ml-6 space-y-3">
              <p className="text-neutral-300 leading-relaxed">
                • Market Signal Assessment tool
              </p>
              <p className="text-neutral-300 leading-relaxed">
                • Strategic consulting and advisory services
              </p>
              <p className="text-neutral-300 leading-relaxed">
                • Decision architecture design
              </p>
              <p className="text-neutral-300 leading-relaxed">
                • Educational resources and insights
              </p>
            </div>
          </section>

          <section className="mb-12">
            <h2 className="text-2xl font-semibold text-white mb-4">
              3. User Responsibilities
            </h2>
            <p className="text-neutral-300 leading-relaxed mb-4">
              When using our services, you agree to:
            </p>
            <div className="ml-6 space-y-3">
              <p className="text-neutral-300 leading-relaxed">
                • Provide accurate and truthful information
              </p>
              <p className="text-neutral-300 leading-relaxed">
                • Use the services only for lawful purposes
              </p>
              <p className="text-neutral-300 leading-relaxed">
                • Not attempt to compromise the security of our systems
              </p>
              <p className="text-neutral-300 leading-relaxed">
                • Not misuse or abuse our assessment tools
              </p>
              <p className="text-neutral-300 leading-relaxed">
                • Respect intellectual property rights
              </p>
            </div>
          </section>

          <section className="mb-12">
            <h2 className="text-2xl font-semibold text-white mb-4">
              4. Assessment Results and Limitations
            </h2>
            <p className="text-neutral-300 leading-relaxed mb-4">
              Our Market Signal Assessment provides insights based on your
              responses. However, please note:
            </p>
            <div className="ml-6 space-y-3">
              <p className="text-neutral-300 leading-relaxed">
                • Results are for informational purposes only
              </p>
              <p className="text-neutral-300 leading-relaxed">
                • They do not constitute professional business advice
              </p>
              <p className="text-neutral-300 leading-relaxed">
                • Accuracy depends on the quality of information provided
              </p>
              <p className="text-neutral-300 leading-relaxed">
                • Results should not be solely relied upon for major business
                decisions
              </p>
            </div>
          </section>

          <section className="mb-12">
            <h2 className="text-2xl font-semibold text-white mb-4">
              5. Intellectual Property
            </h2>
            <p className="text-neutral-300 leading-relaxed mb-4">
              All content, materials, and intellectual property on the ORIGO
              website, including but not limited to text, graphics, logos, and
              assessment methodologies, are owned by ORIGO or its licensors and are
              protected by copyright and trademark laws.
            </p>
            <p className="text-neutral-300 leading-relaxed mb-4">
              You may not reproduce, distribute, modify, or create derivative works
              from our content without explicit written permission.
            </p>
          </section>

          <section className="mb-12">
            <h2 className="text-2xl font-semibold text-white mb-4">
              6. Disclaimer of Warranties
            </h2>
            <p className="text-neutral-300 leading-relaxed mb-4">
              Our services are provided on an as-is and as-available basis. We make
              no warranties, express or implied, regarding:
            </p>
            <div className="ml-6 space-y-3">
              <p className="text-neutral-300 leading-relaxed">
                • The accuracy or completeness of assessment results
              </p>
              <p className="text-neutral-300 leading-relaxed">
                • The uninterrupted or error-free operation of our website
              </p>
              <p className="text-neutral-300 leading-relaxed">
                • The suitability of our services for your specific needs
              </p>
              <p className="text-neutral-300 leading-relaxed">
                • Any particular business outcomes or results
              </p>
            </div>
          </section>

          <section className="mb-12">
            <h2 className="text-2xl font-semibold text-white mb-4">
              7. Limitation of Liability
            </h2>
            <p className="text-neutral-300 leading-relaxed mb-4">
              To the maximum extent permitted by law, ORIGO shall not be liable for
              any indirect, incidental, special, consequential, or punitive damages
              arising from your use of our services, including but not limited to:
            </p>
            <div className="ml-6 space-y-3">
              <p className="text-neutral-300 leading-relaxed">
                • Loss of profits or revenue
              </p>
              <p className="text-neutral-300 leading-relaxed">
                • Business interruption
              </p>
              <p className="text-neutral-300 leading-relaxed">
                • Loss of data or information
              </p>
              <p className="text-neutral-300 leading-relaxed">
                • Decisions made based on assessment results
              </p>
            </div>
          </section>

          <section className="mb-12">
            <h2 className="text-2xl font-semibold text-white mb-4">
              8. Consulting Services
            </h2>
            <p className="text-neutral-300 leading-relaxed mb-4">
              If you engage ORIGO for consulting services beyond the free
              assessment, separate terms and agreements will apply. These will be
              outlined in a formal engagement letter or contract.
            </p>
          </section>

          <section className="mb-12">
            <h2 className="text-2xl font-semibold text-white mb-4">
              9. Termination
            </h2>
            <p className="text-neutral-300 leading-relaxed mb-4">
              We reserve the right to terminate or suspend your access to our
              services at any time, without prior notice, for conduct that we
              believe violates these Terms of Service or is harmful to other users,
              us, or third parties.
            </p>
          </section>

          <section className="mb-12">
            <h2 className="text-2xl font-semibold text-white mb-4">
              10. Modifications to Terms
            </h2>
            <p className="text-neutral-300 leading-relaxed mb-4">
              We reserve the right to modify these Terms of Service at any time.
              Changes will be effective immediately upon posting to the website.
              Your continued use of our services after changes are posted
              constitutes acceptance of the modified terms.
            </p>
          </section>

          <section className="mb-12">
            <h2 className="text-2xl font-semibold text-white mb-4">
              11. Governing Law
            </h2>
            <p className="text-neutral-300 leading-relaxed mb-4">
              These Terms of Service shall be governed by and construed in
              accordance with applicable laws. Any disputes arising from these
              terms shall be resolved through appropriate legal channels.
            </p>
          </section>

          <section className="mb-12">
            <h2 className="text-2xl font-semibold text-white mb-4">
              12. Contact Information
            </h2>
            <p className="text-neutral-300 leading-relaxed mb-4">
              If you have any questions about these Terms of Service, please
              contact us at:
            </p>
            <p className="text-neutral-300 leading-relaxed">
              Email: legal@origo.consulting
            </p>
          </section>

          <section className="mb-12">
            <h2 className="text-2xl font-semibold text-white mb-4">
              13. Severability
            </h2>
            <p className="text-neutral-300 leading-relaxed mb-4">
              If any provision of these Terms of Service is found to be
              unenforceable or invalid, that provision shall be limited or
              eliminated to the minimum extent necessary so that these terms shall
              otherwise remain in full force and effect.
            </p>
          </section>
        </div>
      </div>
    </main>
  );
}
</file>

<file path="components.json">
{
  "$schema": "https://ui.shadcn.com/schema.json",
  "style": "new-york",
  "rsc": true,
  "tsx": true,
  "tailwind": {
    "config": "tailwind.config.ts",
    "css": "app/globals.css",
    "baseColor": "neutral",
    "cssVariables": true,
    "prefix": ""
  },
  "iconLibrary": "lucide",
  "aliases": {
    "components": "@/components",
    "utils": "@/lib/utils",
    "ui": "@/components/ui",
    "lib": "@/lib",
    "hooks": "@/hooks"
  },
  "registries": {}
}
</file>

<file path="components/admin/admin-header.tsx">
'use client';

import { useState } from 'react';
import { Menu, Bell, Search, User, Settings, LogOut } from 'lucide-react';
import { useRouter } from 'next/navigation';
import { Avatar, AvatarFallback, AvatarImage } from '@/components/ui/avatar';
import { Badge } from '@/components/ui/badge';
import {
  DropdownMenu,
  DropdownMenuContent,
  DropdownMenuItem,
  DropdownMenuLabel,
  DropdownMenuSeparator,
  DropdownMenuTrigger,
} from '@/components/ui/dropdown-menu';
import {
  Dialog,
  DialogContent,
  DialogDescription,
  DialogFooter,
  DialogHeader,
  DialogTitle,
} from '@/components/ui/dialog';
import { Button } from '@/components/ui/Button';
import { Label } from '@/components/ui/label';
import { createClient } from '@/lib/supabase/client';
import { toast } from 'sonner';

interface AdminHeaderProps {
  onMenuClick: () => void;
}

export function AdminHeader({ onMenuClick }: AdminHeaderProps) {
  const router = useRouter();
  const [notificationCount, setNotificationCount] = useState(3);
  const [profileOpen, setProfileOpen] = useState(false);
  const [notificationsOpen, setNotificationsOpen] = useState(false);

  const handleNotificationsOpen = () => {
    setNotificationsOpen(true);
    // Clear notification count when opened
    setNotificationCount(0);
  };

  const handleLogout = async () => {
    try {
      const supabase = createClient();
      await supabase.auth.signOut();
      toast.success('Logged out successfully');
      router.push('/admin/login');
    } catch (error) {
      toast.error('Failed to logout');
    }
  };

  return (
    <header className="h-16 border-b border-white/10 bg-[#111111]/50 backdrop-blur-xl flex items-center justify-between px-6">
      {/* Left Section */}
      <div className="flex items-center gap-4">
        <button
          onClick={onMenuClick}
          className="p-2 hover:bg-white/5 rounded-lg transition-colors lg:hidden"
        >
          <Menu className="w-5 h-5 text-neutral-400" />
        </button>

        {/* Search Bar */}
        <div className="hidden md:flex items-center gap-2 px-4 py-2 bg-black/40 border border-white/10 rounded-lg w-96">
          <Search className="w-4 h-4 text-neutral-500" />
          <input
            type="text"
            placeholder="Search..."
            className="flex-1 bg-transparent text-sm text-white placeholder:text-neutral-600 focus:outline-none"
          />
        </div>
      </div>

      {/* Right Section */}
      <div className="flex items-center gap-4">
        {/* Notifications */}
        <button 
          onClick={handleNotificationsOpen}
          className="relative p-2 hover:bg-white/5 rounded-lg transition-colors"
        >
          <Bell className="w-5 h-5 text-neutral-400" />
          {notificationCount > 0 && (
            <Badge className="absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 bg-[#febe5d] text-black text-xs">
              {notificationCount}
            </Badge>
          )}
        </button>

        {/* User Menu */}
        <DropdownMenu>
          <DropdownMenuTrigger asChild>
            <button className="flex items-center gap-3 hover:bg-white/5 rounded-lg px-3 py-2 transition-colors">
              <div className="text-left">
                <p className="text-sm font-medium text-white">Admin User</p>
                <p className="text-xs text-neutral-500">admin@origo.com</p>
              </div>
            </button>
          </DropdownMenuTrigger>
          <DropdownMenuContent align="end" className="w-56 bg-[#111111] border-white/10">
            <DropdownMenuLabel className="text-white">My Account</DropdownMenuLabel>
            <DropdownMenuSeparator className="bg-white/10" />
            <DropdownMenuItem 
              className="text-neutral-300 focus:text-white focus:bg-white/5 cursor-pointer"
              onClick={() => setProfileOpen(true)}
            >
              <User className="mr-2 w-4 h-4" />
              Profile
            </DropdownMenuItem>
            <DropdownMenuItem 
              className="text-neutral-300 focus:text-white focus:bg-white/5 cursor-pointer"
              onClick={() => router.push('/admin/dashboard/settings')}
            >
              <Settings className="mr-2 w-4 h-4" />
              Settings
            </DropdownMenuItem>
            <DropdownMenuSeparator className="bg-white/10" />
            <DropdownMenuItem 
              className="text-red-400 focus:text-red-300 focus:bg-red-500/10 cursor-pointer"
              onClick={handleLogout}
            >
              <LogOut className="mr-2 w-4 h-4" />
              Logout
            </DropdownMenuItem>
          </DropdownMenuContent>
        </DropdownMenu>
      </div>

      {/* Notifications Dialog */}
      <Dialog open={notificationsOpen} onOpenChange={setNotificationsOpen}>
        <DialogContent className="max-w-md">
          <DialogHeader>
            <DialogTitle>Notifications</DialogTitle>
            <DialogDescription>
              You have 3 notifications
            </DialogDescription>
          </DialogHeader>
          <div className="space-y-3 py-4">
            <div className="p-4 bg-black/40 border border-white/10 rounded-lg">
              <p className="text-sm font-medium text-white mb-1">New user registered</p>
              <p className="text-xs text-neutral-500">2 minutes ago</p>
            </div>
            <div className="p-4 bg-black/40 border border-white/10 rounded-lg">
              <p className="text-sm font-medium text-white mb-1">Assessment completed</p>
              <p className="text-xs text-neutral-500">1 hour ago</p>
            </div>
            <div className="p-4 bg-black/40 border border-white/10 rounded-lg">
              <p className="text-sm font-medium text-white mb-1">System update available</p>
              <p className="text-xs text-neutral-500">3 hours ago</p>
            </div>
          </div>
          <DialogFooter>
            <Button 
              variant="outline"
              onClick={() => setNotificationsOpen(false)}
              className="border-white/10 text-neutral-300 hover:text-white bg-white/5 hover:bg-white/10 h-10 px-4 transition-all"
            >
              Cancel
            </Button>
          </DialogFooter>
        </DialogContent>
      </Dialog>

      {/* Profile Dialog */}
      <Dialog open={profileOpen} onOpenChange={setProfileOpen}>
        <DialogContent className="max-w-md">
          <DialogHeader>
            <DialogTitle>Admin Profile</DialogTitle>
            <DialogDescription>
              Your account information
            </DialogDescription>
          </DialogHeader>
          <div className="space-y-4 py-4">
            <div className="flex items-center gap-4">
              <Avatar className="w-20 h-20">
                <AvatarFallback className="bg-[#febe5d] text-black text-xl font-bold">
                  AD
                </AvatarFallback>
              </Avatar>
              <div>
                <p className="text-lg font-semibold text-white">Admin User</p>
                <p className="text-sm text-neutral-400">System Administrator</p>
              </div>
            </div>
            <div className="space-y-3">
              <div className="space-y-1">
                <Label className="text-neutral-400">Email</Label>
                <p className="text-white font-medium">admin@origo.com</p>
              </div>
              <div className="space-y-1">
                <Label className="text-neutral-400">Role</Label>
                <p className="text-white font-medium">Administrator</p>
              </div>
              <div className="space-y-1">
                <Label className="text-neutral-400">Last Login</Label>
                <p className="text-white font-medium">{new Date().toLocaleString()}</p>
              </div>
            </div>
          </div>
          <DialogFooter>
            <Button 
              variant="outline"
              onClick={() => setProfileOpen(false)}
              className="border-white/10 text-neutral-300 hover:text-white bg-white/5 hover:bg-white/10 h-10 px-4 transition-all"
            >
              Cancel
            </Button>
          </DialogFooter>
        </DialogContent>
      </Dialog>
    </header>
  );
}
</file>

<file path="components/admin/admin-sidebar.tsx">
'use client';

import Link from 'next/link';
import { usePathname } from 'next/navigation';
import { cn } from '@/lib/utils';
import {
  LayoutDashboard,
  Users,
  FileText,
  BarChart3,
  Settings,
  LogOut,
  ChevronLeft,
  Sparkles,
} from 'lucide-react';
import { createClient } from '@/lib/supabase/client';
import { useRouter } from 'next/navigation';

interface AdminSidebarProps {
  isOpen: boolean;
  onToggle: () => void;
}

const navigation = [
  {
    name: 'Dashboard',
    href: '/admin/dashboard',
    icon: LayoutDashboard,
  },
  {
    name: 'Users',
    href: '/admin/dashboard/users',
    icon: Users,
  },
  {
    name: 'Assessments',
    href: '/admin/dashboard/assessments',
    icon: FileText,
  },
  {
    name: 'Analytics',
    href: '/admin/dashboard/analytics',
    icon: BarChart3,
  },
  {
    name: 'Settings',
    href: '/admin/dashboard/settings',
    icon: Settings,
  },
];

export function AdminSidebar({ isOpen, onToggle }: AdminSidebarProps) {
  const pathname = usePathname();
  const router = useRouter();
  const supabase = createClient();

  const handleLogout = async () => {
    await supabase.auth.signOut();
    router.push('/admin/login');
  };

  return (
    <>
      {/* Overlay for mobile */}
      {isOpen && (
        <div
          className="fixed inset-0 bg-black/50 backdrop-blur-sm z-40 lg:hidden"
          onClick={onToggle}
        />
      )}

      {/* Sidebar */}
      <aside
        className={cn(
          'fixed lg:static inset-y-0 left-0 z-50 flex flex-col',
          'bg-[#111111]/80 backdrop-blur-xl border-r border-white/10',
          'transition-all duration-300 ease-in-out',
          isOpen ? 'w-64' : 'w-0 lg:w-20',
          'overflow-hidden'
        )}
      >
        {/* Logo */}
        <div className="flex items-center justify-between h-16 px-6 border-b border-white/10">
          <div className="flex items-center gap-2">
            <div className="w-8 h-8 rounded-lg bg-gradient-to-br from-[#febe5d] to-[#ff9d00] flex items-center justify-center">
              <Sparkles className="w-5 h-5 text-black" />
            </div>
            {isOpen && (
              <span className="text-xl font-bold text-white tracking-tight">
                ORIGO
              </span>
            )}
          </div>
          {isOpen && (
            <button
              onClick={onToggle}
              className="lg:hidden p-1 hover:bg-white/5 rounded-md transition-colors"
            >
              <ChevronLeft className="w-5 h-5 text-neutral-400" />
            </button>
          )}
        </div>

        {/* Navigation */}
        <nav className="flex-1 px-3 py-6 space-y-1 overflow-y-auto">
          {navigation.map((item) => {
            const isActive = pathname === item.href;
            const Icon = item.icon;

            return (
              <Link
                key={item.name}
                href={item.href}
                className={cn(
                  'flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all',
                  'text-sm font-medium',
                  isActive
                    ? 'bg-[#febe5d]/10 text-[#febe5d] shadow-[0_0_15px_rgba(254,190,93,0.1)]'
                    : 'text-neutral-400 hover:text-white hover:bg-white/5',
                  !isOpen && 'justify-center'
                )}
              >
                <Icon className="w-5 h-5 shrink-0" />
                {isOpen && <span>{item.name}</span>}
              </Link>
            );
          })}
        </nav>

        {/* Logout Button */}
        <div className="p-3 border-t border-white/10">
          <button
            onClick={handleLogout}
            className={cn(
              'flex items-center gap-3 w-full px-3 py-2.5 rounded-lg transition-all',
              'text-sm font-medium text-neutral-400 hover:text-red-400 hover:bg-red-500/10',
              !isOpen && 'justify-center'
            )}
          >
            <LogOut className="w-5 h-5 shrink-0" />
            {isOpen && <span>Logout</span>}
          </button>
        </div>
      </aside>
    </>
  );
}
</file>

<file path="components/admin/overview.tsx">
'use client';

import { Bar, BarChart, ResponsiveContainer, XAxis, YAxis, Tooltip, CartesianGrid } from 'recharts';

const data = [
  { name: 'Jan', users: 45, assessments: 32 },
  { name: 'Feb', users: 52, assessments: 41 },
  { name: 'Mar', users: 61, assessments: 48 },
  { name: 'Apr', users: 58, assessments: 52 },
  { name: 'May', users: 73, assessments: 64 },
  { name: 'Jun', users: 85, assessments: 71 },
  { name: 'Jul', users: 92, assessments: 85 },
  { name: 'Aug', users: 88, assessments: 79 },
  { name: 'Sep', users: 95, assessments: 88 },
  { name: 'Oct', users: 102, assessments: 94 },
  { name: 'Nov', users: 110, assessments: 102 },
  { name: 'Dec', users: 125, assessments: 115 },
];

export function Overview() {
  return (
    <ResponsiveContainer width="100%" height={350}>
      <BarChart data={data}>
        <CartesianGrid strokeDasharray="3 3" stroke="#333" />
        <XAxis
          dataKey="name"
          stroke="#888"
          fontSize={12}
          tickLine={false}
          axisLine={false}
        />
        <YAxis
          stroke="#888"
          fontSize={12}
          tickLine={false}
          axisLine={false}
          tickFormatter={(value) => `${value}`}
        />
        <Tooltip
          contentStyle={{
            backgroundColor: '#111',
            border: '1px solid rgba(255,255,255,0.1)',
            borderRadius: '8px',
            color: '#fff',
          }}
          cursor={{ fill: 'rgba(254, 190, 93, 0.1)' }}
        />
        <Bar
          dataKey="users"
          fill="#febe5d"
          radius={[8, 8, 0, 0]}
          name="Users"
        />
        <Bar
          dataKey="assessments"
          fill="#888"
          radius={[8, 8, 0, 0]}
          name="Assessments"
        />
      </BarChart>
    </ResponsiveContainer>
  );
}
</file>

<file path="components/admin/recent-activity.tsx">
'use client';

import { Avatar, AvatarFallback, AvatarImage } from '@/components/ui/avatar';
import { Badge } from '@/components/ui/badge';

const activities = [
  {
    user: 'John Doe',
    email: 'john@example.com',
    action: 'Completed assessment',
    time: '2 minutes ago',
    avatar: 'https://api.dicebear.com/7.x/avataaars/svg?seed=john',
    status: 'completed',
  },
  {
    user: 'Jane Smith',
    email: 'jane@example.com',
    action: 'Started new assessment',
    time: '15 minutes ago',
    avatar: 'https://api.dicebear.com/7.x/avataaars/svg?seed=jane',
    status: 'in-progress',
  },
  {
    user: 'Mike Johnson',
    email: 'mike@example.com',
    action: 'Registered new account',
    time: '1 hour ago',
    avatar: 'https://api.dicebear.com/7.x/avataaars/svg?seed=mike',
    status: 'new',
  },
  {
    user: 'Sarah Williams',
    email: 'sarah@example.com',
    action: 'Updated profile',
    time: '2 hours ago',
    avatar: 'https://api.dicebear.com/7.x/avataaars/svg?seed=sarah',
    status: 'updated',
  },
  {
    user: 'Tom Brown',
    email: 'tom@example.com',
    action: 'Completed assessment',
    time: '3 hours ago',
    avatar: 'https://api.dicebear.com/7.x/avataaars/svg?seed=tom',
    status: 'completed',
  },
];

const statusColors = {
  completed: 'bg-green-500/10 text-green-400 border-green-500/20',
  'in-progress': 'bg-blue-500/10 text-blue-400 border-blue-500/20',
  new: 'bg-purple-500/10 text-purple-400 border-purple-500/20',
  updated: 'bg-yellow-500/10 text-yellow-400 border-yellow-500/20',
};

export function RecentActivity() {
  return (
    <div className="space-y-4">
      {activities.map((activity, index) => (
        <div
          key={index}
          className="flex items-start gap-4 p-3 rounded-lg hover:bg-white/5 transition-colors"
        >
          <Avatar className="h-10 w-10">
            <AvatarImage src={activity.avatar} alt={activity.user} />
            <AvatarFallback className="bg-[#febe5d]/20 text-[#febe5d]">
              {activity.user
                .split(' ')
                .map((n) => n[0])
                .join('')}
            </AvatarFallback>
          </Avatar>
          <div className="flex-1 space-y-1">
            <div className="flex items-center justify-between">
              <p className="text-sm font-medium text-white">{activity.user}</p>
              <Badge
                variant="outline"
                className={`text-xs ${statusColors[activity.status as keyof typeof statusColors]}`}
              >
                {activity.status}
              </Badge>
            </div>
            <p className="text-sm text-neutral-400">{activity.action}</p>
            <p className="text-xs text-neutral-600">{activity.time}</p>
          </div>
        </div>
      ))}
    </div>
  );
}
</file>

<file path="components/admin/stats-cards.tsx">
'use client';

import { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';
import { Users, FileText, TrendingUp, CheckCircle } from 'lucide-react';

interface StatsCardsProps {
  stats: {
    totalUsers: number;
    totalAssessments: number;
    activeUsers: number;
    completionRate: number;
  };
}

export function StatsCards({ stats }: StatsCardsProps) {
  const cards = [
    {
      title: 'Total Users',
      value: stats.totalUsers.toLocaleString(),
      change: '+12.5%',
      icon: Users,
      color: 'text-blue-400',
      bgColor: 'bg-blue-500/10',
    },
    {
      title: 'Total Assessments',
      value: stats.totalAssessments.toLocaleString(),
      change: '+8.2%',
      icon: FileText,
      color: 'text-green-400',
      bgColor: 'bg-green-500/10',
    },
    {
      title: 'Active Users',
      value: stats.activeUsers.toLocaleString(),
      change: '+5.3%',
      icon: TrendingUp,
      color: 'text-purple-400',
      bgColor: 'bg-purple-500/10',
    },
    {
      title: 'Completion Rate',
      value: `${stats.completionRate}%`,
      change: '+2.1%',
      icon: CheckCircle,
      color: 'text-[#febe5d]',
      bgColor: 'bg-[#febe5d]/10',
    },
  ];

  return (
    <div className="grid gap-4 md:grid-cols-2 lg:grid-cols-4">
      {cards.map((card, index) => {
        const Icon = card.icon;
        return (
          <Card
            key={index}
            className="bg-[#111111]/80 backdrop-blur-xl border-white/10 hover:border-white/20 transition-all"
          >
            <CardHeader className="flex flex-row items-center justify-between pb-2">
              <CardTitle className="text-sm font-medium text-neutral-400">
                {card.title}
              </CardTitle>
              <div className={`p-2 rounded-lg ${card.bgColor}`}>
                <Icon className={`w-4 h-4 ${card.color}`} />
              </div>
            </CardHeader>
            <CardContent>
              <div className="text-2xl font-bold text-white mb-1">
                {card.value}
              </div>
              <p className="text-xs text-green-400">
                {card.change} from last month
              </p>
            </CardContent>
          </Card>
        );
      })}
    </div>
  );
}
</file>

<file path="components/app-sidebar.tsx">
"use client"

import * as React from "react"
import {
  LayoutDashboardIcon,
  UsersIcon,
  BarChartIcon,
  SettingsIcon,
  HelpCircleIcon,
  TrendingUpIcon,
} from "lucide-react"

import { NavMain } from "@/components/nav-main"
import { NavSecondary } from "@/components/nav-secondary"
import { NavUser } from "@/components/nav-user"
import {
  Sidebar,
  SidebarContent,
  SidebarFooter,
  SidebarHeader,
  SidebarMenu,
  SidebarMenuButton,
  SidebarMenuItem,
} from "@/components/ui/sidebar"

const data = {
  user: {
    name: "Admin",
    email: "admin@origo.com",
    avatar: "/avatars/shadcn.jpg",
  },
  navMain: [
    {
      title: "Dashboard",
      url: "/dashboard",
      icon: LayoutDashboardIcon,
    },
    {
      title: "Leads",
      url: "/dashboard",
      icon: UsersIcon,
    },
    {
      title: "Analytics",
      url: "#",
      icon: BarChartIcon,
    },
  ],
  navSecondary: [
    {
      title: "Settings",
      url: "#",
      icon: SettingsIcon,
    },
    {
      title: "Get Help",
      url: "#",
      icon: HelpCircleIcon,
    },
  ],
}

export function AppSidebar({ ...props }: React.ComponentProps<typeof Sidebar>) {
  return (
    <Sidebar collapsible="offcanvas" {...props}>
      <SidebarHeader>
        <SidebarMenu>
          <SidebarMenuItem>
            <SidebarMenuButton
              asChild
              className="data-[slot=sidebar-menu-button]:!p-1.5"
            >
              <a href="/dashboard">
                <TrendingUpIcon className="h-5 w-5" />
                <span className="text-base font-semibold">ORIGO</span>
              </a>
            </SidebarMenuButton>
          </SidebarMenuItem>
        </SidebarMenu>
      </SidebarHeader>
      <SidebarContent>
        <NavMain items={data.navMain} />
        <NavSecondary items={data.navSecondary} className="mt-auto" />
      </SidebarContent>
      <SidebarFooter>
        <NavUser user={data.user} />
      </SidebarFooter>
    </Sidebar>
  )
}
</file>

<file path="components/assessment/ProgressBar.tsx">
"use client";

import { motion } from "framer-motion";
import { TOTAL_QUESTIONS } from "@/data/questions";

interface ProgressBarProps {
  currentQuestion: number;
  totalQuestions?: number;
}

export default function ProgressBar({
  currentQuestion,
  totalQuestions = TOTAL_QUESTIONS,
}: ProgressBarProps) {
  const progress = ((currentQuestion + 1) / totalQuestions) * 100;

  return (
    <div className="w-full space-y-3">
      {/* Progress Text */}
      <div className="flex items-center justify-between text-sm">
        <span className="text-origo-grey">
          Question{" "}
          <span className="text-white font-semibold">{currentQuestion + 1}</span>{" "}
          of {totalQuestions}
        </span>
        <span className="text-origo-gold font-semibold">{Math.round(progress)}%</span>
      </div>

      {/* Progress Bar Track */}
      <div className="relative w-full h-0.5 bg-white/10 rounded-full overflow-hidden">
        {/* Animated Progress Fill (The Laser) */}
        <motion.div
          className="absolute top-0 left-0 h-full bg-origo-gold shadow-laser"
          initial={{ width: 0 }}
          animate={{ width: `${progress}%` }}
          transition={{ duration: 0.5, ease: [0.16, 1, 0.3, 1] }}
        />
      </div>
    </div>
  );
}
</file>

<file path="components/assessment/QuestionCard.tsx">
"use client";

import { motion, AnimatePresence } from "framer-motion";
import { Question, QuestionOption } from "@/data/questions";
import { cn } from "@/lib/utils";
import { CheckCircle2 } from "lucide-react";

interface QuestionCardProps {
  question: Question;
  currentAnswer?: string | number;
  onAnswer: (value: string | number, score?: number) => void;
}

export default function QuestionCard({
  question,
  currentAnswer,
  onAnswer,
}: QuestionCardProps) {
  const isTextInput = question.type === "text" || question.type === "email";
  const isTextarea = question.type === "textarea";

  // Handle option selection
  const handleSelectOption = (option: QuestionOption | string) => {
    if (typeof option === "string") {
      onAnswer(option);
    } else {
      onAnswer(option.value, option.value);
    }
  };

  // Handle text input
  const handleTextInput = (value: string) => {
    onAnswer(value);
  };

  return (
    <AnimatePresence mode="wait">
      <motion.div
        key={question.id}
        initial={{ opacity: 0, y: 20 }}
        animate={{ opacity: 1, y: 0 }}
        exit={{ opacity: 0, y: -20 }}
        transition={{ duration: 0.5, ease: [0.16, 1, 0.3, 1] }}
        className="w-full"
      >
        {/* Question Card */}
        <div className="bg-origo-charcoal border border-white/10 rounded-2xl p-8 md:p-12 shadow-2xl">
          {/* Question Text */}
          <h2 className="text-2xl md:text-3xl font-bold text-white mb-8 leading-tight">
            {question.text}
          </h2>

          {/* Answer Options */}
          <div className="space-y-4">
            {/* Select Options (Multiple Choice) */}
            {question.options && !isTextarea && !isTextInput && (
              <div className="space-y-3">
                {question.options.map((option, index) => {
                  const isObject = typeof option === "object";
                  const optionValue = isObject ? option.value : option;
                  const optionLabel = isObject ? option.label : option;
                  const isSelected = currentAnswer === optionValue;

                  return (
                    <motion.button
                      key={index}
                      onClick={() => handleSelectOption(option)}
                      whileHover={{ scale: 1.01 }}
                      whileTap={{ scale: 0.99 }}
                      className={cn(
                        "w-full text-left p-5 rounded-xl border-2 transition-all duration-300 group",
                        isSelected
                          ? "bg-origo-gold/10 border-origo-gold shadow-gold-glow"
                          : "bg-transparent border-white/10 hover:border-origo-gold/50 hover:bg-white/5"
                      )}
                    >
                      <div className="flex items-center justify-between">
                        <span
                          className={cn(
                            "text-base md:text-lg font-medium transition-colors",
                            isSelected ? "text-white" : "text-origo-grey group-hover:text-white"
                          )}
                        >
                          {optionLabel}
                        </span>
                        {isSelected && (
                          <motion.div
                            initial={{ scale: 0, rotate: -180 }}
                            animate={{ scale: 1, rotate: 0 }}
                            transition={{ duration: 0.3, ease: "backOut" }}
                          >
                            <CheckCircle2 className="w-6 h-6 text-origo-gold" />
                          </motion.div>
                        )}
                      </div>
                    </motion.button>
                  );
                })}
              </div>
            )}

            {/* Text Input */}
            {isTextInput && (
              <input
                type={question.type}
                placeholder="Type your answer..."
                value={(currentAnswer as string) || ""}
                onChange={(e) => handleTextInput(e.target.value)}
                className="w-full bg-transparent border-2 border-white/10 rounded-xl px-6 py-4 text-white text-lg placeholder:text-origo-grey focus:border-origo-gold focus:outline-none transition-colors duration-300"
              />
            )}

            {/* Textarea */}
            {isTextarea && (
              <textarea
                placeholder="Share your thoughts... (Optional)"
                value={(currentAnswer as string) || ""}
                onChange={(e) => handleTextInput(e.target.value)}
                rows={4}
                className="w-full bg-transparent border-2 border-white/10 rounded-xl px-6 py-4 text-white text-lg placeholder:text-origo-grey focus:border-origo-gold focus:outline-none transition-colors duration-300 resize-none"
              />
            )}
          </div>
        </div>
      </motion.div>
    </AnimatePresence>
  );
}
</file>

<file path="components/assessment/QuizContainer.tsx">
'use client';

import { useRouter } from 'next/navigation';
import { useState } from 'react';
import { useQuizStore } from '@/store/quiz-store';
import { ASSESSMENT_QUESTIONS } from '@/data/questions';
import { motion, AnimatePresence } from 'framer-motion';
import { ArrowLeft, ArrowRight, AlertCircle } from 'lucide-react';

// Type for question options
type QuestionOption = 
  | string 
  | { label: string; value: number | string };

export default function QuizContainer() {
  const router = useRouter();
  const {
    currentStep,
    setAnswer,
    nextStep,
    previousStep,
    getCurrentQuestion,
    getAnswer,
    isQuizComplete,
    submitQuiz,
    isSubmitting,
    submissionError,
    hasSubmitted,
  } = useQuizStore();

  const [localSubmitting, setLocalSubmitting] = useState(false);

  const currentQuestion = getCurrentQuestion();
  const currentAnswer = currentQuestion ? getAnswer(currentQuestion.id) : undefined;
  const isLastQuestion = currentStep === ASSESSMENT_QUESTIONS.length - 1;
  const canGoNext = currentAnswer !== undefined;

  // Handle answer selection
  const handleAnswerSelect = (value: string | number) => {
    if (currentQuestion) {
      setAnswer(currentQuestion.id, value);
    }
  };

  // Handle next button
  const handleNext = async () => {
    if (isLastQuestion && isQuizComplete()) {
      if (isSubmitting || localSubmitting || hasSubmitted) return; // prevent re-entry
      setLocalSubmitting(true);
      try {
        await handleSubmit();
      } finally {
        setLocalSubmitting(false);
      }
    } else {
      nextStep();
    }
  };

  // Handle submit with enhanced error handling
  const handleSubmit = async () => {
    try {
      console.log('🚀 Starting submission...');
      await submitQuiz();
      console.log('✅ Submission successful, redirecting...');
      router.push('/results');
    } catch (error) {
      console.error('❌ Submission error:', error);
      // Error is already set in store, just log it here
    }
  };

  // Handle previous button
  const handlePrevious = () => {
    if (currentStep > 0) {
      previousStep();
    }
  };

  if (!currentQuestion) {
    return (
      <div className="min-h-screen bg-[#0a0a0a] flex items-center justify-center">
        <p className="text-white">Loading...</p>
      </div>
    );
  }

  // Calculate progress
  const progress = ((currentStep + 1) / ASSESSMENT_QUESTIONS.length) * 100;

  return (
    <div className="min-h-screen bg-[#0a0a0a] py-8 px-4">
      {/* Background Gradient */}
      <div className="absolute inset-0 bg-gradient-radial from-[#febe5d]/5 via-transparent to-transparent opacity-50 pointer-events-none" />

      <div className="max-w-3xl mx-auto relative">
        {/* Progress Bar */}
        <div className="mb-8">
          <div className="flex items-center justify-between mb-2">
            <span className="text-sm text-neutral-400">
              Question {currentStep + 1} of {ASSESSMENT_QUESTIONS.length}
            </span>
            <span className="text-sm text-[#febe5d] font-semibold">
              {Math.round(progress)}%
            </span>
          </div>
          <div className="h-2 bg-neutral-900 rounded-full overflow-hidden">
            <motion.div
              className="h-full bg-gradient-to-r from-[#febe5d] to-[#ffc978]"
              initial={{ width: 0 }}
              animate={{ width: `${progress}%` }}
              transition={{ duration: 0.3, ease: 'easeOut' }}
            />
          </div>
        </div>

        {/* Question Card */}
        <AnimatePresence mode="wait">
          <motion.div
            key={currentQuestion.id}
            initial={{ opacity: 0, x: 20 }}
            animate={{ opacity: 1, x: 0 }}
            exit={{ opacity: 0, x: -20 }}
            transition={{ duration: 0.3 }}
            className="bg-[#111111]/80 backdrop-blur-xl border border-white/10 rounded-2xl p-8 mb-6"
          >
            {/* Category Badge */}
            {currentQuestion.category && (
              <div className="inline-block mb-4 px-3 py-1 bg-[#febe5d]/10 border border-[#febe5d]/20 rounded-full">
                <span className="text-xs font-medium text-[#febe5d] uppercase tracking-wide">
                  {currentQuestion.category}
                </span>
              </div>
            )}

            {/* Question Text */}
            <h2 className="text-2xl md:text-3xl font-bold text-white mb-8 leading-tight">
              {currentQuestion.text}
            </h2>

            {/* Answer Options */}
            <div className="space-y-3">
              {currentQuestion.type === 'select' && currentQuestion.options && (
                <>
                  {currentQuestion.options.map((option: QuestionOption, index: number) => {
                    const optionValue = typeof option === 'object' && 'value' in option 
                      ? option.value 
                      : option;
                    const optionLabel = typeof option === 'object' && 'label' in option 
                      ? option.label 
                      : option;
                    
                    // ✅ แก้ไข: เช็ค isSelected ให้ถูกต้อง
                    // เปรียบเทียบทั้ง value และ label เพราะ store อาจเก็บอย่างใดอย่างหนึ่ง
                    const isSelected = 
                      currentAnswer === optionValue || 
                      String(currentAnswer) === String(optionValue) ||
                      currentAnswer === optionLabel || 
                      String(currentAnswer) === String(optionLabel);

                    return (
                      <button
                        key={index}
                        onClick={() => handleAnswerSelect(optionValue)}
                        className={`w-full text-left p-4 rounded-lg border-2 transition-all duration-200 ${
                          isSelected
                            ? 'border-[#febe5d] bg-[#febe5d]/10'
                            : 'border-white/10 bg-black/40 hover:border-white/30 hover:bg-white/5'
                        }`}
                      >
                        <span className={`text-base ${
                          isSelected ? 'text-white font-medium' : 'text-neutral-300'
                        }`}>
                          {String(optionLabel)}
                        </span>
                      </button>
                    );
                  })}
                </>
              )}

              {/* Text Input */}
              {currentQuestion.type === 'text' && (
                <input
                  type="text"
                  value={String(currentAnswer || '')}
                  onChange={(e) => handleAnswerSelect(e.target.value)}
                  placeholder="Enter your answer..."
                  className="w-full p-4 bg-black/40 border border-white/10 rounded-lg text-white placeholder:text-neutral-600 focus:outline-none focus:border-[#febe5d]/50 focus:ring-2 focus:ring-[#febe5d]/20 transition-all"
                />
              )}

              {/* Email Input */}
              {currentQuestion.type === 'email' && (
                <input
                  type="email"
                  value={String(currentAnswer || '')}
                  onChange={(e) => handleAnswerSelect(e.target.value)}
                  placeholder="your@email.com"
                  className="w-full p-4 bg-black/40 border border-white/10 rounded-lg text-white placeholder:text-neutral-600 focus:outline-none focus:border-[#febe5d]/50 focus:ring-2 focus:ring-[#febe5d]/20 transition-all"
                />
              )}

              {/* Textarea */}
              {currentQuestion.type === 'textarea' && (
                <textarea
                  value={String(currentAnswer || '')}
                  onChange={(e) => handleAnswerSelect(e.target.value)}
                  placeholder="Enter your answer..."
                  rows={4}
                  className="w-full p-4 bg-black/40 border border-white/10 rounded-lg text-white placeholder:text-neutral-600 focus:outline-none focus:border-[#febe5d]/50 focus:ring-2 focus:ring-[#febe5d]/20 transition-all resize-none"
                />
              )}
            </div>
          </motion.div>
        </AnimatePresence>

        {/* Error Message - Enhanced Design */}
        {submissionError && (
          <motion.div
            initial={{ opacity: 0, y: -10 }}
            animate={{ opacity: 1, y: 0 }}
            className="mb-6 p-4 bg-red-500/10 border border-red-500/30 rounded-xl backdrop-blur-sm"
          >
            <div className="flex items-start gap-3">
              <AlertCircle className="w-5 h-5 text-red-400 flex-shrink-0 mt-0.5" />
              <div className="flex-1">
                <h3 className="text-sm font-semibold text-red-300 mb-1">
                  เกิดข้อผิดพลาด
                </h3>
                <p className="text-sm text-red-200/90">{submissionError}</p>
              </div>
            </div>
          </motion.div>
        )}

        {/* Navigation Buttons */}
        <div className="flex items-center justify-between gap-4">
          {/* Previous Button */}
          <button
            onClick={handlePrevious}
            disabled={currentStep === 0}
            className="flex items-center gap-2 px-6 py-3 bg-transparent border border-white/20 text-white rounded-lg transition-all duration-200 hover:bg-white/5 disabled:opacity-30 disabled:cursor-not-allowed"
          >
            <ArrowLeft className="w-5 h-5" />
            <span>Previous</span>
          </button>

          {/* Next/Submit Button */}
          <button
            onClick={handleNext}
            disabled={!canGoNext || isSubmitting || localSubmitting || hasSubmitted}
            className="flex items-center gap-2 px-8 py-3 bg-[#febe5d] hover:bg-[#ffc978] text-black font-semibold rounded-lg transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed hover:shadow-[0_0_20px_rgba(254,190,93,0.3)]"
          >
            <span>
              {isSubmitting 
                ? 'กำลังส่ง...' 
                : isLastQuestion 
                  ? 'ส่งแบบประเมิน' 
                  : 'ถัดไป'
              }
            </span>
            {!isLastQuestion && !isSubmitting && <ArrowRight className="w-5 h-5" />}
          </button>
        </div>
      </div>
    </div>
  );
}
</file>

<file path="components/chart-area-interactive.tsx">
"use client"

import * as React from "react"
import { Area, AreaChart, CartesianGrid, XAxis } from "recharts"

import { useIsMobile } from "@/hooks/use-mobile"
import {
  Card,
  CardContent,
  CardDescription,
  CardHeader,
  CardTitle,
} from "@/components/ui/card"
import {
  ChartConfig,
  ChartContainer,
  ChartTooltip,
  ChartTooltipContent,
} from "@/components/ui/chart"
import {
  Select,
  SelectContent,
  SelectItem,
  SelectTrigger,
  SelectValue,
} from "@/components/ui/select"
import {
  ToggleGroup,
  ToggleGroupItem,
} from "@/components/ui/toggle-group"
const chartData = [
  { date: "2024-04-01", desktop: 222, mobile: 150 },
  { date: "2024-04-02", desktop: 97, mobile: 180 },
  { date: "2024-04-03", desktop: 167, mobile: 120 },
  { date: "2024-04-04", desktop: 242, mobile: 260 },
  { date: "2024-04-05", desktop: 373, mobile: 290 },
  { date: "2024-04-06", desktop: 301, mobile: 340 },
  { date: "2024-04-07", desktop: 245, mobile: 180 },
  { date: "2024-04-08", desktop: 409, mobile: 320 },
  { date: "2024-04-09", desktop: 59, mobile: 110 },
  { date: "2024-04-10", desktop: 261, mobile: 190 },
  { date: "2024-04-11", desktop: 327, mobile: 350 },
  { date: "2024-04-12", desktop: 292, mobile: 210 },
  { date: "2024-04-13", desktop: 342, mobile: 380 },
  { date: "2024-04-14", desktop: 137, mobile: 220 },
  { date: "2024-04-15", desktop: 120, mobile: 170 },
  { date: "2024-04-16", desktop: 138, mobile: 190 },
  { date: "2024-04-17", desktop: 446, mobile: 360 },
  { date: "2024-04-18", desktop: 364, mobile: 410 },
  { date: "2024-04-19", desktop: 243, mobile: 180 },
  { date: "2024-04-20", desktop: 89, mobile: 150 },
  { date: "2024-04-21", desktop: 137, mobile: 200 },
  { date: "2024-04-22", desktop: 224, mobile: 170 },
  { date: "2024-04-23", desktop: 138, mobile: 230 },
  { date: "2024-04-24", desktop: 387, mobile: 290 },
  { date: "2024-04-25", desktop: 215, mobile: 250 },
  { date: "2024-04-26", desktop: 75, mobile: 130 },
  { date: "2024-04-27", desktop: 383, mobile: 420 },
  { date: "2024-04-28", desktop: 122, mobile: 180 },
  { date: "2024-04-29", desktop: 315, mobile: 240 },
  { date: "2024-04-30", desktop: 454, mobile: 380 },
  { date: "2024-05-01", desktop: 165, mobile: 220 },
  { date: "2024-05-02", desktop: 293, mobile: 310 },
  { date: "2024-05-03", desktop: 247, mobile: 190 },
  { date: "2024-05-04", desktop: 385, mobile: 420 },
  { date: "2024-05-05", desktop: 481, mobile: 390 },
  { date: "2024-05-06", desktop: 498, mobile: 520 },
  { date: "2024-05-07", desktop: 388, mobile: 300 },
  { date: "2024-05-08", desktop: 149, mobile: 210 },
  { date: "2024-05-09", desktop: 227, mobile: 180 },
  { date: "2024-05-10", desktop: 293, mobile: 330 },
  { date: "2024-05-11", desktop: 335, mobile: 270 },
  { date: "2024-05-12", desktop: 197, mobile: 240 },
  { date: "2024-05-13", desktop: 197, mobile: 160 },
  { date: "2024-05-14", desktop: 448, mobile: 490 },
  { date: "2024-05-15", desktop: 473, mobile: 380 },
  { date: "2024-05-16", desktop: 338, mobile: 400 },
  { date: "2024-05-17", desktop: 499, mobile: 420 },
  { date: "2024-05-18", desktop: 315, mobile: 350 },
  { date: "2024-05-19", desktop: 235, mobile: 180 },
  { date: "2024-05-20", desktop: 177, mobile: 230 },
  { date: "2024-05-21", desktop: 82, mobile: 140 },
  { date: "2024-05-22", desktop: 81, mobile: 120 },
  { date: "2024-05-23", desktop: 252, mobile: 290 },
  { date: "2024-05-24", desktop: 294, mobile: 220 },
  { date: "2024-05-25", desktop: 201, mobile: 250 },
  { date: "2024-05-26", desktop: 213, mobile: 170 },
  { date: "2024-05-27", desktop: 420, mobile: 460 },
  { date: "2024-05-28", desktop: 233, mobile: 190 },
  { date: "2024-05-29", desktop: 78, mobile: 130 },
  { date: "2024-05-30", desktop: 340, mobile: 280 },
  { date: "2024-05-31", desktop: 178, mobile: 230 },
  { date: "2024-06-01", desktop: 178, mobile: 200 },
  { date: "2024-06-02", desktop: 470, mobile: 410 },
  { date: "2024-06-03", desktop: 103, mobile: 160 },
  { date: "2024-06-04", desktop: 439, mobile: 380 },
  { date: "2024-06-05", desktop: 88, mobile: 140 },
  { date: "2024-06-06", desktop: 294, mobile: 250 },
  { date: "2024-06-07", desktop: 323, mobile: 370 },
  { date: "2024-06-08", desktop: 385, mobile: 320 },
  { date: "2024-06-09", desktop: 438, mobile: 480 },
  { date: "2024-06-10", desktop: 155, mobile: 200 },
  { date: "2024-06-11", desktop: 92, mobile: 150 },
  { date: "2024-06-12", desktop: 492, mobile: 420 },
  { date: "2024-06-13", desktop: 81, mobile: 130 },
  { date: "2024-06-14", desktop: 426, mobile: 380 },
  { date: "2024-06-15", desktop: 307, mobile: 350 },
  { date: "2024-06-16", desktop: 371, mobile: 310 },
  { date: "2024-06-17", desktop: 475, mobile: 520 },
  { date: "2024-06-18", desktop: 107, mobile: 170 },
  { date: "2024-06-19", desktop: 341, mobile: 290 },
  { date: "2024-06-20", desktop: 408, mobile: 450 },
  { date: "2024-06-21", desktop: 169, mobile: 210 },
  { date: "2024-06-22", desktop: 317, mobile: 270 },
  { date: "2024-06-23", desktop: 480, mobile: 530 },
  { date: "2024-06-24", desktop: 132, mobile: 180 },
  { date: "2024-06-25", desktop: 141, mobile: 190 },
  { date: "2024-06-26", desktop: 434, mobile: 380 },
  { date: "2024-06-27", desktop: 448, mobile: 490 },
  { date: "2024-06-28", desktop: 149, mobile: 200 },
  { date: "2024-06-29", desktop: 103, mobile: 160 },
  { date: "2024-06-30", desktop: 446, mobile: 400 },
]

const chartConfig = {
  visitors: {
    label: "Visitors",
  },
  desktop: {
    label: "Desktop",
    color: "hsl(var(--chart-1))",
  },
  mobile: {
    label: "Mobile",
    color: "hsl(var(--chart-2))",
  },
} satisfies ChartConfig

export function ChartAreaInteractive() {
  const isMobile = useIsMobile()
  const [timeRange, setTimeRange] = React.useState("30d")

  React.useEffect(() => {
    if (isMobile) {
      setTimeRange("7d")
    }
  }, [isMobile])

  const filteredData = chartData.filter((item) => {
    const date = new Date(item.date)
    const referenceDate = new Date("2024-06-30")
    let daysToSubtract = 90
    if (timeRange === "30d") {
      daysToSubtract = 30
    } else if (timeRange === "7d") {
      daysToSubtract = 7
    }
    const startDate = new Date(referenceDate)
    startDate.setDate(startDate.getDate() - daysToSubtract)
    return date >= startDate
  })

  return (
    <Card className="@container/card">
      <CardHeader className="relative">
        <CardTitle>Total Visitors</CardTitle>
        <CardDescription>
          <span className="@[540px]/card:block hidden">
            Total for the last 3 months
          </span>
          <span className="@[540px]/card:hidden">Last 3 months</span>
        </CardDescription>
        <div className="absolute right-4 top-4">
          <ToggleGroup
            type="single"
            value={timeRange}
            onValueChange={setTimeRange}
            variant="outline"
            className="@[767px]/card:flex hidden"
          >
            <ToggleGroupItem value="90d" className="h-8 px-2.5">
              Last 3 months
            </ToggleGroupItem>
            <ToggleGroupItem value="30d" className="h-8 px-2.5">
              Last 30 days
            </ToggleGroupItem>
            <ToggleGroupItem value="7d" className="h-8 px-2.5">
              Last 7 days
            </ToggleGroupItem>
          </ToggleGroup>
          <Select value={timeRange} onValueChange={setTimeRange}>
            <SelectTrigger
              className="@[767px]/card:hidden flex w-40"
              aria-label="Select a value"
            >
              <SelectValue placeholder="Last 3 months" />
            </SelectTrigger>
            <SelectContent className="rounded-xl">
              <SelectItem value="90d" className="rounded-lg">
                Last 3 months
              </SelectItem>
              <SelectItem value="30d" className="rounded-lg">
                Last 30 days
              </SelectItem>
              <SelectItem value="7d" className="rounded-lg">
                Last 7 days
              </SelectItem>
            </SelectContent>
          </Select>
        </div>
      </CardHeader>
      <CardContent className="px-2 pt-4 sm:px-6 sm:pt-6">
        <ChartContainer
          config={chartConfig}
          className="aspect-auto h-[250px] w-full"
        >
          <AreaChart data={filteredData}>
            <defs>
              <linearGradient id="fillDesktop" x1="0" y1="0" x2="0" y2="1">
                <stop
                  offset="5%"
                  stopColor="var(--color-desktop)"
                  stopOpacity={1.0}
                />
                <stop
                  offset="95%"
                  stopColor="var(--color-desktop)"
                  stopOpacity={0.1}
                />
              </linearGradient>
              <linearGradient id="fillMobile" x1="0" y1="0" x2="0" y2="1">
                <stop
                  offset="5%"
                  stopColor="var(--color-mobile)"
                  stopOpacity={0.8}
                />
                <stop
                  offset="95%"
                  stopColor="var(--color-mobile)"
                  stopOpacity={0.1}
                />
              </linearGradient>
            </defs>
            <CartesianGrid vertical={false} />
            <XAxis
              dataKey="date"
              tickLine={false}
              axisLine={false}
              tickMargin={8}
              minTickGap={32}
              tickFormatter={(value) => {
                const date = new Date(value)
                return date.toLocaleDateString("en-US", {
                  month: "short",
                  day: "numeric",
                })
              }}
            />
            <ChartTooltip
              cursor={false}
              content={
                <ChartTooltipContent
                  labelFormatter={(value) => {
                    return new Date(value).toLocaleDateString("en-US", {
                      month: "short",
                      day: "numeric",
                    })
                  }}
                  indicator="dot"
                />
              }
            />
            <Area
              dataKey="mobile"
              type="natural"
              fill="url(#fillMobile)"
              stroke="var(--color-mobile)"
              stackId="a"
            />
            <Area
              dataKey="desktop"
              type="natural"
              fill="url(#fillDesktop)"
              stroke="var(--color-desktop)"
              stackId="a"
            />
          </AreaChart>
        </ChartContainer>
      </CardContent>
    </Card>
  )
}
</file>

<file path="components/landing/ValueProps.tsx">
"use client";

import { motion } from "framer-motion";
import SectionContainer from "@/components/ui/SectionContainer";
import { Target, Cpu, TrendingUp, LucideIcon } from "lucide-react";

interface ValuePropCardProps {
  icon: LucideIcon;
  title: string;
  description: string;
  index: number;
}

function ValuePropCard({ icon: Icon, title, description, index }: ValuePropCardProps) {
  return (
    <motion.div
      initial={{ opacity: 0, y: 30 }}
      whileInView={{ opacity: 1, y: 0 }}
      viewport={{ once: true, margin: "-100px" }}
      transition={{
        duration: 0.8,
        delay: index * 0.2,
        ease: [0.16, 1, 0.3, 1],
      }}
      className="group relative h-full"
    >
      {/* Hover Glow Background */}
      <div className="absolute inset-0 bg-[#febe5d]/0 group-hover:bg-[#febe5d]/5 rounded-2xl blur-xl transition-all duration-500 -z-10" />

      {/* Card Container */}
      <div className="h-full bg-[#111111]/80 backdrop-blur-xl border-2 border-white/10 rounded-2xl p-8 md:p-10 transition-all duration-300 group-hover:border-[#febe5d] group-hover:shadow-[0_0_30px_rgba(254,190,93,0.2)] group-hover:-translate-y-2">
        {/* Icon Container */}
        <div className="mb-6">
          <div className="w-16 h-16 rounded-xl bg-[#febe5d]/10 border border-[#febe5d]/20 flex items-center justify-center group-hover:bg-[#febe5d]/20 group-hover:border-[#febe5d]/40 transition-all duration-300">
            <Icon className="w-8 h-8 text-[#febe5d]" strokeWidth={2} />
          </div>
        </div>

        {/* Content */}
        <h3 className="text-2xl md:text-3xl font-bold text-white mb-4 tracking-tight group-hover:text-[#febe5d] transition-colors duration-300">
          {title}
        </h3>
        <p className="text-base md:text-lg text-[#a3a3a3] leading-relaxed">
          {description}
        </p>

        {/* Bottom Border Accent */}
        <div className="absolute bottom-0 left-0 right-0 h-1 bg-linear-to-r from-transparent via-[#febe5d] to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500" />
      </div>
    </motion.div>
  );
}

export default function ValueProps() {
  const valueProps = [
    {
      icon: Target,
      title: "Signal over Noise",
      description:
        "Stop guessing. We decode market chaos into clear, actionable buy/sell signals tailored to your risk profile.",
    },
    {
      icon: Cpu,
      title: "Systems over Hustle",
      description:
        "You don't need to work harder. You need a machine. We build automated workflows that run without you.",
    },
    {
      icon: TrendingUp,
      title: "Exponential Growth",
      description:
        "Linear effort, exponential results. Turn your 8% execution into 92% of your revenue outcome.",
    },
  ];

  return (
    <SectionContainer className="py-32 md:py-40 relative">
      {/* Background Decoration */}
      <div className="absolute inset-0 pointer-events-none overflow-hidden">
        <div className="absolute top-0 right-1/4 w-[400px] h-[400px] bg-[#febe5d]/3 rounded-full blur-3xl" />
      </div>

      {/* Section Header */}
      <motion.div
        initial={{ opacity: 0, y: 20 }}
        whileInView={{ opacity: 1, y: 0 }}
        viewport={{ once: true }}
        transition={{ duration: 0.6 }}
        className="text-center mb-20 md:mb-24 relative z-10"
      >
        <motion.div
          initial={{ opacity: 0, scale: 0.9 }}
          whileInView={{ opacity: 1, scale: 1 }}
          viewport={{ once: true }}
          transition={{ duration: 0.6, delay: 0.2 }}
          className="inline-block mb-6"
        >
          <div className="px-4 py-2 bg-[#febe5d]/10 border border-[#febe5d]/30 rounded-full">
            <span className="text-sm font-semibold text-[#febe5d] uppercase tracking-wide">
              Why Origo?
            </span>
          </div>
        </motion.div>

        <h2 className="text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-6 tracking-tight">
          Most businesses lose because they
          <br />
          <span className="text-[#febe5d]">execute in the wrong direction.</span>
        </h2>

        <p className="text-xl md:text-2xl text-[#a3a3a3] max-w-3xl mx-auto">
          We fix the{" "}
          <span className="text-[#febe5d] font-bold">8%</span>{" "}
          that matters.
        </p>
      </motion.div>

      {/* 3-Column Grid */}
      <div className="grid grid-cols-1 md:grid-cols-3 gap-8 md:gap-10 relative z-10">
        {valueProps.map((prop, index) => (
          <ValuePropCard
            key={index}
            icon={prop.icon}
            title={prop.title}
            description={prop.description}
            index={index}
          />
        ))}
      </div>
    </SectionContainer>
  );
}
</file>

<file path="components/layout/ConditionalFooter.tsx">
'use client';

import { usePathname } from 'next/navigation';
import Footer from './Footer';

export default function ConditionalFooter() {
  const pathname = usePathname();
  
  // Don't show footer on admin pages and assessment page
  const isAdminPage = pathname?.startsWith('/admin');
  const isAssessmentPage = pathname === '/assessment';
  
  if (isAdminPage || isAssessmentPage) {
    return null;
  }
  
  return <Footer />;
}
</file>

<file path="components/layout/Footer.tsx">
import Link from 'next/link';

export default function Footer() {
  const currentYear = new Date().getFullYear();

  return (
    <footer className="w-full bg-[#050505] border-t border-white/5">
      <div className="max-w-7xl mx-auto px-6 py-12">
        <div className="flex flex-col md:flex-row items-center justify-between gap-6">
          {/* Brand */}
          <div className="flex flex-col items-center md:items-start gap-2">
            <h3 className="text-2xl font-bold text-[#febe5d] tracking-tight">
              ORIGO
            </h3>
            <p className="text-sm text-neutral-500">
              Market-Signal Architecture
            </p>
          </div>

          {/* Legal Links */}
          <div className="flex items-center gap-8">
            <Link
              href="/privacy"
              className="text-sm text-neutral-400 hover:text-[#febe5d] transition-colors duration-300"
            >
              Privacy Policy
            </Link>
            <Link
              href="/terms"
              className="text-sm text-neutral-400 hover:text-[#febe5d] transition-colors duration-300"
            >
              Terms of Service
            </Link>
          </div>

          {/* Copyright */}
          <div className="text-sm text-neutral-500">
            © {currentYear} Origo. All rights reserved.
          </div>
        </div>
      </div>
    </footer>
  );
}
</file>

<file path="components/layout/Navbar.tsx">
"use client";

import { motion } from "framer-motion";
import { Button } from "@/components/ui/Button";
import { Calendar, Sparkles } from "lucide-react";

export default function Navbar() {
  return (
    <motion.nav
      initial={{ opacity: 0, y: -20 }}
      animate={{ opacity: 1, y: 0 }}
      transition={{ duration: 0.8, ease: [0.16, 1, 0.3, 1] }}
      className="fixed top-0 left-0 right-0 z-50 w-full"
    >
      <div className="w-full px-5 md:px-10 max-w-7xl mx-auto">
        <div className="mt-6 bg-black/80 backdrop-blur-2xl border-2 border-white/10 rounded-2xl shadow-[0_8px_32px_rgba(0,0,0,0.4)] hover:border-[#febe5d]/30 transition-all duration-500">
          <div className="flex items-center justify-between px-6 md:px-8 py-4">
            {/* Logo with Glow */}
            <motion.div
              className="flex items-center gap-3 group cursor-pointer"
              whileHover={{ scale: 1.02 }}
              transition={{ duration: 0.2 }}
            >
              <div className="relative">
                {/* Logo Glow */}
                <div className="absolute inset-0 bg-[#febe5d]/20 blur-xl rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-500" />
                
                {/* Logo Text */}
                <h1 className="text-2xl md:text-3xl font-bold tracking-tight text-white relative z-10 group-hover:text-[#febe5d] transition-colors duration-300">
                  ORIGO
                </h1>
              </div>

              {/* Sparkle Icon (visible on hover) */}
              <Sparkles className="w-4 h-4 text-[#febe5d] opacity-0 group-hover:opacity-100 transition-opacity duration-300" />
            </motion.div>

            {/* CTA Button - Desktop */}
            <div className="hidden md:block">
              <Button
                variant="default"
                size="lg"
                onClick={() => window.open("https://cal.com/origo/strategy", "_blank")}
                className="px-8 py-3 text-base font-semibold bg-[#febe5d] hover:bg-[#ffc978] text-black"
              >
                <Calendar className="mr-2 w-4 h-4" />
                Book Strategy Call
              </Button>
            </div>

            {/* CTA Button - Mobile */}
            <div className="md:hidden">
              <Button
                variant="default"
                onClick={() => window.open("https://cal.com/origo/strategy", "_blank")}
                className="px-5 py-2.5 text-sm bg-[#febe5d] hover:bg-[#ffc978] text-black"
              >
                <Calendar className="mr-2 w-3 h-3" />
                Book Call
              </Button>
            </div>
          </div>

          {/* Bottom Glow Border */}
          <div className="h-px bg-linear-to-r from-transparent via-[#febe5d]/20 to-transparent" />
        </div>
      </div>
    </motion.nav>
  );
}
</file>

<file path="components/nav-documents.tsx">
"use client"

import {
  FolderIcon,
  MoreHorizontalIcon,
  ShareIcon,
  type LucideIcon,
} from "lucide-react"

import {
  DropdownMenu,
  DropdownMenuContent,
  DropdownMenuItem,
  DropdownMenuTrigger,
} from "@/components/ui/dropdown-menu"
import {
  SidebarGroup,
  SidebarGroupLabel,
  SidebarMenu,
  SidebarMenuAction,
  SidebarMenuButton,
  SidebarMenuItem,
  useSidebar,
} from "@/components/ui/sidebar"

export function NavDocuments({
  items,
}: {
  items: {
    name: string
    url: string
    icon: LucideIcon
  }[]
}) {
  const { isMobile } = useSidebar()

  return (
    <SidebarGroup className="group-data-[collapsible=icon]:hidden">
      <SidebarGroupLabel>Documents</SidebarGroupLabel>
      <SidebarMenu>
        {items.map((item) => (
          <SidebarMenuItem key={item.name}>
            <SidebarMenuButton asChild>
              <a href={item.url}>
                <item.icon />
                <span>{item.name}</span>
              </a>
            </SidebarMenuButton>
            <DropdownMenu>
              <DropdownMenuTrigger asChild>
                <SidebarMenuAction
                  showOnHover
                  className="rounded-sm data-[state=open]:bg-accent"
                >
                  <MoreHorizontalIcon />
                  <span className="sr-only">More</span>
                </SidebarMenuAction>
              </DropdownMenuTrigger>
              <DropdownMenuContent
                className="w-24 rounded-lg"
                side={isMobile ? "bottom" : "right"}
                align={isMobile ? "end" : "start"}
              >
                <DropdownMenuItem>
                  <FolderIcon />
                  <span>Open</span>
                </DropdownMenuItem>
                <DropdownMenuItem>
                  <ShareIcon />
                  <span>Share</span>
                </DropdownMenuItem>
              </DropdownMenuContent>
            </DropdownMenu>
          </SidebarMenuItem>
        ))}
        <SidebarMenuItem>
          <SidebarMenuButton className="text-sidebar-foreground/70">
            <MoreHorizontalIcon className="text-sidebar-foreground/70" />
            <span>More</span>
          </SidebarMenuButton>
        </SidebarMenuItem>
      </SidebarMenu>
    </SidebarGroup>
  )
}
</file>

<file path="components/nav-secondary.tsx">
"use client"

import * as React from "react"
import { LucideIcon } from "lucide-react"

import {
  SidebarGroup,
  SidebarGroupContent,
  SidebarMenu,
  SidebarMenuButton,
  SidebarMenuItem,
} from "@/components/ui/sidebar"

export function NavSecondary({
  items,
  ...props
}: {
  items: {
    title: string
    url: string
    icon: LucideIcon
  }[]
} & React.ComponentPropsWithoutRef<typeof SidebarGroup>) {
  return (
    <SidebarGroup {...props}>
      <SidebarGroupContent>
        <SidebarMenu>
          {items.map((item) => (
            <SidebarMenuItem key={item.title}>
              <SidebarMenuButton asChild>
                <a href={item.url}>
                  <item.icon />
                  <span>{item.title}</span>
                </a>
              </SidebarMenuButton>
            </SidebarMenuItem>
          ))}
        </SidebarMenu>
      </SidebarGroupContent>
    </SidebarGroup>
  )
}
</file>

<file path="components/nav-user.tsx">
"use client"

import {
  BellIcon,
  CreditCardIcon,
  LogOutIcon,
  MoreVerticalIcon,
  UserCircleIcon,
} from "lucide-react"

import {
  Avatar,
  AvatarFallback,
  AvatarImage,
} from "@/components/ui/avatar"
import {
  DropdownMenu,
  DropdownMenuContent,
  DropdownMenuGroup,
  DropdownMenuItem,
  DropdownMenuLabel,
  DropdownMenuSeparator,
  DropdownMenuTrigger,
} from "@/components/ui/dropdown-menu"
import {
  SidebarMenu,
  SidebarMenuButton,
  SidebarMenuItem,
  useSidebar,
} from "@/components/ui/sidebar"

export function NavUser({
  user,
}: {
  user: {
    name: string
    email: string
    avatar: string
  }
}) {
  const { isMobile } = useSidebar()

  return (
    <SidebarMenu>
      <SidebarMenuItem>
        <DropdownMenu>
          <DropdownMenuTrigger asChild>
            <SidebarMenuButton
              size="lg"
              className="data-[state=open]:bg-sidebar-accent data-[state=open]:text-sidebar-accent-foreground"
            >
              <Avatar className="h-8 w-8 rounded-lg grayscale">
                <AvatarImage src={user.avatar} alt={user.name} />
                <AvatarFallback className="rounded-lg">CN</AvatarFallback>
              </Avatar>
              <div className="grid flex-1 text-left text-sm leading-tight">
                <span className="truncate font-medium">{user.name}</span>
                <span className="truncate text-xs text-muted-foreground">
                  {user.email}
                </span>
              </div>
              <MoreVerticalIcon className="ml-auto size-4" />
            </SidebarMenuButton>
          </DropdownMenuTrigger>
          <DropdownMenuContent
            className="w-[--radix-dropdown-menu-trigger-width] min-w-56 rounded-lg"
            side={isMobile ? "bottom" : "right"}
            align="end"
            sideOffset={4}
          >
            <DropdownMenuLabel className="p-0 font-normal">
              <div className="flex items-center gap-2 px-1 py-1.5 text-left text-sm">
                <Avatar className="h-8 w-8 rounded-lg">
                  <AvatarImage src={user.avatar} alt={user.name} />
                  <AvatarFallback className="rounded-lg">CN</AvatarFallback>
                </Avatar>
                <div className="grid flex-1 text-left text-sm leading-tight">
                  <span className="truncate font-medium">{user.name}</span>
                  <span className="truncate text-xs text-muted-foreground">
                    {user.email}
                  </span>
                </div>
              </div>
            </DropdownMenuLabel>
            <DropdownMenuSeparator />
            <DropdownMenuGroup>
              <DropdownMenuItem>
                <UserCircleIcon />
                Account
              </DropdownMenuItem>
              <DropdownMenuItem>
                <CreditCardIcon />
                Billing
              </DropdownMenuItem>
              <DropdownMenuItem>
                <BellIcon />
                Notifications
              </DropdownMenuItem>
            </DropdownMenuGroup>
            <DropdownMenuSeparator />
            <DropdownMenuItem>
              <LogOutIcon />
              Log out
            </DropdownMenuItem>
          </DropdownMenuContent>
        </DropdownMenu>
      </SidebarMenuItem>
    </SidebarMenu>
  )
}
</file>

<file path="components/results/CTASection.tsx">
"use client";

import { motion } from "framer-motion";
import { Button } from "@/components/ui/Button";
import { Calendar, PlayCircle } from "lucide-react";

interface CTASectionProps {
  score: number;
}

export default function CTASection({ score }: CTASectionProps) {
  const isTier1 = score <= 40;

  return (
    <motion.div
      initial={{ opacity: 0, y: 30 }}
      animate={{ opacity: 1, y: 0 }}
      transition={{ duration: 0.6, delay: 1.8 }}
      className="text-center space-y-6"
    >
      {/* Divider */}
      <div className="w-24 h-1 bg-origo-gold mx-auto rounded-full" />

      {/* Headline */}
      <h2 className="text-3xl md:text-4xl font-bold text-white">
        {isTier1 ? "Next Step: Learn the System" : "Ready to Scale?"}
      </h2>

      {/* Subheadline */}
      <p className="text-lg md:text-xl text-origo-grey max-w-2xl mx-auto">
        {isTier1
          ? "Before scaling, you need clarity. Watch our Signal Masterclass to understand how elite companies architect decisions."
          : "You've validated market fit. Now let's architect a system that compounds growth without burning resources."}
      </p>

      {/* CTA Button */}
      <div className="pt-4">
        {isTier1 ? (
          // Tier 1: Education Loop (Video)
          <Button
            variant="secondary"
            size="lg"
            onClick={() =>
              window.open("https://youtube.com/watch?v=dQw4w9WgXcQ", "_blank")
            }
            className="text-lg px-10 py-5"
          >
            <PlayCircle className="mr-2 w-5 h-5" />
            Watch Signal Masterclass
          </Button>
        ) : (
          // Tier 2/3: Sales Loop (Booking)
          <Button
            variant="default"
            size="lg"
            onClick={() => window.open("https://cal.com/origo/strategy", "_blank")}
            className="text-lg px-10 py-5 bg-[#febe5d] hover:bg-[#ffc978] text-black"
          >
            <Calendar className="mr-2 w-5 h-5" />
            Book Strategy Call
          </Button>
        )}
      </div>

      {/* Trust Signal */}
      <p className="text-sm text-origo-grey/60 pt-4">
        {isTier1
          ? "Free 45-minute masterclass · No credit card required"
          : "30-minute strategy session · Free · No obligation"}
      </p>
    </motion.div>
  );
}
</file>

<file path="components/results/InsightCards.tsx">
"use client";

import { motion } from "framer-motion";
import { Target, Users, Zap } from "lucide-react";
import GlassCard from "@/components/ui/GlassCard";

interface InsightCardsProps {
  score: number;
}

export default function InsightCards({ score }: InsightCardsProps) {
  // Determine insights based on tier
  const getInsights = () => {
    if (score <= 40) {
      // Tier 1: Noise-Driven
      return [
        {
          icon: Target,
          title: "🔴 High Noise Detected",
          description:
            "Your current strategy relies heavily on assumptions rather than verified signals. You are likely executing in areas with low buying intent. Immediate Action: Stop scaling spend until demand signals are validated.",
          iconColor: "#ef4444",
        },
        {
          icon: Users,
          title: "🔴 CAC/LTV Risk Warning",
          description:
            "You are currently treating all prospects as equal. This dilutes your team's focus and spikes CAC. You need a 'Negative Filtering' system immediately to disqualify bad fits early.",
          iconColor: "#ef4444",
        },
        {
          icon: Zap,
          title: "🔴 Reactive Execution",
          description:
            "You are reacting to the market rather than directing it. This leads to burnout and unpredictable revenue. Pause execution; build a decision framework first.",
          iconColor: "#ef4444",
        },
      ];
    } else if (score <= 70) {
      // Tier 2: Partial Signal
      return [
        {
          icon: Target,
          title: "🟡 Signal Gaps Identified",
          description:
            "You have found some market fit, but consistency is lacking. You are likely winning deals but unsure why or how to repeat it efficiently. You need to bridge the gap between sales data and marketing targets.",
          iconColor: "#fbbf24",
        },
        {
          icon: Users,
          title: "🟡 Priority Leaks",
          description:
            "Your team knows who the ideal customer is, but they still spend 30-40% of their time on low-probability leads. Tighten your qualification criteria to free up resources.",
          iconColor: "#fbbf24",
        },
        {
          icon: Zap,
          title: "🟡 Process Inconsistency",
          description:
            "Success currently depends on individual talent, not system architecture. If your top performer leaves, revenue risks dropping. Document the decision logic now.",
          iconColor: "#fbbf24",
        },
      ];
    } else {
      // Tier 3: Growth Ready
      return [
        {
          icon: Target,
          title: "🟢 Signal Clarity Confirmed",
          description:
            "You have strong market visibility. The challenge now is not 'finding' customers, but 'architecting' decisions to capture them before competitors do. Focus on speed and precision.",
          iconColor: "#10b981",
        },
        {
          icon: Users,
          title: "🟢 High-Value Focus",
          description:
            "Your prioritization is solid. Shift your focus to 'Account Expansion' and increasing LTV. Use your signal data to predict their next need before they ask.",
          iconColor: "#10b981",
        },
        {
          icon: Zap,
          title: "🟢 Systematic Scale",
          description:
            "You are ready for 'Decision Architecture'. Automate the signal reading so leaders can focus on the 8% of high-impact relationships (The Origo 92/8 Rule).",
          iconColor: "#10b981",
        },
      ];
    }
  };

  const insights = getInsights();

  return (
    <div className="grid grid-cols-1 md:grid-cols-3 gap-6 md:gap-8">
      {insights.map((insight, index) => (
        <motion.div
          key={index}
          initial={{ opacity: 0, y: 30 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{
            duration: 0.6,
            delay: 1 + index * 0.15,
            ease: [0.16, 1, 0.3, 1],
          }}
        >
          <GlassCard className="h-full">
            {/* Icon */}
            <div className="mb-4">
              <div
                className="w-12 h-12 rounded-xl flex items-center justify-center"
                style={{ backgroundColor: `${insight.iconColor}20` }}
              >
                <insight.icon
                  className="w-6 h-6"
                  style={{ color: insight.iconColor }}
                  strokeWidth={2}
                />
              </div>
            </div>

            {/* Content */}
            <h3 className="text-xl font-bold text-white mb-3 leading-tight">
              {insight.title}
            </h3>
            <p className="text-sm md:text-base text-origo-grey leading-relaxed">
              {insight.description}
            </p>
          </GlassCard>
        </motion.div>
      ))}
    </div>
  );
}
</file>

<file path="components/results/ScoreGauge.tsx">
"use client";

import { motion } from "framer-motion";
import { useEffect, useState } from "react";

interface ScoreGaugeProps {
  score: number; // 0-100
  tier: string;
}

export default function ScoreGauge({ score, tier }: ScoreGaugeProps) {
  const [displayScore, setDisplayScore] = useState(0);

  // Determine color based on tier
  const getTierColor = () => {
    if (score <= 40) return "#ef4444"; // Red (Tier 1)
    if (score <= 70) return "#fbbf24"; // Yellow (Tier 2)
    return "#10b981"; // Green (Tier 3)
  };

  const tierColor = getTierColor();

  // Circle dimensions
  const size = 280;
  const strokeWidth = 16;
  const radius = (size - strokeWidth) / 2;
  const circumference = 2 * Math.PI * radius;
  const offset = circumference - (score / 100) * circumference;

  // Animate score number
  useEffect(() => {
    let start = 0;
    const duration = 2000; // 2 seconds
    const increment = score / (duration / 16); // 60fps

    const timer = setInterval(() => {
      start += increment;
      if (start >= score) {
        setDisplayScore(score);
        clearInterval(timer);
      } else {
        setDisplayScore(Math.floor(start));
      }
    }, 16);

    return () => clearInterval(timer);
  }, [score]);

  return (
    <div className="flex flex-col items-center space-y-6">
      {/* SVG Gauge */}
      <div className="relative">
        <svg width={size} height={size} className="transform -rotate-90">
          {/* Background Circle */}
          <circle
            cx={size / 2}
            cy={size / 2}
            r={radius}
            stroke="#262626"
            strokeWidth={strokeWidth}
            fill="none"
          />

          {/* Animated Progress Circle */}
          <motion.circle
            cx={size / 2}
            cy={size / 2}
            r={radius}
            stroke={tierColor}
            strokeWidth={strokeWidth}
            fill="none"
            strokeLinecap="round"
            strokeDasharray={circumference}
            initial={{ strokeDashoffset: circumference }}
            animate={{ strokeDashoffset: offset }}
            transition={{ duration: 2, ease: [0.16, 1, 0.3, 1] }}
            style={{
              filter: `drop-shadow(0 0 12px ${tierColor}40)`,
            }}
          />
        </svg>

        {/* Center Content */}
        <div className="absolute inset-0 flex flex-col items-center justify-center">
          <motion.div
            initial={{ opacity: 0, scale: 0.5 }}
            animate={{ opacity: 1, scale: 1 }}
            transition={{ duration: 0.6, delay: 0.3 }}
            className="text-center"
          >
            <div className="text-6xl md:text-7xl font-bold text-white mb-2">
              {displayScore}%
            </div>
            <div
              className="text-lg font-semibold uppercase tracking-wide"
              style={{ color: tierColor }}
            >
              {tier}
            </div>
          </motion.div>
        </div>
      </div>

      {/* Tier Label */}
      <motion.div
        initial={{ opacity: 0, y: 20 }}
        animate={{ opacity: 1, y: 0 }}
        transition={{ duration: 0.6, delay: 0.8 }}
        className="text-center"
      >
        <p className="text-xl md:text-2xl font-bold text-white mb-2">
          Market Signal Readiness
        </p>
        <p className="text-base text-origo-grey max-w-md">
          Your current ability to decode market signals and direct resources efficiently
        </p>
      </motion.div>
    </div>
  );
}
</file>

<file path="components/section-cards.tsx">
import { TrendingUpIcon, Users, CheckCircle2 } from "lucide-react"

import {
  Card,
  CardDescription,
  CardFooter,
  CardHeader,
  CardTitle,
} from "@/components/ui/card"

interface SectionCardsProps {
  stats?: {
    totalLeads: number
    avgScore: number
    growthReady: number
  }
}

export function SectionCards({ stats }: SectionCardsProps) {
  // Default stats if not provided
  const displayStats = stats || {
    totalLeads: 1,
    avgScore: 9,
    growthReady: 0,
  }

  return (
    <div className="*:data-[slot=card]:shadow-xs @xl/main:grid-cols-3 grid grid-cols-1 gap-4 px-4 *:data-[slot=card]:bg-gradient-to-t *:data-[slot=card]:from-primary/5 *:data-[slot=card]:to-card dark:*:data-[slot=card]:bg-card lg:px-6">
      {/* Total Leads */}
      <Card className="@container/card">
        <CardHeader className="relative">
          <CardDescription>Total Leads</CardDescription>
          <CardTitle className="@[250px]/card:text-3xl text-2xl font-semibold tabular-nums">
            {displayStats.totalLeads}
          </CardTitle>
          <div className="absolute right-4 top-4">
            <Users className="size-8 text-blue-500 opacity-20" />
          </div>
        </CardHeader>
        <CardFooter className="flex-col items-start gap-1 text-sm">
          <div className="line-clamp-1 flex gap-2 font-medium">
            Assessment submissions
          </div>
          <div className="text-muted-foreground">
            All leads from your funnel
          </div>
        </CardFooter>
      </Card>

      {/* Average Score */}
      <Card className="@container/card">
        <CardHeader className="relative">
          <CardDescription>Average Score</CardDescription>
          <CardTitle className="@[250px]/card:text-3xl text-2xl font-semibold tabular-nums text-orange-500">
            {displayStats.avgScore}%
          </CardTitle>
          <div className="absolute right-4 top-4">
            <TrendingUpIcon className="size-8 text-orange-500 opacity-20" />
          </div>
        </CardHeader>
        <CardFooter className="flex-col items-start gap-1 text-sm">
          <div className="line-clamp-1 flex gap-2 font-medium">
            Readiness assessment
          </div>
          <div className="text-muted-foreground">
            Average growth readiness score
          </div>
        </CardFooter>
      </Card>

      {/* Growth Ready */}
      <Card className="@container/card">
        <CardHeader className="relative">
          <CardDescription>Growth Ready</CardDescription>
          <CardTitle className="@[250px]/card:text-3xl text-2xl font-semibold tabular-nums text-green-500">
            {displayStats.growthReady}
          </CardTitle>
          <div className="absolute right-4 top-4">
            <CheckCircle2 className="size-8 text-green-500 opacity-20" />
          </div>
        </CardHeader>
        <CardFooter className="flex-col items-start gap-1 text-sm">
          <div className="line-clamp-1 flex gap-2 font-medium">
            High-quality leads
          </div>
          <div className="text-muted-foreground">
            Ready for growth initiatives
          </div>
        </CardFooter>
      </Card>
    </div>
  )
}
</file>

<file path="components/site-header.tsx">
import { Separator } from "@/components/ui/separator"
import { SidebarTrigger } from "@/components/ui/sidebar"

export function SiteHeader() {
  return (
    <header className="group-has-data-[collapsible=icon]/sidebar-wrapper:h-12 flex h-12 shrink-0 items-center gap-2 border-b transition-[width,height] ease-linear">
      <div className="flex w-full items-center gap-1 px-4 lg:gap-2 lg:px-6">
        <SidebarTrigger className="-ml-1" />
        <Separator
          orientation="vertical"
          className="mx-2 data-[orientation=vertical]:h-4"
        />
        <h1 className="text-base font-medium">Lead Dashboard</h1>
      </div>
    </header>
  )
}
</file>

<file path="components/ui/alert.tsx">
import * as React from "react"
import { cva, type VariantProps } from "class-variance-authority"

import { cn } from "@/lib/utils"

const alertVariants = cva(
  "relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",
  {
    variants: {
      variant: {
        default: "bg-background text-foreground",
        destructive:
          "border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive",
      },
    },
    defaultVariants: {
      variant: "default",
    },
  }
)

const Alert = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>
>(({ className, variant, ...props }, ref) => (
  <div
    ref={ref}
    role="alert"
    className={cn(alertVariants({ variant }), className)}
    {...props}
  />
))
Alert.displayName = "Alert"

const AlertTitle = React.forwardRef<
  HTMLParagraphElement,
  React.HTMLAttributes<HTMLHeadingElement>
>(({ className, ...props }, ref) => (
  <h5
    ref={ref}
    className={cn("mb-1 font-medium leading-none tracking-tight", className)}
    {...props}
  />
))
AlertTitle.displayName = "AlertTitle"

const AlertDescription = React.forwardRef<
  HTMLParagraphElement,
  React.HTMLAttributes<HTMLParagraphElement>
>(({ className, ...props }, ref) => (
  <div
    ref={ref}
    className={cn("text-sm [&_p]:leading-relaxed", className)}
    {...props}
  />
))
AlertDescription.displayName = "AlertDescription"

export { Alert, AlertTitle, AlertDescription }
</file>

<file path="components/ui/avatar.tsx">
"use client"

import * as React from "react"
import * as AvatarPrimitive from "@radix-ui/react-avatar"

import { cn } from "@/lib/utils"

const Avatar = React.forwardRef<
  React.ElementRef<typeof AvatarPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>
>(({ className, ...props }, ref) => (
  <AvatarPrimitive.Root
    ref={ref}
    className={cn(
      "relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",
      className
    )}
    {...props}
  />
))
Avatar.displayName = AvatarPrimitive.Root.displayName

const AvatarImage = React.forwardRef<
  React.ElementRef<typeof AvatarPrimitive.Image>,
  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>
>(({ className, ...props }, ref) => (
  <AvatarPrimitive.Image
    ref={ref}
    className={cn("aspect-square h-full w-full", className)}
    {...props}
  />
))
AvatarImage.displayName = AvatarPrimitive.Image.displayName

const AvatarFallback = React.forwardRef<
  React.ElementRef<typeof AvatarPrimitive.Fallback>,
  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>
>(({ className, ...props }, ref) => (
  <AvatarPrimitive.Fallback
    ref={ref}
    className={cn(
      "flex h-full w-full items-center justify-center rounded-full bg-muted",
      className
    )}
    {...props}
  />
))
AvatarFallback.displayName = AvatarPrimitive.Fallback.displayName

export { Avatar, AvatarImage, AvatarFallback }
</file>

<file path="components/ui/badge.tsx">
import * as React from "react"
import { cva, type VariantProps } from "class-variance-authority"

import { cn } from "@/lib/utils"

const badgeVariants = cva(
  "inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",
  {
    variants: {
      variant: {
        default:
          "border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",
        secondary:
          "border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",
        destructive:
          "border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",
        outline: "text-foreground",
      },
    },
    defaultVariants: {
      variant: "default",
    },
  }
)

export interface BadgeProps
  extends React.HTMLAttributes<HTMLDivElement>,
    VariantProps<typeof badgeVariants> {}

function Badge({ className, variant, ...props }: BadgeProps) {
  return (
    <div className={cn(badgeVariants({ variant }), className)} {...props} />
  )
}

export { Badge, badgeVariants }
</file>

<file path="components/ui/breadcrumb.tsx">
import * as React from "react"
import { Slot } from "@radix-ui/react-slot"
import { ChevronRight, MoreHorizontal } from "lucide-react"

import { cn } from "@/lib/utils"

const Breadcrumb = React.forwardRef<
  HTMLElement,
  React.ComponentPropsWithoutRef<"nav"> & {
    separator?: React.ReactNode
  }
>(({ ...props }, ref) => <nav ref={ref} aria-label="breadcrumb" {...props} />)
Breadcrumb.displayName = "Breadcrumb"

const BreadcrumbList = React.forwardRef<
  HTMLOListElement,
  React.ComponentPropsWithoutRef<"ol">
>(({ className, ...props }, ref) => (
  <ol
    ref={ref}
    className={cn(
      "flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",
      className
    )}
    {...props}
  />
))
BreadcrumbList.displayName = "BreadcrumbList"

const BreadcrumbItem = React.forwardRef<
  HTMLLIElement,
  React.ComponentPropsWithoutRef<"li">
>(({ className, ...props }, ref) => (
  <li
    ref={ref}
    className={cn("inline-flex items-center gap-1.5", className)}
    {...props}
  />
))
BreadcrumbItem.displayName = "BreadcrumbItem"

const BreadcrumbLink = React.forwardRef<
  HTMLAnchorElement,
  React.ComponentPropsWithoutRef<"a"> & {
    asChild?: boolean
  }
>(({ asChild, className, ...props }, ref) => {
  const Comp = asChild ? Slot : "a"

  return (
    <Comp
      ref={ref}
      className={cn("transition-colors hover:text-foreground", className)}
      {...props}
    />
  )
})
BreadcrumbLink.displayName = "BreadcrumbLink"

const BreadcrumbPage = React.forwardRef<
  HTMLSpanElement,
  React.ComponentPropsWithoutRef<"span">
>(({ className, ...props }, ref) => (
  <span
    ref={ref}
    role="link"
    aria-disabled="true"
    aria-current="page"
    className={cn("font-normal text-foreground", className)}
    {...props}
  />
))
BreadcrumbPage.displayName = "BreadcrumbPage"

const BreadcrumbSeparator = ({
  children,
  className,
  ...props
}: React.ComponentProps<"li">) => (
  <li
    role="presentation"
    aria-hidden="true"
    className={cn("[&>svg]:w-3.5 [&>svg]:h-3.5", className)}
    {...props}
  >
    {children ?? <ChevronRight />}
  </li>
)
BreadcrumbSeparator.displayName = "BreadcrumbSeparator"

const BreadcrumbEllipsis = ({
  className,
  ...props
}: React.ComponentProps<"span">) => (
  <span
    role="presentation"
    aria-hidden="true"
    className={cn("flex h-9 w-9 items-center justify-center", className)}
    {...props}
  >
    <MoreHorizontal className="h-4 w-4" />
    <span className="sr-only">More</span>
  </span>
)
BreadcrumbEllipsis.displayName = "BreadcrumbElipssis"

export {
  Breadcrumb,
  BreadcrumbList,
  BreadcrumbItem,
  BreadcrumbLink,
  BreadcrumbPage,
  BreadcrumbSeparator,
  BreadcrumbEllipsis,
}
</file>

<file path="components/ui/Button.tsx">
import * as React from "react"
import { Slot } from "@radix-ui/react-slot"
import { cva, type VariantProps } from "class-variance-authority"

import { cn } from "@/lib/utils"

const buttonVariants = cva(
  "inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",
  {
    variants: {
      variant: {
        default:
          "bg-primary text-primary-foreground shadow hover:bg-primary/90",
        destructive:
          "bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",
        outline:
          "border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",
        secondary:
          "bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",
        ghost: "hover:bg-accent hover:text-accent-foreground",
        link: "text-primary underline-offset-4 hover:underline",
      },
      size: {
        default: "h-9 px-4 py-2",
        sm: "h-8 rounded-md px-3 text-xs",
        lg: "h-10 rounded-md px-8",
        icon: "h-9 w-9",
      },
    },
    defaultVariants: {
      variant: "default",
      size: "default",
    },
  }
)

export interface ButtonProps
  extends React.ButtonHTMLAttributes<HTMLButtonElement>,
    VariantProps<typeof buttonVariants> {
  asChild?: boolean
}

const Button = React.forwardRef<HTMLButtonElement, ButtonProps>(
  ({ className, variant, size, asChild = false, ...props }, ref) => {
    const Comp = asChild ? Slot : "button"
    return (
      <Comp
        className={cn(buttonVariants({ variant, size, className }))}
        ref={ref}
        {...props}
      />
    )
  }
)
Button.displayName = "Button"

export { Button, buttonVariants }
</file>

<file path="components/ui/card.tsx">
import * as React from "react"

import { cn } from "@/lib/utils"

const Card = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => (
  <div
    ref={ref}
    className={cn(
      "rounded-xl border bg-card text-card-foreground shadow",
      className
    )}
    {...props}
  />
))
Card.displayName = "Card"

const CardHeader = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => (
  <div
    ref={ref}
    className={cn("flex flex-col space-y-1.5 p-6", className)}
    {...props}
  />
))
CardHeader.displayName = "CardHeader"

const CardTitle = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => (
  <div
    ref={ref}
    className={cn("font-semibold leading-none tracking-tight", className)}
    {...props}
  />
))
CardTitle.displayName = "CardTitle"

const CardDescription = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => (
  <div
    ref={ref}
    className={cn("text-sm text-muted-foreground", className)}
    {...props}
  />
))
CardDescription.displayName = "CardDescription"

const CardContent = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => (
  <div ref={ref} className={cn("p-6 pt-0", className)} {...props} />
))
CardContent.displayName = "CardContent"

const CardFooter = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => (
  <div
    ref={ref}
    className={cn("flex items-center p-6 pt-0", className)}
    {...props}
  />
))
CardFooter.displayName = "CardFooter"

export { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }
</file>

<file path="components/ui/chart.tsx">
"use client"

import * as React from "react"
import * as RechartsPrimitive from "recharts"

import { cn } from "@/lib/utils"

// Format: { THEME_NAME: CSS_SELECTOR }
const THEMES = { light: "", dark: ".dark" } as const

export type ChartConfig = {
  [k in string]: {
    label?: React.ReactNode
    icon?: React.ComponentType
  } & (
    | { color?: string; theme?: never }
    | { color?: never; theme: Record<keyof typeof THEMES, string> }
  )
}

type ChartContextProps = {
  config: ChartConfig
}

const ChartContext = React.createContext<ChartContextProps | null>(null)

function useChart() {
  const context = React.useContext(ChartContext)

  if (!context) {
    throw new Error("useChart must be used within a <ChartContainer />")
  }

  return context
}

const ChartContainer = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"div"> & {
    config: ChartConfig
    children: React.ComponentProps<
      typeof RechartsPrimitive.ResponsiveContainer
    >["children"]
  }
>(({ id, className, children, config, ...props }, ref) => {
  const uniqueId = React.useId()
  const chartId = `chart-${id || uniqueId.replace(/:/g, "")}`

  return (
    <ChartContext.Provider value={{ config }}>
      <div
        data-chart={chartId}
        ref={ref}
        className={cn(
          "flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",
          className
        )}
        {...props}
      >
        <ChartStyle id={chartId} config={config} />
        <RechartsPrimitive.ResponsiveContainer>
          {children}
        </RechartsPrimitive.ResponsiveContainer>
      </div>
    </ChartContext.Provider>
  )
})
ChartContainer.displayName = "Chart"

const ChartStyle = ({ id, config }: { id: string; config: ChartConfig }) => {
  const colorConfig = Object.entries(config).filter(
    ([, config]) => config.theme || config.color
  )

  if (!colorConfig.length) {
    return null
  }

  return (
    <style
      dangerouslySetInnerHTML={{
        __html: Object.entries(THEMES)
          .map(
            ([theme, prefix]) => `
${prefix} [data-chart=${id}] {
${colorConfig
  .map(([key, itemConfig]) => {
    const color =
      itemConfig.theme?.[theme as keyof typeof itemConfig.theme] ||
      itemConfig.color
    return color ? `  --color-${key}: ${color};` : null
  })
  .join("\n")}
}
`
          )
          .join("\n"),
      }}
    />
  )
}

const ChartTooltip = RechartsPrimitive.Tooltip

const ChartTooltipContent = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<typeof RechartsPrimitive.Tooltip> &
    React.ComponentProps<"div"> & {
      hideLabel?: boolean
      hideIndicator?: boolean
      indicator?: "line" | "dot" | "dashed"
      nameKey?: string
      labelKey?: string
    }
>(
  (
    {
      active,
      payload,
      className,
      indicator = "dot",
      hideLabel = false,
      hideIndicator = false,
      label,
      labelFormatter,
      labelClassName,
      formatter,
      color,
      nameKey,
      labelKey,
    },
    ref
  ) => {
    const { config } = useChart()

    const tooltipLabel = React.useMemo(() => {
      if (hideLabel || !payload?.length) {
        return null
      }

      const [item] = payload
      const key = `${labelKey || item?.dataKey || item?.name || "value"}`
      const itemConfig = getPayloadConfigFromPayload(config, item, key)
      const value =
        !labelKey && typeof label === "string"
          ? config[label as keyof typeof config]?.label || label
          : itemConfig?.label

      if (labelFormatter) {
        return (
          <div className={cn("font-medium", labelClassName)}>
            {labelFormatter(value, payload)}
          </div>
        )
      }

      if (!value) {
        return null
      }

      return <div className={cn("font-medium", labelClassName)}>{value}</div>
    }, [
      label,
      labelFormatter,
      payload,
      hideLabel,
      labelClassName,
      config,
      labelKey,
    ])

    if (!active || !payload?.length) {
      return null
    }

    const nestLabel = payload.length === 1 && indicator !== "dot"

    return (
      <div
        ref={ref}
        className={cn(
          "grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",
          className
        )}
      >
        {!nestLabel ? tooltipLabel : null}
        <div className="grid gap-1.5">
          {payload
            .filter((item) => item.type !== "none")
            .map((item, index) => {
              const key = `${nameKey || item.name || item.dataKey || "value"}`
              const itemConfig = getPayloadConfigFromPayload(config, item, key)
              const indicatorColor = color || item.payload.fill || item.color

              return (
                <div
                  key={item.dataKey}
                  className={cn(
                    "flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",
                    indicator === "dot" && "items-center"
                  )}
                >
                  {formatter && item?.value !== undefined && item.name ? (
                    formatter(item.value, item.name, item, index, item.payload)
                  ) : (
                    <>
                      {itemConfig?.icon ? (
                        <itemConfig.icon />
                      ) : (
                        !hideIndicator && (
                          <div
                            className={cn(
                              "shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",
                              {
                                "h-2.5 w-2.5": indicator === "dot",
                                "w-1": indicator === "line",
                                "w-0 border-[1.5px] border-dashed bg-transparent":
                                  indicator === "dashed",
                                "my-0.5": nestLabel && indicator === "dashed",
                              }
                            )}
                            style={
                              {
                                "--color-bg": indicatorColor,
                                "--color-border": indicatorColor,
                              } as React.CSSProperties
                            }
                          />
                        )
                      )}
                      <div
                        className={cn(
                          "flex flex-1 justify-between leading-none",
                          nestLabel ? "items-end" : "items-center"
                        )}
                      >
                        <div className="grid gap-1.5">
                          {nestLabel ? tooltipLabel : null}
                          <span className="text-muted-foreground">
                            {itemConfig?.label || item.name}
                          </span>
                        </div>
                        {item.value && (
                          <span className="font-mono font-medium tabular-nums text-foreground">
                            {item.value.toLocaleString()}
                          </span>
                        )}
                      </div>
                    </>
                  )}
                </div>
              )
            })}
        </div>
      </div>
    )
  }
)
ChartTooltipContent.displayName = "ChartTooltip"

const ChartLegend = RechartsPrimitive.Legend

const ChartLegendContent = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"div"> &
    Pick<RechartsPrimitive.LegendProps, "payload" | "verticalAlign"> & {
      hideIcon?: boolean
      nameKey?: string
    }
>(
  (
    { className, hideIcon = false, payload, verticalAlign = "bottom", nameKey },
    ref
  ) => {
    const { config } = useChart()

    if (!payload?.length) {
      return null
    }

    return (
      <div
        ref={ref}
        className={cn(
          "flex items-center justify-center gap-4",
          verticalAlign === "top" ? "pb-3" : "pt-3",
          className
        )}
      >
        {payload
          .filter((item) => item.type !== "none")
          .map((item) => {
            const key = `${nameKey || item.dataKey || "value"}`
            const itemConfig = getPayloadConfigFromPayload(config, item, key)

            return (
              <div
                key={item.value}
                className={cn(
                  "flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"
                )}
              >
                {itemConfig?.icon && !hideIcon ? (
                  <itemConfig.icon />
                ) : (
                  <div
                    className="h-2 w-2 shrink-0 rounded-[2px]"
                    style={{
                      backgroundColor: item.color,
                    }}
                  />
                )}
                {itemConfig?.label}
              </div>
            )
          })}
      </div>
    )
  }
)
ChartLegendContent.displayName = "ChartLegend"

// Helper to extract item config from a payload.
function getPayloadConfigFromPayload(
  config: ChartConfig,
  payload: unknown,
  key: string
) {
  if (typeof payload !== "object" || payload === null) {
    return undefined
  }

  const payloadPayload =
    "payload" in payload &&
    typeof payload.payload === "object" &&
    payload.payload !== null
      ? payload.payload
      : undefined

  let configLabelKey: string = key

  if (
    key in payload &&
    typeof payload[key as keyof typeof payload] === "string"
  ) {
    configLabelKey = payload[key as keyof typeof payload] as string
  } else if (
    payloadPayload &&
    key in payloadPayload &&
    typeof payloadPayload[key as keyof typeof payloadPayload] === "string"
  ) {
    configLabelKey = payloadPayload[
      key as keyof typeof payloadPayload
    ] as string
  }

  return configLabelKey in config
    ? config[configLabelKey]
    : config[key as keyof typeof config]
}

export {
  ChartContainer,
  ChartTooltip,
  ChartTooltipContent,
  ChartLegend,
  ChartLegendContent,
  ChartStyle,
}
</file>

<file path="components/ui/checkbox.tsx">
"use client"

import * as React from "react"
import * as CheckboxPrimitive from "@radix-ui/react-checkbox"
import { Check } from "lucide-react"

import { cn } from "@/lib/utils"

const Checkbox = React.forwardRef<
  React.ElementRef<typeof CheckboxPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>
>(({ className, ...props }, ref) => (
  <CheckboxPrimitive.Root
    ref={ref}
    className={cn(
      "grid place-content-center peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",
      className
    )}
    {...props}
  >
    <CheckboxPrimitive.Indicator
      className={cn("grid place-content-center text-current")}
    >
      <Check className="h-4 w-4" />
    </CheckboxPrimitive.Indicator>
  </CheckboxPrimitive.Root>
))
Checkbox.displayName = CheckboxPrimitive.Root.displayName

export { Checkbox }
</file>

<file path="components/ui/command.tsx">
"use client"

import * as React from "react"
import { type DialogProps } from "@radix-ui/react-dialog"
import { Command as CommandPrimitive } from "cmdk"
import { Search } from "lucide-react"

import { cn } from "@/lib/utils"
import { Dialog, DialogContent } from "@/components/ui/dialog"

const Command = React.forwardRef<
  React.ElementRef<typeof CommandPrimitive>,
  React.ComponentPropsWithoutRef<typeof CommandPrimitive>
>(({ className, ...props }, ref) => (
  <CommandPrimitive
    ref={ref}
    className={cn(
      "flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",
      className
    )}
    {...props}
  />
))
Command.displayName = CommandPrimitive.displayName

const CommandDialog = ({ children, ...props }: DialogProps) => {
  return (
    <Dialog {...props}>
      <DialogContent className="overflow-hidden p-0">
        <Command className="[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5">
          {children}
        </Command>
      </DialogContent>
    </Dialog>
  )
}

const CommandInput = React.forwardRef<
  React.ElementRef<typeof CommandPrimitive.Input>,
  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>
>(({ className, ...props }, ref) => (
  <div className="flex items-center border-b px-3" cmdk-input-wrapper="">
    <Search className="mr-2 h-4 w-4 shrink-0 opacity-50" />
    <CommandPrimitive.Input
      ref={ref}
      className={cn(
        "flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",
        className
      )}
      {...props}
    />
  </div>
))

CommandInput.displayName = CommandPrimitive.Input.displayName

const CommandList = React.forwardRef<
  React.ElementRef<typeof CommandPrimitive.List>,
  React.ComponentPropsWithoutRef<typeof CommandPrimitive.List>
>(({ className, ...props }, ref) => (
  <CommandPrimitive.List
    ref={ref}
    className={cn("max-h-[300px] overflow-y-auto overflow-x-hidden", className)}
    {...props}
  />
))

CommandList.displayName = CommandPrimitive.List.displayName

const CommandEmpty = React.forwardRef<
  React.ElementRef<typeof CommandPrimitive.Empty>,
  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty>
>((props, ref) => (
  <CommandPrimitive.Empty
    ref={ref}
    className="py-6 text-center text-sm"
    {...props}
  />
))

CommandEmpty.displayName = CommandPrimitive.Empty.displayName

const CommandGroup = React.forwardRef<
  React.ElementRef<typeof CommandPrimitive.Group>,
  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Group>
>(({ className, ...props }, ref) => (
  <CommandPrimitive.Group
    ref={ref}
    className={cn(
      "overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",
      className
    )}
    {...props}
  />
))

CommandGroup.displayName = CommandPrimitive.Group.displayName

const CommandSeparator = React.forwardRef<
  React.ElementRef<typeof CommandPrimitive.Separator>,
  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>
>(({ className, ...props }, ref) => (
  <CommandPrimitive.Separator
    ref={ref}
    className={cn("-mx-1 h-px bg-border", className)}
    {...props}
  />
))
CommandSeparator.displayName = CommandPrimitive.Separator.displayName

const CommandItem = React.forwardRef<
  React.ElementRef<typeof CommandPrimitive.Item>,
  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Item>
>(({ className, ...props }, ref) => (
  <CommandPrimitive.Item
    ref={ref}
    className={cn(
      "relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",
      className
    )}
    {...props}
  />
))

CommandItem.displayName = CommandPrimitive.Item.displayName

const CommandShortcut = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLSpanElement>) => {
  return (
    <span
      className={cn(
        "ml-auto text-xs tracking-widest text-muted-foreground",
        className
      )}
      {...props}
    />
  )
}
CommandShortcut.displayName = "CommandShortcut"

export {
  Command,
  CommandDialog,
  CommandInput,
  CommandList,
  CommandEmpty,
  CommandGroup,
  CommandItem,
  CommandShortcut,
  CommandSeparator,
}
</file>

<file path="components/ui/dialog.tsx">
import * as React from "react"
import * as DialogPrimitive from "@radix-ui/react-dialog"
import { X } from "lucide-react"

import { cn } from "@/lib/cn"

const Dialog = DialogPrimitive.Root

const DialogTrigger = DialogPrimitive.Trigger

const DialogPortal = DialogPrimitive.Portal

const DialogClose = DialogPrimitive.Close

const DialogOverlay = React.forwardRef<
  React.ElementRef<typeof DialogPrimitive.Overlay>,
  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>
>(({ className, ...props }, ref) => (
  <DialogPrimitive.Overlay
    ref={ref}
    className={cn(
      "fixed inset-0 z-50 bg-black/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",
      className
    )}
    {...props}
  />
))
DialogOverlay.displayName = DialogPrimitive.Overlay.displayName

const DialogContent = React.forwardRef<
  React.ElementRef<typeof DialogPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>
>(({ className, children, ...props }, ref) => (
  <DialogPortal>
    <DialogOverlay />
    <DialogPrimitive.Content
      ref={ref}
      className={cn(
        "fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-white/10 bg-[#111111] p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] rounded-lg",
        className
      )}
      {...props}
    >
      {children}
      <DialogPrimitive.Close className="absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-[#febe5d]/50 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-white/5">
        <X className="h-4 w-4 text-white" />
        <span className="sr-only">Close</span>
      </DialogPrimitive.Close>
    </DialogPrimitive.Content>
  </DialogPortal>
))
DialogContent.displayName = DialogPrimitive.Content.displayName

const DialogHeader = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) => (
  <div
    className={cn(
      "flex flex-col space-y-1.5 text-center sm:text-left",
      className
    )}
    {...props}
  />
)
DialogHeader.displayName = "DialogHeader"

const DialogFooter = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) => (
  <div
    className={cn(
      "flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",
      className
    )}
    {...props}
  />
)
DialogFooter.displayName = "DialogFooter"

const DialogTitle = React.forwardRef<
  React.ElementRef<typeof DialogPrimitive.Title>,
  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>
>(({ className, ...props }, ref) => (
  <DialogPrimitive.Title
    ref={ref}
    className={cn(
      "text-lg font-semibold leading-none tracking-tight text-white",
      className
    )}
    {...props}
  />
))
DialogTitle.displayName = DialogPrimitive.Title.displayName

const DialogDescription = React.forwardRef<
  React.ElementRef<typeof DialogPrimitive.Description>,
  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>
>(({ className, ...props }, ref) => (
  <DialogPrimitive.Description
    ref={ref}
    className={cn("text-sm text-neutral-400", className)}
    {...props}
  />
))
DialogDescription.displayName = DialogPrimitive.Description.displayName

export {
  Dialog,
  DialogPortal,
  DialogOverlay,
  DialogClose,
  DialogTrigger,
  DialogContent,
  DialogHeader,
  DialogFooter,
  DialogTitle,
  DialogDescription,
}
</file>

<file path="components/ui/drawer.tsx">
"use client"

import * as React from "react"
import { Drawer as DrawerPrimitive } from "vaul"

import { cn } from "@/lib/utils"

const Drawer = ({
  shouldScaleBackground = true,
  ...props
}: React.ComponentProps<typeof DrawerPrimitive.Root>) => (
  <DrawerPrimitive.Root
    shouldScaleBackground={shouldScaleBackground}
    {...props}
  />
)
Drawer.displayName = "Drawer"

const DrawerTrigger = DrawerPrimitive.Trigger

const DrawerPortal = DrawerPrimitive.Portal

const DrawerClose = DrawerPrimitive.Close

const DrawerOverlay = React.forwardRef<
  React.ElementRef<typeof DrawerPrimitive.Overlay>,
  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Overlay>
>(({ className, ...props }, ref) => (
  <DrawerPrimitive.Overlay
    ref={ref}
    className={cn("fixed inset-0 z-50 bg-black/80", className)}
    {...props}
  />
))
DrawerOverlay.displayName = DrawerPrimitive.Overlay.displayName

const DrawerContent = React.forwardRef<
  React.ElementRef<typeof DrawerPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Content>
>(({ className, children, ...props }, ref) => (
  <DrawerPortal>
    <DrawerOverlay />
    <DrawerPrimitive.Content
      ref={ref}
      className={cn(
        "fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",
        className
      )}
      {...props}
    >
      <div className="mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted" />
      {children}
    </DrawerPrimitive.Content>
  </DrawerPortal>
))
DrawerContent.displayName = "DrawerContent"

const DrawerHeader = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) => (
  <div
    className={cn("grid gap-1.5 p-4 text-center sm:text-left", className)}
    {...props}
  />
)
DrawerHeader.displayName = "DrawerHeader"

const DrawerFooter = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) => (
  <div
    className={cn("mt-auto flex flex-col gap-2 p-4", className)}
    {...props}
  />
)
DrawerFooter.displayName = "DrawerFooter"

const DrawerTitle = React.forwardRef<
  React.ElementRef<typeof DrawerPrimitive.Title>,
  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Title>
>(({ className, ...props }, ref) => (
  <DrawerPrimitive.Title
    ref={ref}
    className={cn(
      "text-lg font-semibold leading-none tracking-tight",
      className
    )}
    {...props}
  />
))
DrawerTitle.displayName = DrawerPrimitive.Title.displayName

const DrawerDescription = React.forwardRef<
  React.ElementRef<typeof DrawerPrimitive.Description>,
  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Description>
>(({ className, ...props }, ref) => (
  <DrawerPrimitive.Description
    ref={ref}
    className={cn("text-sm text-muted-foreground", className)}
    {...props}
  />
))
DrawerDescription.displayName = DrawerPrimitive.Description.displayName

export {
  Drawer,
  DrawerPortal,
  DrawerOverlay,
  DrawerTrigger,
  DrawerClose,
  DrawerContent,
  DrawerHeader,
  DrawerFooter,
  DrawerTitle,
  DrawerDescription,
}
</file>

<file path="components/ui/dropdown-menu.tsx">
"use client"

import * as React from "react"
import * as DropdownMenuPrimitive from "@radix-ui/react-dropdown-menu"
import { Check, ChevronRight, Circle } from "lucide-react"

import { cn } from "@/lib/utils"

const DropdownMenu = DropdownMenuPrimitive.Root

const DropdownMenuTrigger = DropdownMenuPrimitive.Trigger

const DropdownMenuGroup = DropdownMenuPrimitive.Group

const DropdownMenuPortal = DropdownMenuPrimitive.Portal

const DropdownMenuSub = DropdownMenuPrimitive.Sub

const DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup

const DropdownMenuSubTrigger = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {
    inset?: boolean
  }
>(({ className, inset, children, ...props }, ref) => (
  <DropdownMenuPrimitive.SubTrigger
    ref={ref}
    className={cn(
      "flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",
      inset && "pl-8",
      className
    )}
    {...props}
  >
    {children}
    <ChevronRight className="ml-auto" />
  </DropdownMenuPrimitive.SubTrigger>
))
DropdownMenuSubTrigger.displayName =
  DropdownMenuPrimitive.SubTrigger.displayName

const DropdownMenuSubContent = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>
>(({ className, ...props }, ref) => (
  <DropdownMenuPrimitive.SubContent
    ref={ref}
    className={cn(
      "z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",
      className
    )}
    {...props}
  />
))
DropdownMenuSubContent.displayName =
  DropdownMenuPrimitive.SubContent.displayName

const DropdownMenuContent = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>
>(({ className, sideOffset = 4, ...props }, ref) => (
  <DropdownMenuPrimitive.Portal>
    <DropdownMenuPrimitive.Content
      ref={ref}
      sideOffset={sideOffset}
      className={cn(
        "z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md",
        "data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",
        className
      )}
      {...props}
    />
  </DropdownMenuPrimitive.Portal>
))
DropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName

const DropdownMenuItem = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.Item>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {
    inset?: boolean
  }
>(({ className, inset, ...props }, ref) => (
  <DropdownMenuPrimitive.Item
    ref={ref}
    className={cn(
      "relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",
      inset && "pl-8",
      className
    )}
    {...props}
  />
))
DropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName

const DropdownMenuCheckboxItem = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>
>(({ className, children, checked, ...props }, ref) => (
  <DropdownMenuPrimitive.CheckboxItem
    ref={ref}
    className={cn(
      "relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",
      className
    )}
    checked={checked}
    {...props}
  >
    <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center">
      <DropdownMenuPrimitive.ItemIndicator>
        <Check className="h-4 w-4" />
      </DropdownMenuPrimitive.ItemIndicator>
    </span>
    {children}
  </DropdownMenuPrimitive.CheckboxItem>
))
DropdownMenuCheckboxItem.displayName =
  DropdownMenuPrimitive.CheckboxItem.displayName

const DropdownMenuRadioItem = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>
>(({ className, children, ...props }, ref) => (
  <DropdownMenuPrimitive.RadioItem
    ref={ref}
    className={cn(
      "relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",
      className
    )}
    {...props}
  >
    <span className="absolute left-2 flex h-3.5 w-3.5 items-center justify-center">
      <DropdownMenuPrimitive.ItemIndicator>
        <Circle className="h-2 w-2 fill-current" />
      </DropdownMenuPrimitive.ItemIndicator>
    </span>
    {children}
  </DropdownMenuPrimitive.RadioItem>
))
DropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName

const DropdownMenuLabel = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.Label>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {
    inset?: boolean
  }
>(({ className, inset, ...props }, ref) => (
  <DropdownMenuPrimitive.Label
    ref={ref}
    className={cn(
      "px-2 py-1.5 text-sm font-semibold",
      inset && "pl-8",
      className
    )}
    {...props}
  />
))
DropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName

const DropdownMenuSeparator = React.forwardRef<
  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,
  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>
>(({ className, ...props }, ref) => (
  <DropdownMenuPrimitive.Separator
    ref={ref}
    className={cn("-mx-1 my-1 h-px bg-muted", className)}
    {...props}
  />
))
DropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName

const DropdownMenuShortcut = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLSpanElement>) => {
  return (
    <span
      className={cn("ml-auto text-xs tracking-widest opacity-60", className)}
      {...props}
    />
  )
}
DropdownMenuShortcut.displayName = "DropdownMenuShortcut"

export {
  DropdownMenu,
  DropdownMenuTrigger,
  DropdownMenuContent,
  DropdownMenuItem,
  DropdownMenuCheckboxItem,
  DropdownMenuRadioItem,
  DropdownMenuLabel,
  DropdownMenuSeparator,
  DropdownMenuShortcut,
  DropdownMenuGroup,
  DropdownMenuPortal,
  DropdownMenuSub,
  DropdownMenuSubContent,
  DropdownMenuSubTrigger,
  DropdownMenuRadioGroup,
}
</file>

<file path="components/ui/form.tsx">
"use client"

import * as React from "react"
import * as LabelPrimitive from "@radix-ui/react-label"
import { Slot } from "@radix-ui/react-slot"
import {
  Controller,
  FormProvider,
  useFormContext,
  type ControllerProps,
  type FieldPath,
  type FieldValues,
} from "react-hook-form"

import { cn } from "@/lib/utils"
import { Label } from "@/components/ui/label"

const Form = FormProvider

type FormFieldContextValue<
  TFieldValues extends FieldValues = FieldValues,
  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>
> = {
  name: TName
}

const FormFieldContext = React.createContext<FormFieldContextValue | null>(null)

const FormField = <
  TFieldValues extends FieldValues = FieldValues,
  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>
>({
  ...props
}: ControllerProps<TFieldValues, TName>) => {
  return (
    <FormFieldContext.Provider value={{ name: props.name }}>
      <Controller {...props} />
    </FormFieldContext.Provider>
  )
}

const useFormField = () => {
  const fieldContext = React.useContext(FormFieldContext)
  const itemContext = React.useContext(FormItemContext)
  const { getFieldState, formState } = useFormContext()

  if (!fieldContext) {
    throw new Error("useFormField should be used within <FormField>")
  }

  if (!itemContext) {
    throw new Error("useFormField should be used within <FormItem>")
  }

  const fieldState = getFieldState(fieldContext.name, formState)

  const { id } = itemContext

  return {
    id,
    name: fieldContext.name,
    formItemId: `${id}-form-item`,
    formDescriptionId: `${id}-form-item-description`,
    formMessageId: `${id}-form-item-message`,
    ...fieldState,
  }
}

type FormItemContextValue = {
  id: string
}

const FormItemContext = React.createContext<FormItemContextValue | null>(null)

const FormItem = React.forwardRef<
  HTMLDivElement,
  React.HTMLAttributes<HTMLDivElement>
>(({ className, ...props }, ref) => {
  const id = React.useId()

  return (
    <FormItemContext.Provider value={{ id }}>
      <div ref={ref} className={cn("space-y-2", className)} {...props} />
    </FormItemContext.Provider>
  )
})
FormItem.displayName = "FormItem"

const FormLabel = React.forwardRef<
  React.ElementRef<typeof LabelPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>
>(({ className, ...props }, ref) => {
  const { error, formItemId } = useFormField()

  return (
    <Label
      ref={ref}
      className={cn(error && "text-destructive", className)}
      htmlFor={formItemId}
      {...props}
    />
  )
})
FormLabel.displayName = "FormLabel"

const FormControl = React.forwardRef<
  React.ElementRef<typeof Slot>,
  React.ComponentPropsWithoutRef<typeof Slot>
>(({ ...props }, ref) => {
  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()

  return (
    <Slot
      ref={ref}
      id={formItemId}
      aria-describedby={
        !error
          ? `${formDescriptionId}`
          : `${formDescriptionId} ${formMessageId}`
      }
      aria-invalid={!!error}
      {...props}
    />
  )
})
FormControl.displayName = "FormControl"

const FormDescription = React.forwardRef<
  HTMLParagraphElement,
  React.HTMLAttributes<HTMLParagraphElement>
>(({ className, ...props }, ref) => {
  const { formDescriptionId } = useFormField()

  return (
    <p
      ref={ref}
      id={formDescriptionId}
      className={cn("text-[0.8rem] text-muted-foreground", className)}
      {...props}
    />
  )
})
FormDescription.displayName = "FormDescription"

const FormMessage = React.forwardRef<
  HTMLParagraphElement,
  React.HTMLAttributes<HTMLParagraphElement>
>(({ className, children, ...props }, ref) => {
  const { error, formMessageId } = useFormField()
  const body = error ? String(error?.message ?? "") : children

  if (!body) {
    return null
  }

  return (
    <p
      ref={ref}
      id={formMessageId}
      className={cn("text-[0.8rem] font-medium text-destructive", className)}
      {...props}
    >
      {body}
    </p>
  )
})
FormMessage.displayName = "FormMessage"

export {
  useFormField,
  Form,
  FormItem,
  FormLabel,
  FormControl,
  FormDescription,
  FormMessage,
  FormField,
}
</file>

<file path="components/ui/GlassCard.tsx">
import { cn } from "@/lib/utils";

interface GlassCardProps {
  children: React.ReactNode;
  className?: string;
}

export default function GlassCard({ children, className }: GlassCardProps) {
  return (
    <div
      className={cn(
        "bg-neutral-900/50 backdrop-blur-xl border border-white/10 rounded-2xl shadow-2xl p-8",
        className
      )}
    >
      {children}
    </div>
  );
}
</file>

<file path="components/ui/input.tsx">
import * as React from "react"

import { cn } from "@/lib/utils"

const Input = React.forwardRef<HTMLInputElement, React.ComponentProps<"input">>(
  ({ className, type, ...props }, ref) => {
    return (
      <input
        type={type}
        className={cn(
          "flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",
          className
        )}
        ref={ref}
        {...props}
      />
    )
  }
)
Input.displayName = "Input"

export { Input }
</file>

<file path="components/ui/label.tsx">
"use client"

import * as React from "react"
import * as LabelPrimitive from "@radix-ui/react-label"
import { cva, type VariantProps } from "class-variance-authority"

import { cn } from "@/lib/utils"

const labelVariants = cva(
  "text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"
)

const Label = React.forwardRef<
  React.ElementRef<typeof LabelPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &
    VariantProps<typeof labelVariants>
>(({ className, ...props }, ref) => (
  <LabelPrimitive.Root
    ref={ref}
    className={cn(labelVariants(), className)}
    {...props}
  />
))
Label.displayName = LabelPrimitive.Root.displayName

export { Label }
</file>

<file path="components/ui/scroll-area.tsx">
"use client"

import * as React from "react"
import * as ScrollAreaPrimitive from "@radix-ui/react-scroll-area"

import { cn } from "@/lib/utils"

const ScrollArea = React.forwardRef<
  React.ElementRef<typeof ScrollAreaPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>
>(({ className, children, ...props }, ref) => (
  <ScrollAreaPrimitive.Root
    ref={ref}
    className={cn("relative overflow-hidden", className)}
    {...props}
  >
    <ScrollAreaPrimitive.Viewport className="h-full w-full rounded-[inherit]">
      {children}
    </ScrollAreaPrimitive.Viewport>
    <ScrollBar />
    <ScrollAreaPrimitive.Corner />
  </ScrollAreaPrimitive.Root>
))
ScrollArea.displayName = ScrollAreaPrimitive.Root.displayName

const ScrollBar = React.forwardRef<
  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,
  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>
>(({ className, orientation = "vertical", ...props }, ref) => (
  <ScrollAreaPrimitive.ScrollAreaScrollbar
    ref={ref}
    orientation={orientation}
    className={cn(
      "flex touch-none select-none transition-colors",
      orientation === "vertical" &&
        "h-full w-2.5 border-l border-l-transparent p-[1px]",
      orientation === "horizontal" &&
        "h-2.5 flex-col border-t border-t-transparent p-[1px]",
      className
    )}
    {...props}
  >
    <ScrollAreaPrimitive.ScrollAreaThumb className="relative flex-1 rounded-full bg-border" />
  </ScrollAreaPrimitive.ScrollAreaScrollbar>
))
ScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName

export { ScrollArea, ScrollBar }
</file>

<file path="components/ui/SectionContainer.tsx">
import { cn } from "@/lib/utils";

interface SectionContainerProps {
  children: React.ReactNode;
  className?: string;
}

export default function SectionContainer({
  children,
  className,
}: SectionContainerProps) {
  return (
    <section
      className={cn(
        "w-full px-5 py-10 md:px-10 md:py-20 max-w-7xl mx-auto",
        className
      )}
    >
      {children}
    </section>
  );
}
</file>

<file path="components/ui/select.tsx">
"use client"

import * as React from "react"
import * as SelectPrimitive from "@radix-ui/react-select"
import { Check, ChevronDown, ChevronUp } from "lucide-react"

import { cn } from "@/lib/utils"

const Select = SelectPrimitive.Root

const SelectGroup = SelectPrimitive.Group

const SelectValue = SelectPrimitive.Value

const SelectTrigger = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.Trigger>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>
>(({ className, children, ...props }, ref) => (
  <SelectPrimitive.Trigger
    ref={ref}
    className={cn(
      "flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",
      className
    )}
    {...props}
  >
    {children}
    <SelectPrimitive.Icon asChild>
      <ChevronDown className="h-4 w-4 opacity-50" />
    </SelectPrimitive.Icon>
  </SelectPrimitive.Trigger>
))
SelectTrigger.displayName = SelectPrimitive.Trigger.displayName

const SelectScrollUpButton = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>
>(({ className, ...props }, ref) => (
  <SelectPrimitive.ScrollUpButton
    ref={ref}
    className={cn(
      "flex cursor-default items-center justify-center py-1",
      className
    )}
    {...props}
  >
    <ChevronUp className="h-4 w-4" />
  </SelectPrimitive.ScrollUpButton>
))
SelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName

const SelectScrollDownButton = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>
>(({ className, ...props }, ref) => (
  <SelectPrimitive.ScrollDownButton
    ref={ref}
    className={cn(
      "flex cursor-default items-center justify-center py-1",
      className
    )}
    {...props}
  >
    <ChevronDown className="h-4 w-4" />
  </SelectPrimitive.ScrollDownButton>
))
SelectScrollDownButton.displayName =
  SelectPrimitive.ScrollDownButton.displayName

const SelectContent = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>
>(({ className, children, position = "popper", ...props }, ref) => (
  <SelectPrimitive.Portal>
    <SelectPrimitive.Content
      ref={ref}
      className={cn(
        "relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",
        position === "popper" &&
          "data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",
        className
      )}
      position={position}
      {...props}
    >
      <SelectScrollUpButton />
      <SelectPrimitive.Viewport
        className={cn(
          "p-1",
          position === "popper" &&
            "h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"
        )}
      >
        {children}
      </SelectPrimitive.Viewport>
      <SelectScrollDownButton />
    </SelectPrimitive.Content>
  </SelectPrimitive.Portal>
))
SelectContent.displayName = SelectPrimitive.Content.displayName

const SelectLabel = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.Label>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>
>(({ className, ...props }, ref) => (
  <SelectPrimitive.Label
    ref={ref}
    className={cn("px-2 py-1.5 text-sm font-semibold", className)}
    {...props}
  />
))
SelectLabel.displayName = SelectPrimitive.Label.displayName

const SelectItem = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.Item>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>
>(({ className, children, ...props }, ref) => (
  <SelectPrimitive.Item
    ref={ref}
    className={cn(
      "relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",
      className
    )}
    {...props}
  >
    <span className="absolute right-2 flex h-3.5 w-3.5 items-center justify-center">
      <SelectPrimitive.ItemIndicator>
        <Check className="h-4 w-4" />
      </SelectPrimitive.ItemIndicator>
    </span>
    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>
  </SelectPrimitive.Item>
))
SelectItem.displayName = SelectPrimitive.Item.displayName

const SelectSeparator = React.forwardRef<
  React.ElementRef<typeof SelectPrimitive.Separator>,
  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>
>(({ className, ...props }, ref) => (
  <SelectPrimitive.Separator
    ref={ref}
    className={cn("-mx-1 my-1 h-px bg-muted", className)}
    {...props}
  />
))
SelectSeparator.displayName = SelectPrimitive.Separator.displayName

export {
  Select,
  SelectGroup,
  SelectValue,
  SelectTrigger,
  SelectContent,
  SelectLabel,
  SelectItem,
  SelectSeparator,
  SelectScrollUpButton,
  SelectScrollDownButton,
}
</file>

<file path="components/ui/separator.tsx">
"use client"

import * as React from "react"
import * as SeparatorPrimitive from "@radix-ui/react-separator"

import { cn } from "@/lib/utils"

const Separator = React.forwardRef<
  React.ElementRef<typeof SeparatorPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>
>(
  (
    { className, orientation = "horizontal", decorative = true, ...props },
    ref
  ) => (
    <SeparatorPrimitive.Root
      ref={ref}
      decorative={decorative}
      orientation={orientation}
      className={cn(
        "shrink-0 bg-border",
        orientation === "horizontal" ? "h-[1px] w-full" : "h-full w-[1px]",
        className
      )}
      {...props}
    />
  )
)
Separator.displayName = SeparatorPrimitive.Root.displayName

export { Separator }
</file>

<file path="components/ui/sheet.tsx">
"use client"

import * as React from "react"
import * as SheetPrimitive from "@radix-ui/react-dialog"
import { cva, type VariantProps } from "class-variance-authority"
import { X } from "lucide-react"

import { cn } from "@/lib/utils"

const Sheet = SheetPrimitive.Root

const SheetTrigger = SheetPrimitive.Trigger

const SheetClose = SheetPrimitive.Close

const SheetPortal = SheetPrimitive.Portal

const SheetOverlay = React.forwardRef<
  React.ElementRef<typeof SheetPrimitive.Overlay>,
  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>
>(({ className, ...props }, ref) => (
  <SheetPrimitive.Overlay
    className={cn(
      "fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",
      className
    )}
    {...props}
    ref={ref}
  />
))
SheetOverlay.displayName = SheetPrimitive.Overlay.displayName

const sheetVariants = cva(
  "fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",
  {
    variants: {
      side: {
        top: "inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",
        bottom:
          "inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",
        left: "inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",
        right:
          "inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm",
      },
    },
    defaultVariants: {
      side: "right",
    },
  }
)

interface SheetContentProps
  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,
    VariantProps<typeof sheetVariants> {}

const SheetContent = React.forwardRef<
  React.ElementRef<typeof SheetPrimitive.Content>,
  SheetContentProps
>(({ side = "right", className, children, ...props }, ref) => (
  <SheetPortal>
    <SheetOverlay />
    <SheetPrimitive.Content
      ref={ref}
      className={cn(sheetVariants({ side }), className)}
      {...props}
    >
      <SheetPrimitive.Close className="absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary">
        <X className="h-4 w-4" />
        <span className="sr-only">Close</span>
      </SheetPrimitive.Close>
      {children}
    </SheetPrimitive.Content>
  </SheetPortal>
))
SheetContent.displayName = SheetPrimitive.Content.displayName

const SheetHeader = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) => (
  <div
    className={cn(
      "flex flex-col space-y-2 text-center sm:text-left",
      className
    )}
    {...props}
  />
)
SheetHeader.displayName = "SheetHeader"

const SheetFooter = ({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) => (
  <div
    className={cn(
      "flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",
      className
    )}
    {...props}
  />
)
SheetFooter.displayName = "SheetFooter"

const SheetTitle = React.forwardRef<
  React.ElementRef<typeof SheetPrimitive.Title>,
  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>
>(({ className, ...props }, ref) => (
  <SheetPrimitive.Title
    ref={ref}
    className={cn("text-lg font-semibold text-foreground", className)}
    {...props}
  />
))
SheetTitle.displayName = SheetPrimitive.Title.displayName

const SheetDescription = React.forwardRef<
  React.ElementRef<typeof SheetPrimitive.Description>,
  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>
>(({ className, ...props }, ref) => (
  <SheetPrimitive.Description
    ref={ref}
    className={cn("text-sm text-muted-foreground", className)}
    {...props}
  />
))
SheetDescription.displayName = SheetPrimitive.Description.displayName

export {
  Sheet,
  SheetPortal,
  SheetOverlay,
  SheetTrigger,
  SheetClose,
  SheetContent,
  SheetHeader,
  SheetFooter,
  SheetTitle,
  SheetDescription,
}
</file>

<file path="components/ui/skeleton.tsx">
import { cn } from "@/lib/utils"

function Skeleton({
  className,
  ...props
}: React.HTMLAttributes<HTMLDivElement>) {
  return (
    <div
      className={cn("animate-pulse rounded-md bg-primary/10", className)}
      {...props}
    />
  )
}

export { Skeleton }
</file>

<file path="components/ui/sonner.tsx">
"use client"

import { useTheme } from "next-themes"
import { Toaster as Sonner } from "sonner"

type ToasterProps = React.ComponentProps<typeof Sonner>

const Toaster = ({ ...props }: ToasterProps) => {
  const { theme = "system" } = useTheme()

  return (
    <Sonner
      theme={theme as ToasterProps["theme"]}
      className="toaster group"
      toastOptions={{
        classNames: {
          toast:
            "group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",
          description: "group-[.toast]:text-muted-foreground",
          actionButton:
            "group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",
          cancelButton:
            "group-[.toast]:bg-muted group-[.toast]:text-muted-foreground",
        },
      }}
      {...props}
    />
  )
}

export { Toaster }
</file>

<file path="components/ui/switch.tsx">
"use client"

import * as React from "react"
import * as SwitchPrimitives from "@radix-ui/react-switch"

import { cn } from "@/lib/utils"

const Switch = React.forwardRef<
  React.ElementRef<typeof SwitchPrimitives.Root>,
  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>
>(({ className, ...props }, ref) => (
  <SwitchPrimitives.Root
    className={cn(
      "peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-[#febe5d] data-[state=unchecked]:bg-input",
      className
    )}
    {...props}
    ref={ref}
  >
    <SwitchPrimitives.Thumb
      className={cn(
        "pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0"
      )}
    />
  </SwitchPrimitives.Root>
))
Switch.displayName = SwitchPrimitives.Root.displayName

export { Switch }
</file>

<file path="components/ui/table.tsx">
import * as React from "react"

import { cn } from "@/lib/utils"

const Table = React.forwardRef<
  HTMLTableElement,
  React.HTMLAttributes<HTMLTableElement>
>(({ className, ...props }, ref) => (
  <div className="relative w-full overflow-auto">
    <table
      ref={ref}
      className={cn("w-full caption-bottom text-sm", className)}
      {...props}
    />
  </div>
))
Table.displayName = "Table"

const TableHeader = React.forwardRef<
  HTMLTableSectionElement,
  React.HTMLAttributes<HTMLTableSectionElement>
>(({ className, ...props }, ref) => (
  <thead ref={ref} className={cn("[&_tr]:border-b", className)} {...props} />
))
TableHeader.displayName = "TableHeader"

const TableBody = React.forwardRef<
  HTMLTableSectionElement,
  React.HTMLAttributes<HTMLTableSectionElement>
>(({ className, ...props }, ref) => (
  <tbody
    ref={ref}
    className={cn("[&_tr:last-child]:border-0", className)}
    {...props}
  />
))
TableBody.displayName = "TableBody"

const TableFooter = React.forwardRef<
  HTMLTableSectionElement,
  React.HTMLAttributes<HTMLTableSectionElement>
>(({ className, ...props }, ref) => (
  <tfoot
    ref={ref}
    className={cn(
      "border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",
      className
    )}
    {...props}
  />
))
TableFooter.displayName = "TableFooter"

const TableRow = React.forwardRef<
  HTMLTableRowElement,
  React.HTMLAttributes<HTMLTableRowElement>
>(({ className, ...props }, ref) => (
  <tr
    ref={ref}
    className={cn(
      "border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",
      className
    )}
    {...props}
  />
))
TableRow.displayName = "TableRow"

const TableHead = React.forwardRef<
  HTMLTableCellElement,
  React.ThHTMLAttributes<HTMLTableCellElement>
>(({ className, ...props }, ref) => (
  <th
    ref={ref}
    className={cn(
      "h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",
      className
    )}
    {...props}
  />
))
TableHead.displayName = "TableHead"

const TableCell = React.forwardRef<
  HTMLTableCellElement,
  React.TdHTMLAttributes<HTMLTableCellElement>
>(({ className, ...props }, ref) => (
  <td
    ref={ref}
    className={cn(
      "p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",
      className
    )}
    {...props}
  />
))
TableCell.displayName = "TableCell"

const TableCaption = React.forwardRef<
  HTMLTableCaptionElement,
  React.HTMLAttributes<HTMLTableCaptionElement>
>(({ className, ...props }, ref) => (
  <caption
    ref={ref}
    className={cn("mt-4 text-sm text-muted-foreground", className)}
    {...props}
  />
))
TableCaption.displayName = "TableCaption"

export {
  Table,
  TableHeader,
  TableBody,
  TableFooter,
  TableHead,
  TableRow,
  TableCell,
  TableCaption,
}
</file>

<file path="components/ui/tabs.tsx">
"use client"

import * as React from "react"
import * as TabsPrimitive from "@radix-ui/react-tabs"

import { cn } from "@/lib/utils"

const Tabs = TabsPrimitive.Root

const TabsList = React.forwardRef<
  React.ElementRef<typeof TabsPrimitive.List>,
  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>
>(({ className, ...props }, ref) => (
  <TabsPrimitive.List
    ref={ref}
    className={cn(
      "inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",
      className
    )}
    {...props}
  />
))
TabsList.displayName = TabsPrimitive.List.displayName

const TabsTrigger = React.forwardRef<
  React.ElementRef<typeof TabsPrimitive.Trigger>,
  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>
>(({ className, ...props }, ref) => (
  <TabsPrimitive.Trigger
    ref={ref}
    className={cn(
      "inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",
      className
    )}
    {...props}
  />
))
TabsTrigger.displayName = TabsPrimitive.Trigger.displayName

const TabsContent = React.forwardRef<
  React.ElementRef<typeof TabsPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>
>(({ className, ...props }, ref) => (
  <TabsPrimitive.Content
    ref={ref}
    className={cn(
      "mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",
      className
    )}
    {...props}
  />
))
TabsContent.displayName = TabsPrimitive.Content.displayName

export { Tabs, TabsList, TabsTrigger, TabsContent }
</file>

<file path="components/ui/toggle-group.tsx">
"use client"

import * as React from "react"
import * as ToggleGroupPrimitive from "@radix-ui/react-toggle-group"
import { type VariantProps } from "class-variance-authority"

import { cn } from "@/lib/utils"
import { toggleVariants } from "@/components/ui/toggle"

const ToggleGroupContext = React.createContext<
  VariantProps<typeof toggleVariants>
>({
  size: "default",
  variant: "default",
})

const ToggleGroup = React.forwardRef<
  React.ElementRef<typeof ToggleGroupPrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Root> &
    VariantProps<typeof toggleVariants>
>(({ className, variant, size, children, ...props }, ref) => (
  <ToggleGroupPrimitive.Root
    ref={ref}
    className={cn("flex items-center justify-center gap-1", className)}
    {...props}
  >
    <ToggleGroupContext.Provider value={{ variant, size }}>
      {children}
    </ToggleGroupContext.Provider>
  </ToggleGroupPrimitive.Root>
))

ToggleGroup.displayName = ToggleGroupPrimitive.Root.displayName

const ToggleGroupItem = React.forwardRef<
  React.ElementRef<typeof ToggleGroupPrimitive.Item>,
  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Item> &
    VariantProps<typeof toggleVariants>
>(({ className, children, variant, size, ...props }, ref) => {
  const context = React.useContext(ToggleGroupContext)

  return (
    <ToggleGroupPrimitive.Item
      ref={ref}
      className={cn(
        toggleVariants({
          variant: context.variant || variant,
          size: context.size || size,
        }),
        className
      )}
      {...props}
    >
      {children}
    </ToggleGroupPrimitive.Item>
  )
})

ToggleGroupItem.displayName = ToggleGroupPrimitive.Item.displayName

export { ToggleGroup, ToggleGroupItem }
</file>

<file path="components/ui/toggle.tsx">
"use client"

import * as React from "react"
import * as TogglePrimitive from "@radix-ui/react-toggle"
import { cva, type VariantProps } from "class-variance-authority"

import { cn } from "@/lib/utils"

const toggleVariants = cva(
  "inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",
  {
    variants: {
      variant: {
        default: "bg-transparent",
        outline:
          "border border-input bg-transparent shadow-sm hover:bg-accent hover:text-accent-foreground",
      },
      size: {
        default: "h-9 px-2 min-w-9",
        sm: "h-8 px-1.5 min-w-8",
        lg: "h-10 px-2.5 min-w-10",
      },
    },
    defaultVariants: {
      variant: "default",
      size: "default",
    },
  }
)

const Toggle = React.forwardRef<
  React.ElementRef<typeof TogglePrimitive.Root>,
  React.ComponentPropsWithoutRef<typeof TogglePrimitive.Root> &
    VariantProps<typeof toggleVariants>
>(({ className, variant, size, ...props }, ref) => (
  <TogglePrimitive.Root
    ref={ref}
    className={cn(toggleVariants({ variant, size, className }))}
    {...props}
  />
))

Toggle.displayName = TogglePrimitive.Root.displayName

export { Toggle, toggleVariants }
</file>

<file path="components/ui/tooltip.tsx">
"use client"

import * as React from "react"
import * as TooltipPrimitive from "@radix-ui/react-tooltip"

import { cn } from "@/lib/utils"

const TooltipProvider = TooltipPrimitive.Provider

const Tooltip = TooltipPrimitive.Root

const TooltipTrigger = TooltipPrimitive.Trigger

const TooltipContent = React.forwardRef<
  React.ElementRef<typeof TooltipPrimitive.Content>,
  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>
>(({ className, sideOffset = 4, ...props }, ref) => (
  <TooltipPrimitive.Portal>
    <TooltipPrimitive.Content
      ref={ref}
      sideOffset={sideOffset}
      className={cn(
        "z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",
        className
      )}
      {...props}
    />
  </TooltipPrimitive.Portal>
))
TooltipContent.displayName = TooltipPrimitive.Content.displayName

export { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }
</file>

<file path="data/questions.ts">
export interface QuestionOption {
  label: string;
  value: number;
}

export interface Question {
  id: string;
  category: string;
  text: string;
  type: "text" | "email" | "select" | "textarea";
  weight: number;
  options?: QuestionOption[] | string[];
}

export const ASSESSMENT_QUESTIONS: Question[] = [
  // --- PART 1: IDENTITY (Lead Capture - Not Scored) ---
  {
    id: "q1",
    category: "IDENTITY",
    text: "Your Name",
    type: "text",
    weight: 0,
  },
  {
    id: "q2",
    category: "IDENTITY",
    text: "Your Email",
    type: "email",
    weight: 0,
  },
  {
    id: "q3",
    category: "IDENTITY",
    text: "Your Role",
    type: "select",
    weight: 0,
    options: [
      "Founder / Owner",
      "CEO / Managing Director",
      "Commercial / Sales Lead",
      "Strategy / BD",
      "Other",
    ],
  },
  {
    id: "q4",
    category: "IDENTITY",
    text: "Company Industry",
    type: "select",
    weight: 0,
    options: [
      "Tech / SaaS",
      "Manufacturing",
      "Retail / E-commerce",
      "Professional Services",
      "Finance / Real Estate",
      "Other",
    ],
  },

  // --- PART 2: SIGNAL-TO-NOISE BASELINE (Scored: Q5-Q14) ---

  // MARKET SIGNAL CLARITY
  {
    id: "q5",
    category: "MARKET_SIGNAL",
    text: "Do you have clear evidence of active buyers in your target market (not just interest)?",
    type: "select",
    weight: 3,
    options: [
      { label: "Yes, verified by recent deals", value: 3 },
      { label: "Some signals, but not consistent", value: 2 },
      { label: "Mostly assumptions", value: 1 },
      { label: "No clear visibility", value: 0 },
    ],
  },
  {
    id: "q6",
    category: "MARKET_SIGNAL",
    text: "Can you clearly explain why customers choose you over alternatives?",
    type: "select",
    weight: 3,
    options: [
      { label: "Very clear", value: 3 },
      { label: "Somewhat clear", value: 2 },
      { label: "Unclear", value: 1 },
      { label: "We are guessing", value: 0 },
    ],
  },
  {
    id: "q7",
    category: "MARKET_SIGNAL",
    text: "Do you know which markets or segments you should not pursue right now?",
    type: "select",
    weight: 3,
    options: [
      { label: "Yes, clearly defined", value: 3 },
      { label: "Some idea", value: 2 },
      { label: "Not really", value: 1 },
      { label: "We try everything", value: 0 },
    ],
  },

  // CUSTOMER PRIORITY & CAC
  {
    id: "q8",
    category: "CUSTOMER_PRIORITY",
    text: "Are your sales efforts focused on a defined buyer profile?",
    type: "select",
    weight: 3,
    options: [
      { label: "Very focused", value: 3 },
      { label: "Somewhat focused", value: 2 },
      { label: "Broad targeting", value: 1 },
      { label: "No clear prioritisation", value: 0 },
    ],
  },
  {
    id: "q9",
    category: "CUSTOMER_PRIORITY",
    text: "How confident are you that your current CAC is justified by LTV?",
    type: "select",
    weight: 3,
    options: [
      { label: "Very confident", value: 3 },
      { label: "Somewhat confident", value: 2 },
      { label: "Unsure", value: 1 },
      { label: "We don't track this clearly", value: 0 },
    ],
  },
  {
    id: "q10",
    category: "CUSTOMER_PRIORITY",
    text: "How much time or budget is currently spent on low-conversion prospects?",
    type: "select",
    weight: 3,
    options: [
      { label: "Very little", value: 3 },
      { label: "Some", value: 2 },
      { label: "A lot", value: 1 },
      { label: "We don't know", value: 0 },
    ],
  },

  // EXECUTION & DECISION STRUCTURE
  {
    id: "q11",
    category: "EXECUTION",
    text: "Do you have a structured way to decide where to sell next?",
    type: "select",
    weight: 3,
    options: [
      { label: "Yes, systematic", value: 3 },
      { label: "Partially structured", value: 2 },
      { label: "Ad-hoc", value: 1 },
      { label: "Based on intuition", value: 0 },
    ],
  },
  {
    id: "q12",
    category: "EXECUTION",
    text: "Before launching campaigns or attending events, do you validate demand?",
    type: "select",
    weight: 3,
    options: [
      { label: "Always", value: 3 },
      { label: "Sometimes", value: 2 },
      { label: "Rarely", value: 1 },
      { label: "Never", value: 0 },
    ],
  },
  {
    id: "q13",
    category: "EXECUTION",
    text: "Are key go-to-market decisions documented and repeatable?",
    type: "select",
    weight: 3,
    options: [
      { label: "Fully documented", value: 3 },
      { label: "Partially", value: 2 },
      { label: "Mostly in people's heads", value: 1 },
      { label: "Not at all", value: 0 },
    ],
  },

  // SIGNAL CONFIDENCE
  {
    id: "q14",
    category: "CONFIDENCE",
    text: "If you stopped all marketing for 60 days, would you still know where demand exists?",
    type: "select",
    weight: 3,
    options: [
      { label: "Yes", value: 3 },
      { label: "Probably", value: 2 },
      { label: "Not sure", value: 1 },
      { label: "No", value: 0 },
    ],
  },

  // --- PART 3: QUALIFICATION QUESTIONS (Strategic - Not Scored) ---
  {
    id: "q15",
    category: "STRATEGY",
    text: "Which best describes your current situation?",
    type: "select",
    weight: 0,
    options: [
      "Early growth",
      "Scaling",
      "Mature but inefficient",
      "Exploring new markets",
    ],
  },
  {
    id: "q16",
    category: "STRATEGY",
    text: "What outcome matters most in the next 90 days?",
    type: "select",
    weight: 0,
    options: [
      "More qualified leads",
      "Lower CAC",
      "Better conversion",
      "Clear market direction",
    ],
  },
  {
    id: "q17",
    category: "STRATEGY",
    text: "What do you believe is your biggest obstacle?",
    type: "select",
    weight: 0,
    options: [
      "Wrong market focus",
      "Low-quality leads",
      "High CAC",
      "Unclear positioning",
    ],
  },
  {
    id: "q18",
    category: "STRATEGY",
    text: "What type of support would help most?",
    type: "select",
    weight: 0,
    options: [
      "Direction & insight",
      "Strategy design",
      "Execution support",
      "Full advisory",
    ],
  },
  {
    id: "q19",
    category: "STRATEGY",
    text: "Is there anything important we should know?",
    type: "textarea",
    weight: 0,
  },
];

// Helper: Get total number of questions
export const TOTAL_QUESTIONS = ASSESSMENT_QUESTIONS.length;

// Helper: Get only scored questions (Q5-Q14)
export const SCORED_QUESTIONS = ASSESSMENT_QUESTIONS.filter(
  (q) => q.weight > 0
);

// Helper: Calculate max possible score
export const MAX_SCORE = SCORED_QUESTIONS.reduce(
  (sum, q) => sum + q.weight,
  0
);
</file>

<file path="hooks/use-leads.ts">
"use client"

import { useEffect, useState } from "react"
import { createClient } from "@/lib/supabase/client"

interface Lead {
  id: string
  date: string
  name: string
  email: string
  role: string
  industry: string
  tier: string
  score: number
}

interface UseLeadsResult {
  leads: Lead[]
  isLoading: boolean
  error: Error | null
  stats: {
    totalLeads: number
    avgScore: number
    growthReady: number
  }
}

export function useLeads(): UseLeadsResult {
  const [leads, setLeads] = useState<Lead[]>([])
  const [isLoading, setIsLoading] = useState(true)
  const [error, setError] = useState<Error | null>(null)

  useEffect(() => {
    async function fetchLeads() {
      try {
        const supabase = createClient()
        const { data, error } = await supabase
          .from('assessment_submissions')
          .select('*')
          .order('created_at', { ascending: false })

        if (error) throw error

        // Transform data to match Lead interface
        const transformedData = (data || []).map((item: any) => ({
          id: item.id,
          date: item.created_at,
          name: item.name || 'Unknown',
          email: item.email,
          role: item.role || 'N/A',
          industry: item.industry || 'N/A',
          tier: item.tier || 'Unknown',
          score: item.score || 0,
        }))

        setLeads(transformedData)
      } catch (err) {
        setError(err as Error)
      } finally {
        setIsLoading(false)
      }
    }

    fetchLeads()
  }, [])

  // Calculate stats
  const stats = {
    totalLeads: leads.length,
    avgScore: leads.length > 0 
      ? Math.round(leads.reduce((sum, lead) => sum + lead.score, 0) / leads.length)
      : 0,
    growthReady: leads.filter(lead => 
      lead.tier.toLowerCase().includes('growth')
    ).length,
  }

  return { leads, isLoading, error, stats }
}
</file>

<file path="hooks/use-mobile.tsx">
import * as React from "react"

const MOBILE_BREAKPOINT = 768

export function useIsMobile() {
  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(undefined)

  React.useEffect(() => {
    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`)
    const onChange = () => {
      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)
    }
    mql.addEventListener("change", onChange)
    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT)
    return () => mql.removeEventListener("change", onChange)
  }, [])

  return !!isMobile
}
</file>

<file path="lib/admin-logging.ts">
import logger from './logger';

export function logLeadFetchError(error: any, lead: any, status: any, paramsId: string) {
  // In development, log detailed structured debug info
  if (process.env.NODE_ENV === 'development') {
    logger.error('Error fetching lead:', { message: error?.message || null, details: error?.details || null, status, paramsId, data: lead });
    return;
  }

  // In production, log a minimal non-PII message
  logger.error(`Error fetching lead id ${paramsId}: ${error?.message ?? 'No further details available'}`);
}
</file>

<file path="lib/cn.ts">
import { type ClassValue, clsx } from "clsx"
import { twMerge } from "tailwind-merge"

export function cn(...inputs: ClassValue[]) {
  return twMerge(clsx(inputs))
}
</file>

<file path="lib/logger.ts">
export function debug(...args: unknown[]) {
  if (process.env.NODE_ENV === 'development') {
    console.debug('[debug]', ...args);
  }
}

export function info(...args: unknown[]) {
  if (process.env.NODE_ENV === 'development') {
    console.info('[info]', ...args);
  } else {
    console.log('[info]', ...args);
  }
}

export function warn(...args: unknown[]) {
  if (process.env.NODE_ENV === 'development') {
    console.warn('[warn]', ...args);
  } else {
    console.warn('[warn]', ...args);
  }
}

export function error(message: string, details?: unknown) {
  const meta = details === undefined ? '' : (typeof details === 'string' ? details : JSON.stringify(details));
  if (process.env.NODE_ENV === 'development') {
    // Compose a single string so tests can assert on the first argument
    const out = `[error] ${message}${meta ? ' ' + meta : ''}`;
    console.error(out);
  } else {
    // Keep production errors minimal to avoid leaking PII
    console.error(message);
  }
}

const logger = {
  debug,
  info,
  warn,
  error,
};

export default logger;
</file>

<file path="lib/supabase/client.ts">
import { createBrowserClient } from '@supabase/ssr';

export function createClient() {
  return createBrowserClient(
    process.env.NEXT_PUBLIC_SUPABASE_URL!,
    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!
  );
}
</file>

<file path="lib/supabase/server.ts">
import { createServerClient, type CookieOptions } from '@supabase/ssr';
import { cookies } from 'next/headers';

export async function createClient() {
  const cookieStore = await cookies();

  return createServerClient(
    process.env.NEXT_PUBLIC_SUPABASE_URL!,
    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,
    {
      cookies: {
        get(name: string) {
          return cookieStore.get(name)?.value;
        },
        set(name: string, value: string, options: CookieOptions) {
          try {
            cookieStore.set({ name, value, ...options });
          } catch (error) {
            // The `set` method was called from a Server Component.
            // This can be ignored if you have middleware refreshing
            // user sessions.
          }
        },
        remove(name: string, options: CookieOptions) {
          try {
            cookieStore.set({ name, value: '', ...options });
          } catch (error) {
            // The `delete` method was called from a Server Component.
            // This can be ignored if you have middleware refreshing
            // user sessions.
          }
        },
      },
    }
  );
}

// Create a Supabase client using the Service Role Key (server-only)
// Use this only on the server (never expose the service role key to clients).
import { createClient as createSupabaseClient } from '@supabase/supabase-js';

export function createServiceRoleClient() {
  const url = process.env.NEXT_PUBLIC_SUPABASE_URL;
  const serviceKey = process.env.SUPABASE_SERVICE_ROLE_KEY;

  if (!url || !serviceKey) {
    throw new Error('Missing SUPABASE_SERVICE_ROLE_KEY or NEXT_PUBLIC_SUPABASE_URL in server environment');
  }

  return createSupabaseClient(url, serviceKey, {
    auth: { persistSession: false },
  });
}
</file>

<file path="lib/utils.ts">
import { clsx, type ClassValue } from "clsx"
import { twMerge } from "tailwind-merge"

export function cn(...inputs: ClassValue[]) {
  return twMerge(clsx(inputs))
}
</file>

<file path="middleware.ts">
import { createServerClient, type CookieOptions } from '@supabase/ssr';
import { NextResponse, type NextRequest } from 'next/server';

export async function middleware(request: NextRequest) {
  let response = NextResponse.next({
    request: {
      headers: request.headers,
    },
  });

  const supabase = createServerClient(
    process.env.NEXT_PUBLIC_SUPABASE_URL!,
    process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,
    {
      cookies: {
        get(name: string) {
          return request.cookies.get(name)?.value;
        },
        set(name: string, value: string, options: CookieOptions) {
          request.cookies.set({
            name,
            value,
            ...options,
          });
          response = NextResponse.next({
            request: {
              headers: request.headers,
            },
          });
          response.cookies.set({
            name,
            value,
            ...options,
          });
        },
        remove(name: string, options: CookieOptions) {
          request.cookies.set({
            name,
            value: '',
            ...options,
          });
          response = NextResponse.next({
            request: {
              headers: request.headers,
            },
          });
          response.cookies.set({
            name,
            value: '',
            ...options,
          });
        },
      },
    }
  );

  const {
    data: { user },
  } = await supabase.auth.getUser();

  // Protect admin routes (all admin pages except login)
  if (request.nextUrl.pathname.startsWith('/admin') && request.nextUrl.pathname !== '/admin/login') {
    if (!user) {
      return NextResponse.redirect(new URL('/admin/login', request.url));
    }
  }

  // Redirect to dashboard if already logged in
  if (request.nextUrl.pathname === '/admin/login') {
    if (user) {
      return NextResponse.redirect(new URL('/admin/dashboard', request.url));
    }
  }

  return response;
}

export const config = {
  matcher: ['/admin/:path*'],
};
</file>

<file path="next.config.ts">
import type { NextConfig } from "next";

const nextConfig: NextConfig = {
  /* config options here */
};

export default nextConfig;
</file>

<file path="playwright.config.ts">
import { defineConfig, devices } from '@playwright/test';

export default defineConfig({
  testDir: 'tests/e2e',
  timeout: 30_000,
  expect: { timeout: 5000 },
  fullyParallel: true,
  forbidOnly: !!process.env.CI,
  retries: process.env.CI ? 2 : 0,
  reporter: 'list',
  use: {
    actionTimeout: 0,
    baseURL: 'http://localhost:3000',
    trace: 'on-first-retry',
  },
  webServer: {
    command: 'npm run dev',
    url: 'http://localhost:3000',
    reuseExistingServer: true,
    timeout: 120_000,
  },
  projects: [
    { name: 'chromium', use: { ...devices['Desktop Chrome'] } },
  ],
});
</file>

<file path="services/assessment-service.ts">
'use server';

import { createClient, createServiceRoleClient } from "@/lib/supabase/server";

// Define the structure for a single answer
export interface Answer {
  questionId: string;
  question: string;
  answer: string | number;
  score: number;
}

// Define the structure for the database record
export interface AssessmentRecord {
  contact_name: string;
  contact_email: string;
  contact_role: string;
  company_industry: string;
  answers: Answer[];
  score_total: number;
  tier_result: string;
  status?: string;
}

// Define the structure for the data submitted to the server action
export interface SubmitAssessmentData {
  score: number;
  tier: string;
  contactInfo: {
    name: string;
    email: string;
    role: string;
    industry: string;
  };
  answers: Answer[];
}

/**
 * Get tier name based on score percentage
 * Tier 1 (0-40%): Noise-Driven Execution
 * Tier 2 (41-70%): Partial Signal Clarity
 * Tier 3 (71-100%): Signal-Driven Growth
 */
function getTierName(scorePercentage: number): string {
  if (scorePercentage <= 40) {
    return 'Noise-Driven Execution';
  }
  if (scorePercentage <= 70) {
    return 'Partial Signal Clarity';
  }
  return 'Signal-Driven Growth';
}


/**
 * Submit assessment to Supabase (Server Action)
 * This is a recreated version of the file.
 */
export async function submitAssessment(data: SubmitAssessmentData) {
  try {
    // Basic validation
    if (!data.contactInfo?.email || !data.contactInfo?.name) {
      throw new Error('Contact information is required');
    }

    if (!data.answers || data.answers.length === 0) {
      throw new Error('Assessment answers are required');
    }

    // Verify environment variables
    if (!process.env.NEXT_PUBLIC_SUPABASE_URL) {
      throw new Error('NEXT_PUBLIC_SUPABASE_URL is not configured');
    }
    if (!process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY) {
      throw new Error('NEXT_PUBLIC_SUPABASE_ANON_KEY is not configured');
    }

    // Use a service role client for inserts to bypass RLS, with a fallback to the user's session.
    let supabase;
    try {
      supabase = createServiceRoleClient();
      console.log('✅ Using Service Role Client');
    } catch (err) {
      console.warn('⚠️  SUPABASE_SERVICE_ROLE_KEY not found; falling back to server session client.');
      console.warn('💡 Tip: Add SUPABASE_SERVICE_ROLE_KEY to .env.local for better reliability');
      supabase = await createClient();
    }
    
    const record: AssessmentRecord = {
      contact_name: data.contactInfo.name,
      contact_email: data.contactInfo.email,
      contact_role: data.contactInfo.role,
      company_industry: data.contactInfo.industry,
      answers: data.answers,
      score_total: data.score,
      tier_result: data.tier,
      status: 'new'
    };

    console.log('Submitting assessment:', {
      email: record.contact_email,
      score: record.score_total,
      tier: record.tier_result,
    });

    // Insert the record into the 'leads_assessment' table
    const { data: result, error } = await supabase
      .from('leads_assessment')
      .insert([record])
      .select();

    if (error) {
      console.error('❌ Supabase Insert Error:', error);
      console.error('Error details:', {
        message: error.message,
        code: error.code,
        details: error.details,
        hint: error.hint
      });
      
      // Provide more helpful error messages
      if (error.code === 'PGRST116') {
        throw new Error('Table "leads_assessment" not found. Please run the database migration.');
      }
      if (error.code === '42501') {
        throw new Error('Permission denied. Please check RLS policies or add SUPABASE_SERVICE_ROLE_KEY.');
      }
      if (error.message.includes('fetch failed')) {
        throw new Error('Cannot connect to database. Please check your internet connection and Supabase URL.');
      }
      
      throw new Error(`Database error: ${error.message}`);
    }

    console.log('Assessment submitted successfully:', result?.[0]?.id);
    return result;

  } catch (error) {
    console.error('❌ Failed to submit assessment:', error);
    
    // Enhanced error logging
    if (error instanceof Error) {
      console.error('Error name:', error.name);
      console.error('Error message:', error.message);
      if (error.stack) {
        console.error('Stack trace:', error.stack);
      }
    }
    
    // Re-throw the error to be handled by the calling client component
    if (error instanceof Error) {
      throw error;
    }
    
    throw new Error('An unknown error occurred during submission.');
  }
}
</file>

<file path="store/quiz-store.ts">
import { create } from "zustand";
import { ASSESSMENT_QUESTIONS, MAX_SCORE, Question } from "@/data/questions";
import { submitAssessment } from "@/services/assessment-service";

interface Answer {
  questionId: string;
  value: string | number;
}

interface ContactInfo {
  name: string;
  email: string;
  role: string;
  industry: string;
}

interface QuizState {
  currentStep: number;
  answers: Answer[];
  contactInfo: ContactInfo | null;
  isSubmitting: boolean;
  submissionError: string | null;
  hasSubmitted: boolean;
  lastSubmissionId?: string;

  // Actions
  setAnswer: (questionId: string, value: string | number) => void;
  setContactInfo: (info: ContactInfo) => void;
  nextStep: () => void;
  previousStep: () => void;
  goToStep: (step: number) => void;
  submitQuiz: () => Promise<unknown>;
  reset: () => void;

  // Getters
  getCurrentQuestion: () => Question | undefined;
  getAnswer: (questionId: string) => string | number | undefined;
  calculateScore: () => number;
  calculateScorePercentage: () => number;
  getTier: () => string;
  isQuizComplete: () => boolean;
  getContactInfo: () => ContactInfo | null;
}

export const useQuizStore = create<QuizState>((set, get) => ({
  // Initial state
  currentStep: 0,
  answers: [],
  contactInfo: null,
  isSubmitting: false,
  submissionError: null,
  hasSubmitted: false,
  lastSubmissionId: undefined,

  // Set answer for a question
  setAnswer: (questionId, value) => {
    set((state) => {
      const existingIndex = state.answers.findIndex(
        (a) => a.questionId === questionId
      );

      if (existingIndex >= 0) {
        // Update existing answer
        const newAnswers = [...state.answers];
        newAnswers[existingIndex] = { questionId, value };
        return { answers: newAnswers };
      } else {
        // Add new answer
        return {
          answers: [...state.answers, { questionId, value }],
        };
      }
    });
  },

  // Set contact information
  setContactInfo: (info) => {
    set({ contactInfo: info });
  },

  // Navigate to next step
  nextStep: () => {
    set((state) => ({
      currentStep: Math.min(
        state.currentStep + 1,
        ASSESSMENT_QUESTIONS.length - 1
      ),
    }));
  },

  // Navigate to previous step
  previousStep: () => {
    set((state) => ({
      currentStep: Math.max(state.currentStep - 1, 0),
    }));
  },

  // Go to specific step
  goToStep: (step) => {
    set({
      currentStep: Math.max(
        0,
        Math.min(step, ASSESSMENT_QUESTIONS.length - 1)
      ),
    });
  },

  // Get contact info from answers (Q1-Q4)
  getContactInfo: () => {
    const state = get();
    
    const name = state.answers.find(a => a.questionId === 'q1')?.value || '';
    const email = state.answers.find(a => a.questionId === 'q2')?.value || '';
    const role = state.answers.find(a => a.questionId === 'q3')?.value || '';
    const industry = state.answers.find(a => a.questionId === 'q4')?.value || '';

    if (name && email && role && industry) {
      return {
        name: String(name),
        email: String(email),
        role: String(role),
        industry: String(industry),
      };
    }

    return null;
  },

  // Submit quiz to Supabase (Enhanced with better error handling)
  submitQuiz: async () => {
    const state = get();

    // Clear previous errors
    set({ submissionError: null });

    // Get contact info from answers automatically
    const contactInfo = get().getContactInfo();

    if (!contactInfo) {
      const errorMsg = "กรุณากรอกข้อมูลติดต่อให้ครบถ้วน (ชื่อ, อีเมล, ตำแหน่ง, อุตสาหกรรม)";
      set({ submissionError: errorMsg });
      throw new Error(errorMsg);
    }

    if (!state.isQuizComplete()) {
      const errorMsg = "กรุณาตอบคำถามให้ครบทุกข้อ";
      set({ submissionError: errorMsg });
      throw new Error(errorMsg);
    }

    // Prevent double-submission on store-level
    if (get().hasSubmitted) {
      const msg = 'This quiz has already been submitted.';
      set({ submissionError: msg });
      throw new Error(msg);
    }

    set({ isSubmitting: true, submissionError: null });

    try {
      // Calculate final score
      const rawScore = get().calculateScore();
      const scorePercentage = get().calculateScorePercentage();
      const tierName = get().getTier();

      // Transform answers to match the expected format
      const formattedAnswers = state.answers.map((answer) => {
        const question = ASSESSMENT_QUESTIONS.find(q => q.id === answer.questionId);
        
        if (!question) {
          return {
            questionId: answer.questionId,
            question: 'Unknown question',
            answer: String(answer.value),
            score: 0
          };
        }

        // Get the answer text and score
        let answerText = String(answer.value);
        let answerScore = 0;

        // For select questions with options
        if (question.options && question.weight > 0) {
          if (typeof answer.value === 'number') {
            // Direct score value
            answerScore = answer.value;
            // Find the label for this score
            const option = question.options.find(
              opt => typeof opt === 'object' && opt.value === answer.value
            );
            if (option && typeof option === 'object') {
              answerText = option.label;
            }
          } else {
            // Answer is a label, find the score
            const option = question.options.find(
              opt => typeof opt === 'object' && opt.label === answer.value
            );
            if (option && typeof option === 'object') {
              answerScore = option.value;
              answerText = option.label;
            }
          }
        }

        return {
          questionId: answer.questionId,
          question: question.text,
          answer: answerText,
          score: answerScore
        };
      });

      console.log('📋 Preparing submission:', {
        rawScore,
        scorePercentage,
        tier: tierName,
        answersCount: formattedAnswers.length,
        contactEmail: contactInfo.email
      });

      // Submit to Supabase via Server Action
      const result = await submitAssessment({
        score: rawScore, // Send raw score, not percentage
        tier: tierName,
        contactInfo: contactInfo,
        answers: formattedAnswers, // Send formatted answers
      });

      console.log("✅ ส่งแบบประเมินสำเร็จ:", result);

      // Mark as submitted to prevent duplicates
      const insertedId = result?.[0]?.id || undefined;

      // Persist a lightweight result snapshot in sessionStorage so Results page can show
      // even if the client store is reset (e.g., full page navigation).
      try {
        if (typeof window !== 'undefined') {
          const snapshot = JSON.stringify({
            answers: state.answers,
            contactInfo,
            score: rawScore,
            scorePercentage,
            tier: tierName,
            submissionId: insertedId,
          });
          sessionStorage.setItem('last_quiz_result', snapshot);
        }
      } catch (e) {
        // ignore storage errors
      }

      set({ isSubmitting: false, hasSubmitted: true, lastSubmissionId: insertedId });
      
      return result;

    } catch (error) {
      console.error("❌ Error submitting assessment:", error);
      
      // Extract meaningful error message
      let errorMessage = "ไม่สามารถส่งแบบประเมินได้ กรุณาลองใหม่อีกครั้ง";
      
      if (error instanceof Error) {
        errorMessage = error.message;
      }

      set({
        isSubmitting: false,
        submissionError: errorMessage,
      });
      
      throw error;
    }
  },

  // Reset quiz
  reset: () => {
    set({
      currentStep: 0,
      answers: [],
      contactInfo: null,
      isSubmitting: false,
      submissionError: null,
      hasSubmitted: false,
      lastSubmissionId: undefined,
    });
  },

  // Get current question
  getCurrentQuestion: () => {
    const state = get();
    return ASSESSMENT_QUESTIONS[state.currentStep];
  },

  // Get answer for specific question
  getAnswer: (questionId) => {
    const state = get();
    const answer = state.answers.find((a) => a.questionId === questionId);
    return answer?.value;
  },

  // Calculate raw score (sum of points)
  calculateScore: () => {
    const state = get();
    let totalScore = 0;

    state.answers.forEach((answer) => {
      const question = ASSESSMENT_QUESTIONS.find(
        (q) => q.id === answer.questionId
      );

      if (question && question.weight > 0) {
        // For scored questions with options
        if (typeof answer.value === "number") {
          totalScore += answer.value;
        } else if (question.options) {
          const option = question.options.find(
            (opt) => typeof opt === "object" && opt.label === answer.value
          );
          if (option && typeof option === "object" && "value" in option) {
            totalScore += option.value;
          }
        }
      }
    });

    return totalScore;
  },

  // Calculate score as percentage
  calculateScorePercentage: () => {
    const score = get().calculateScore();
    return MAX_SCORE > 0 ? Math.round((score / MAX_SCORE) * 100) : 0;
  },

  // Get tier based on score
  getTier: () => {
    const percentage = get().calculateScorePercentage();

    if (percentage <= 40) {
      return "Noise-Driven Execution";
    } else if (percentage <= 70) {
      return "Partial Signal Clarity";
    } else {
      return "Signal-Driven Growth";
    }
  },

  // Check if all required questions are answered
  isQuizComplete: () => {
    const state = get();
    
    // Check contact info (Q1-Q4)
    const hasContactInfo = get().getContactInfo() !== null;
    if (!hasContactInfo) return false;

    // Check scored questions (Q5-Q14)
    const scoredQuestions = ASSESSMENT_QUESTIONS.filter((q) => q.weight > 0);
    return scoredQuestions.every((question) => {
      return state.answers.some((answer) => answer.questionId === question.id);
    });
  },
}));
</file>

<file path="tailwind.config.ts">
import type { Config } from "tailwindcss";

const config: Config = {
  content: [
    "./pages/**/*.{js,ts,jsx,tsx,mdx}",
    "./components/**/*.{js,ts,jsx,tsx,mdx}",
    "./app/**/*.{js,ts,jsx,tsx,mdx}",
  ],
  theme: {
    extend: {
      colors: {
        origo: {
          black: "#0a0a0a",
          charcoal: "#111111",
          gold: "#febe5d",
          "gold-glow": "rgba(254, 190, 93, 0.15)",
          white: "#ffffff",
          grey: "#a3a3a3",
          border: "#262626",
        },
      },
      fontFamily: {
        sans: ["var(--font-inter)", "Inter", "Manrope", "sans-serif"],
      },
      boxShadow: {
        "gold-glow": "0 0 20px rgba(254, 190, 93, 0.3)",
        laser: "0 0 10px #febe5d",
      },
      backdropBlur: {
        luxury: "40px",
      },
      animation: {
        "fade-up": "fadeUp 0.6s ease-out",
      },
      keyframes: {
        fadeUp: {
          "0%": { opacity: "0", transform: "translateY(20px)" },
          "100%": { opacity: "1", transform: "translateY(0)" },
        },
      },
    },
  },
  plugins: [],
};

export default config;
</file>

<file path="test-results/.last-run.json">
{
  "status": "passed",
  "failedTests": []
}
</file>

<file path="test-supabase-connection.ts">
// test-supabase-connection.ts
// วิธีใช้: npx tsx test-supabase-connection.ts

import { createClient } from '@supabase/supabase-js';

// ดึงค่า environment variables
const SUPABASE_URL = process.env.NEXT_PUBLIC_SUPABASE_URL;
const SUPABASE_ANON_KEY = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;
const SUPABASE_SERVICE_ROLE_KEY = process.env.SUPABASE_SERVICE_ROLE_KEY;

console.log('🔍 Checking Supabase Configuration...\n');

// ตรวจสอบ environment variables
console.log('Environment Variables:');
console.log('- SUPABASE_URL:', SUPABASE_URL ? '✅ Found' : '❌ Missing');
console.log('- SUPABASE_ANON_KEY:', SUPABASE_ANON_KEY ? '✅ Found' : '❌ Missing');
console.log('- SUPABASE_SERVICE_ROLE_KEY:', SUPABASE_SERVICE_ROLE_KEY ? '✅ Found' : '❌ Missing');
console.log('');

if (!SUPABASE_URL || !SUPABASE_ANON_KEY) {
  console.error('❌ Missing required environment variables!');
  process.exit(1);
}

// สร้าง Supabase client
const supabase = createClient(
  SUPABASE_URL,
  SUPABASE_SERVICE_ROLE_KEY || SUPABASE_ANON_KEY,
  {
    auth: { persistSession: false }
  }
);

async function testConnection() {
  console.log('🧪 Testing Supabase Connection...\n');

  try {
    // Test 1: ตรวจสอบว่า table exists
    console.log('Test 1: Checking if leads_assessment table exists...');
    const { data: tables, error: tableError } = await supabase
      .from('leads_assessment')
      .select('id')
      .limit(1);

    if (tableError) {
      console.error('❌ Table check failed:', tableError.message);
      console.log('\n💡 Fix: Run the migration SQL in Supabase Dashboard:');
      console.log('   Go to: Database → SQL Editor');
      console.log('   Run: migrations/001_create_leads_assessment.sql');
      return;
    }
    console.log('✅ Table exists and is accessible\n');

    // Test 2: ลอง insert ข้อมูล test
    console.log('Test 2: Trying to insert test record...');
    const testRecord = {
      contact_name: 'Test User',
      contact_email: 'test@example.com',
      contact_role: 'Test Role',
      company_industry: 'Test Industry',
      answers: [
        {
          questionId: 'q1',
          question: 'Test Question',
          answer: 'Test Answer',
          score: 0
        }
      ],
      score_total: 10,
      tier_result: 'Test Tier',
      status: 'test'
    };

    const { data: insertResult, error: insertError } = await supabase
      .from('leads_assessment')
      .insert([testRecord])
      .select();

    if (insertError) {
      console.error('❌ Insert failed:', insertError.message);
      console.log('\n💡 Possible causes:');
      console.log('   1. RLS (Row Level Security) is blocking inserts');
      console.log('   2. Table permissions are not configured');
      console.log('   3. SUPABASE_SERVICE_ROLE_KEY is not set or invalid');
      console.log('\n💡 Fix:');
      console.log('   Option A: Disable RLS on leads_assessment table');
      console.log('   Option B: Add INSERT policy for authenticated users');
      console.log('   Option C: Set SUPABASE_SERVICE_ROLE_KEY in .env.local');
      return;
    }

    console.log('✅ Insert successful!');
    console.log('   Inserted ID:', insertResult?.[0]?.id);
    console.log('');

    // Test 3: ลบ test record
    console.log('Test 3: Cleaning up test record...');
    const { error: deleteError } = await supabase
      .from('leads_assessment')
      .delete()
      .eq('status', 'test');

    if (deleteError) {
      console.warn('⚠️  Cleanup failed:', deleteError.message);
    } else {
      console.log('✅ Test record cleaned up\n');
    }

    // สรุปผล
    console.log('🎉 All tests passed! Supabase connection is working correctly.\n');

  } catch (error) {
    console.error('❌ Unexpected error:', error);
    
    if (error instanceof Error) {
      if (error.message.includes('fetch failed')) {
        console.log('\n💡 Network Error - Possible causes:');
        console.log('   1. No internet connection');
        console.log('   2. Firewall blocking Supabase');
        console.log('   3. Invalid SUPABASE_URL');
        console.log('   4. Supabase project is paused/deleted');
      }
    }
  }
}

// รัน test
testConnection();
</file>

<file path="tests/e2e/admin.spec.ts">
import { test, expect } from '@playwright/test';

test.describe('Admin routing & auth', () => {
  test('redirects unauthenticated /admin/dashboard to /admin/login', async ({ page }) => {
    const resp = await page.goto('/admin/dashboard');
    // If server redirects, Playwright may follow; check final URL
    expect(page.url()).toContain('/admin/login');
  });

  test('redirects unauthenticated /admin/leads/:id to /admin/login', async ({ page }) => {
    const fakeId = '00000000-0000-0000-0000-000000000000';
    await page.goto(`/admin/leads/${fakeId}`);
    expect(page.url()).toContain('/admin/login');
  });
});
</file>

<file path="tests/logger.test.ts">
import { describe, it, expect, vi, beforeEach, afterEach } from 'vitest';

// Reset modules between tests so logger picks up NODE_ENV correctly
beforeEach(() => {
  vi.resetModules();
});

afterEach(() => {
  vi.restoreAllMocks();
});

describe('logger', () => {
  it('debug logs only in development', async () => {
    process.env.NODE_ENV = 'development';
    const logger = await import('../lib/logger');

    const spy = vi.spyOn(console, 'debug').mockImplementation(() => {});

    logger.debug('test-debug', { a: 1 });

    expect(spy).toHaveBeenCalled();

    spy.mockRestore();
  });

  it('debug is silent in production', async () => {
    process.env.NODE_ENV = 'production';
    const logger = await import('../lib/logger');

    const spy = vi.spyOn(console, 'debug').mockImplementation(() => {});

    logger.debug('test-debug');

    expect(spy).not.toHaveBeenCalled();

    spy.mockRestore();
  });

  it('error shows details in development but minimal in production', async () => {
    // Dev case
    process.env.NODE_ENV = 'development';
    let logger = await import('../lib/logger');
    let spyErr = vi.spyOn(console, 'error').mockImplementation(() => {});

    logger.error('msg', { secret: 'PII' });
    // the logger composes a single string in dev containing the metadata
    expect(spyErr).toHaveBeenCalled();
    const devArg = spyErr.mock.calls[0][0] as string;
    expect(devArg).toContain('[error]');
    expect(devArg).toContain('msg');
    expect(devArg).toContain('"secret":"PII"');

    spyErr.mockRestore();

    // Prod case
    process.env.NODE_ENV = 'production';
    vi.resetModules();
    logger = await import('../lib/logger');
    spyErr = vi.spyOn(console, 'error').mockImplementation(() => {});

    logger.error('msg', { secret: 'PII' });
    expect(spyErr).toHaveBeenCalledWith('msg');

    spyErr.mockRestore();
  });
});
</file>

<file path="tests/logging.test.ts">
import { describe, it, beforeEach, afterEach, expect, vi } from 'vitest';
import { logLeadFetchError } from '../lib/admin-logging';

describe('logLeadFetchError', () => {
  const originalEnv = process.env.NODE_ENV;
  let consoleErrorSpy: any;

  beforeEach(() => {
    consoleErrorSpy = vi.spyOn(console, 'error').mockImplementation(() => {});
  });

  afterEach(() => {
    vi.restoreAllMocks();
    process.env.NODE_ENV = originalEnv;
  });

  it('logs detailed info in development', () => {
    process.env.NODE_ENV = 'development';
    const error = { message: 'boom', details: { foo: 'bar' } };
    logLeadFetchError(error, { id: 'abc' }, 500, 'abc');
    expect(consoleErrorSpy).toHaveBeenCalledTimes(1);
    const calledWith = consoleErrorSpy.mock.calls[0][0];
    expect(calledWith).toContain('Error fetching lead:');
    expect(calledWith).toContain('boom');
    expect(calledWith).toContain('"foo":"bar"');
  });

  it('logs minimal info in production', () => {
    process.env.NODE_ENV = 'production';
    const error = { message: 'boom', details: { foo: 'bar' } };
    logLeadFetchError(error, { id: 'abc' }, 500, 'abc');
    expect(consoleErrorSpy).toHaveBeenCalledTimes(1);
    const calledWith = consoleErrorSpy.mock.calls[0][0];
    expect(calledWith).toBe('Error fetching lead id abc: boom');
  });
});
</file>

<file path="tests/services/assessment-service.test.ts">
import { describe, it, expect, vi, beforeEach } from 'vitest';
import { submitAssessment, type SubmitAssessmentData } from '@/services/assessment-service';
import * as server from '@/lib/supabase/server';

// Mock the Supabase server-side clients
vi.mock('@/lib/supabase/server', () => {
  const mockSupabaseClient = {
    from: vi.fn().mockReturnThis(),
    insert: vi.fn().mockReturnThis(),
    select: vi.fn().mockResolvedValue({ data: [{ id: '123' }], error: null }),
  };
  return {
    createClient: vi.fn().mockResolvedValue(mockSupabaseClient),
    createServiceRoleClient: vi.fn().mockReturnValue(mockSupabaseClient),
  };
});

// Cast the mocked functions to the correct type for Vitest
const mockedCreateServiceRoleClient = vi.mocked(server.createServiceRoleClient);
const mockedSupabaseClient = mockedCreateServiceRoleClient();

describe('submitAssessment Service', () => {
  let mockData: SubmitAssessmentData;

  beforeEach(() => {
    vi.clearAllMocks(); // Clear mocks before each test
    mockData = {
      score: 85,
      tier: 'Signal-Driven Growth',
      contactInfo: {
        name: 'Test User',
        email: 'test@example.com',
        role: 'Founder / Owner',
        industry: 'Tech / SaaS',
      },
      answers: [
        {
          questionId: 'q5',
          question: 'Do you have clear evidence of active buyers?',
          answer: 'Yes, verified by recent deals',
          score: 3,
        },
      ],
    };
  });

  it('should submit a valid assessment successfully using the service role client', async () => {
    const result = await submitAssessment(mockData);

    // Verify service role client was used
    expect(server.createServiceRoleClient).toHaveBeenCalled();
    expect(server.createClient).not.toHaveBeenCalled();

    // Verify Supabase methods were called correctly
    expect(mockedSupabaseClient.from).toHaveBeenCalledWith('leads_assessment');
    expect(mockedSupabaseClient.insert).toHaveBeenCalledOnce();
    const insertedRecord = mockedSupabaseClient.insert.mock.calls[0][0][0];
    
    expect(insertedRecord).toMatchObject({
      contact_name: 'Test User',
      contact_email: 'test@example.com',
      score_total: 85,
      tier_result: 'Signal-Driven Growth',
      status: 'new'
    });
    
    expect(mockedSupabaseClient.select).toHaveBeenCalledOnce();
    
    // Verify the result
    expect(result).toEqual([{ id: '123' }]);
  });

  it('should throw an error if contact information is missing', async () => {
    const invalidData = { ...mockData, contactInfo: { name: '', email: '', role: '', industry: '' } };
    
    await expect(submitAssessment(invalidData)).rejects.toThrow('Contact information is required');

    // Ensure no database calls were made
    expect(mockedSupabaseClient.from).not.toHaveBeenCalled();
  });

  it('should throw an error if answers are missing', async () => {
    const invalidData = { ...mockData, answers: [] };
    
    await expect(submitAssessment(invalidData)).rejects.toThrow('Assessment answers are required');

    // Ensure no database calls were made
    expect(mockedSupabaseClient.from).not.toHaveBeenCalled();
  });

  it('should throw an error if the database insert fails', async () => {
    const dbError = { message: 'Insert failed', details: 'Something went wrong', hint: '', code: '500' };
    vi.mocked(mockedSupabaseClient.select).mockResolvedValueOnce({ data: null, error: dbError });

    await expect(submitAssessment(mockData)).rejects.toThrow(`Database error: ${dbError.message}`);

    expect(mockedSupabaseClient.from).toHaveBeenCalledWith('leads_assessment');
    expect(mockedSupabaseClient.insert).toHaveBeenCalledOnce();
  });

  it('should fall back to the standard client if the service role client fails to initialize', async () => {
    // Mock the service role client to throw an error
    vi.mocked(server.createServiceRoleClient).mockImplementationOnce(() => {
      throw new Error('Service key not available');
    });

    await submitAssessment(mockData);

    // Check that the fallback occurred
    expect(server.createServiceRoleClient).toHaveBeenCalled();
    expect(server.createClient).toHaveBeenCalled(); // The standard client should now be called
    
    // The rest of the logic should still proceed
    expect(mockedSupabaseClient.from).toHaveBeenCalledWith('leads_assessment');
    expect(mockedSupabaseClient.insert).toHaveBeenCalledOnce();
  });
});
</file>

<file path="vitest.config.ts">
import { defineConfig } from 'vitest/config';

export default defineConfig({
  test: {
    include: ['tests/**/*.test.ts'],
    exclude: ['tests/e2e/**'],
    environment: 'node'
  },
});
</file>

<file path="app/globals.css">
@import "tailwindcss";

@plugin "tailwindcss-animate";

@custom-variant dark (&:is(.dark *));

/* Custom Scrollbar (Hidden but functional) */
::-webkit-scrollbar {
  width: 0px;
  height: 0px;
}

::-webkit-scrollbar-track {
  background-color: transparent;
}

::-webkit-scrollbar-thumb {
  background-color: transparent;
}

::-webkit-scrollbar-thumb:hover {
  background-color: transparent;
}

/* Firefox scrollbar hide */
* {
  scrollbar-width: none;
}

/* IE scrollbar hide */
* {
  -ms-overflow-style: none;
}

@theme inline {
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  --radius-2xl: calc(var(--radius) + 8px);
  --radius-3xl: calc(var(--radius) + 12px);
  --radius-4xl: calc(var(--radius) + 16px);
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);
  --color-chart-1: var(--chart-1);
  --color-chart-2: var(--chart-2);
  --color-chart-3: var(--chart-3);
  --color-chart-4: var(--chart-4);
  --color-chart-5: var(--chart-5);
  --color-sidebar: var(--sidebar);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-ring: var(--sidebar-ring);
}

:root {
  --radius: 0.625rem;
  --background: oklch(1 0 0);
  --foreground: oklch(0.145 0 0);
  --card: oklch(1 0 0);
  --card-foreground: oklch(0.145 0 0);
  --popover: oklch(1 0 0);
  --popover-foreground: oklch(0.145 0 0);
  --primary: oklch(0.205 0 0);
  --primary-foreground: oklch(0.985 0 0);
  --secondary: oklch(0.97 0 0);
  --secondary-foreground: oklch(0.205 0 0);
  --muted: oklch(0.97 0 0);
  --muted-foreground: oklch(0.556 0 0);
  --accent: oklch(0.97 0 0);
  --accent-foreground: oklch(0.205 0 0);
  --destructive: oklch(0.577 0.245 27.325);
  --border: oklch(0.922 0 0);
  --input: oklch(0.922 0 0);
  --ring: oklch(0.708 0 0);
  --chart-1: oklch(0.646 0.222 41.116);
  --chart-2: oklch(0.6 0.118 184.704);
  --chart-3: oklch(0.398 0.07 227.392);
  --chart-4: oklch(0.828 0.189 84.429);
  --chart-5: oklch(0.769 0.188 70.08);
  --sidebar: hsl(0 0% 98%);
  --sidebar-foreground: hsl(240 5.3% 26.1%);
  --sidebar-primary: hsl(240 5.9% 10%);
  --sidebar-primary-foreground: hsl(0 0% 98%);
  --sidebar-accent: hsl(240 4.8% 95.9%);
  --sidebar-accent-foreground: hsl(240 5.9% 10%);
  --sidebar-border: hsl(220 13% 91%);
  --sidebar-ring: hsl(217.2 91.2% 59.8%);
}

.dark {
  --background: oklch(0.145 0 0);
  --foreground: oklch(0.985 0 0);
  --card: oklch(0.205 0 0);
  --card-foreground: oklch(0.985 0 0);
  --popover: oklch(0.205 0 0);
  --popover-foreground: oklch(0.985 0 0);
  --primary: oklch(0.922 0 0);
  --primary-foreground: oklch(0.205 0 0);
  --secondary: oklch(0.269 0 0);
  --secondary-foreground: oklch(0.985 0 0);
  --muted: oklch(0.269 0 0);
  --muted-foreground: oklch(0.708 0 0);
  --accent: oklch(0.269 0 0);
  --accent-foreground: oklch(0.985 0 0);
  --destructive: oklch(0.704 0.191 22.216);
  --border: oklch(1 0 0 / 10%);
  --input: oklch(1 0 0 / 15%);
  --ring: oklch(0.556 0 0);
  --chart-1: oklch(0.488 0.243 264.376);
  --chart-2: oklch(0.696 0.17 162.48);
  --chart-3: oklch(0.769 0.188 70.08);
  --chart-4: oklch(0.627 0.265 303.9);
  --chart-5: oklch(0.645 0.246 16.439);
  --sidebar: hsl(240 5.9% 10%);
  --sidebar-foreground: hsl(240 4.8% 95.9%);
  --sidebar-primary: hsl(224.3 76.3% 48%);
  --sidebar-primary-foreground: hsl(0 0% 100%);
  --sidebar-accent: hsl(240 3.7% 15.9%);
  --sidebar-accent-foreground: hsl(240 4.8% 95.9%);
  --sidebar-border: hsl(240 3.7% 15.9%);
  --sidebar-ring: hsl(217.2 91.2% 59.8%);
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  body {
    @apply bg-background text-foreground;
  }
}
</file>

<file path="app/layout.tsx">
import type { Metadata } from 'next';
import { Inter } from 'next/font/google';
import './globals.css';
import ConditionalFooter from '@/components/layout/ConditionalFooter';
import { Toaster } from '@/components/ui/sonner';

const inter = Inter({
  subsets: ['latin'],
  display: 'swap',
  variable: '--font-inter',
});

export const metadata: Metadata = {
  title: 'ORIGO | Market-Signal Architecture',
  description:
    'Fewer guesses. Better decisions. Faster growth. Transform your business with signal-driven decision architecture.',
  keywords: [
    'market signal',
    'decision architecture',
    'business strategy',
    'market intelligence',
    'commercial strategy',
  ],
  openGraph: {
    title: 'ORIGO | Market-Signal Architecture',
    description: 'Fewer guesses. Better decisions. Faster growth.',
    type: 'website',
  },
};

export default function RootLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  return (
    <html lang="en" className={inter.variable}>
      <body className="antialiased bg-[#0a0a0a] text-neutral-100">
        {children}
        <ConditionalFooter />
        <Toaster richColors position="top-right" />
      </body>
    </html>
  );
}
</file>

<file path="app/page.tsx">
import Hero from "@/components/landing/Hero";
import ValueProps from "@/components/landing/ValueProps";

export default function HomePage() {
  return (
    <main className="min-h-screen bg-origo-black">
      {/* Hero Section */}
      <Hero />

      {/* Value Props Section (The 3 Pillars) */}
      <ValueProps />
    </main>
  );
}
</file>

<file path="components/data-table-leads.tsx">
"use client"

import * as React from "react"
import { Eye } from "lucide-react"
import { Badge } from "@/components/ui/badge"
import { Button } from "@/components/ui/Button"
import {
  Table,
  TableBody,
  TableCell,
  TableHead,
  TableHeader,
  TableRow,
} from "@/components/ui/table"

interface Lead {
  id: string
  date: string
  name: string
  email: string
  role: string
  industry: string
  tier: string
  score: number
}

interface DataTableProps {
  data: Lead[]
}

export function DataTable({ data }: DataTableProps) {
  const getTierVariant = (tier: string): "default" | "destructive" | "secondary" | "outline" => {
    const tierLower = tier.toLowerCase()
    if (tierLower.includes("growth")) return "default"
    if (tierLower.includes("noise")) return "destructive"
    if (tierLower.includes("potential")) return "secondary"
    return "outline"
  }

  const formatDate = (dateString: string) => {
    const date = new Date(dateString)
    return date.toLocaleDateString("en-US", {
      month: "short",
      day: "numeric",
      year: "numeric",
      hour: "2-digit",
      minute: "2-digit",
    })
  }

  if (data.length === 0) {
    return (
      <div className="rounded-lg border border-dashed p-12 text-center mx-4 lg:mx-6">
        <p className="text-muted-foreground">No leads found</p>
        <p className="mt-2 text-sm text-muted-foreground">
          Leads will appear here once submitted
        </p>
      </div>
    )
  }

  return (
    <div className="rounded-lg border mx-4 lg:mx-6">
      <Table>
        <TableHeader>
          <TableRow>
            <TableHead>Date</TableHead>
            <TableHead>Contact</TableHead>
            <TableHead>Role</TableHead>
            <TableHead>Industry</TableHead>
            <TableHead>Tier</TableHead>
            <TableHead className="text-right">Action</TableHead>
          </TableRow>
        </TableHeader>
        <TableBody>
          {data.map((lead) => (
            <TableRow key={lead.id}>
              <TableCell className="font-medium">
                {formatDate(lead.date)}
              </TableCell>
              <TableCell>
                <div className="flex flex-col">
                  <span className="font-medium">{lead.name}</span>
                  <span className="text-xs text-muted-foreground">
                    {lead.email}
                  </span>
                </div>
              </TableCell>
              <TableCell>{lead.role}</TableCell>
              <TableCell>{lead.industry}</TableCell>
              <TableCell>
                <Badge variant={getTierVariant(lead.tier)}>
                  {lead.tier} ({lead.score}%)
                </Badge>
              </TableCell>
              <TableCell className="text-right">
                <Button
                  variant="default"
                  size="sm"
                  className="gap-2"
                  onClick={() => {
                    // TODO: Navigate to lead detail page
                    console.log("View lead:", lead.id)
                  }}
                >
                  <Eye className="h-4 w-4" />
                  View
                </Button>
              </TableCell>
            </TableRow>
          ))}
        </TableBody>
      </Table>
    </div>
  )
}
</file>

<file path="components/data-table.tsx">
"use client"

import * as React from "react"
import {
  DndContext,
  KeyboardSensor,
  MouseSensor,
  TouchSensor,
  closestCenter,
  useSensor,
  useSensors,
  type DragEndEvent,
  type UniqueIdentifier,
} from "@dnd-kit/core"
import { restrictToVerticalAxis } from "@dnd-kit/modifiers"
import {
  SortableContext,
  arrayMove,
  useSortable,
  verticalListSortingStrategy,
} from "@dnd-kit/sortable"
import { CSS } from "@dnd-kit/utilities"
import {
  ColumnDef,
  ColumnFiltersState,
  Row,
  SortingState,
  VisibilityState,
  flexRender,
  getCoreRowModel,
  getFacetedRowModel,
  getFacetedUniqueValues,
  getFilteredRowModel,
  getPaginationRowModel,
  getSortedRowModel,
  useReactTable,
} from "@tanstack/react-table"
import {
  CheckCircle2Icon,
  CheckCircleIcon,
  ChevronDownIcon,
  ChevronLeftIcon,
  ChevronRightIcon,
  ChevronsLeftIcon,
  ChevronsRightIcon,
  ColumnsIcon,
  GripVerticalIcon,
  LoaderIcon,
  MoreVerticalIcon,
  PlusIcon,
  TrendingUpIcon,
} from "lucide-react"
import { Area, AreaChart, CartesianGrid, XAxis } from "recharts"
import { toast } from "sonner"
import { z } from "zod"

import { useIsMobile } from "@/hooks/use-mobile"
import { Badge } from "@/components/ui/badge"
import { Button } from "@/components/ui/Button"
import {
  ChartConfig,
  ChartContainer,
  ChartTooltip,
  ChartTooltipContent,
} from "@/components/ui/chart"
import { Checkbox } from "@/components/ui/checkbox"
import {
  DropdownMenu,
  DropdownMenuCheckboxItem,
  DropdownMenuContent,
  DropdownMenuItem,
  DropdownMenuSeparator,
  DropdownMenuTrigger,
} from "@/components/ui/dropdown-menu"
import { Input } from "@/components/ui/input"
import { Label } from "@/components/ui/label"
import {
  Select,
  SelectContent,
  SelectItem,
  SelectTrigger,
  SelectValue,
} from "@/components/ui/select"
import { Separator } from "@/components/ui/separator"
import {
  Sheet,
  SheetClose,
  SheetContent,
  SheetDescription,
  SheetFooter,
  SheetHeader,
  SheetTitle,
  SheetTrigger,
} from "@/components/ui/sheet"
import {
  Table,
  TableBody,
  TableCell,
  TableHead,
  TableHeader,
  TableRow,
} from "@/components/ui/table"
import {
  Tabs,
  TabsContent,
  TabsList,
  TabsTrigger,
} from "@/components/ui/tabs"

export const schema = z.object({
  id: z.number(),
  header: z.string(),
  type: z.string(),
  status: z.string(),
  target: z.string(),
  limit: z.string(),
  reviewer: z.string(),
})

// Create a separate component for the drag handle
function DragHandle({ id }: { id: number }) {
  const { attributes, listeners } = useSortable({
    id,
  })

  return (
    <Button
      {...attributes}
      {...listeners}
      variant="ghost"
      size="icon"
      className="size-7 text-muted-foreground hover:bg-transparent"
    >
      <GripVerticalIcon className="size-3 text-muted-foreground" />
      <span className="sr-only">Drag to reorder</span>
    </Button>
  )
}

const columns: ColumnDef<z.infer<typeof schema>>[] = [
  {
    id: "drag",
    header: () => null,
    cell: ({ row }) => <DragHandle id={row.original.id} />,
  },
  {
    id: "select",
    header: ({ table }) => (
      <div className="flex items-center justify-center">
        <Checkbox
          checked={
            table.getIsAllPageRowsSelected() ||
            (table.getIsSomePageRowsSelected() && "indeterminate")
          }
          onCheckedChange={(value) => table.toggleAllPageRowsSelected(!!value)}
          aria-label="Select all"
        />
      </div>
    ),
    cell: ({ row }) => (
      <div className="flex items-center justify-center">
        <Checkbox
          checked={row.getIsSelected()}
          onCheckedChange={(value) => row.toggleSelected(!!value)}
          aria-label="Select row"
        />
      </div>
    ),
    enableSorting: false,
    enableHiding: false,
  },
  {
    accessorKey: "header",
    header: "Header",
    cell: ({ row }) => {
      return <TableCellViewer item={row.original} />
    },
    enableHiding: false,
  },
  {
    accessorKey: "type",
    header: "Section Type",
    cell: ({ row }) => (
      <div className="w-32">
        <Badge variant="outline" className="px-1.5 text-muted-foreground">
          {row.original.type}
        </Badge>
      </div>
    ),
  },
  {
    accessorKey: "status",
    header: "Status",
    cell: ({ row }) => (
      <Badge
        variant="outline"
        className="flex gap-1 px-1.5 text-muted-foreground [&_svg]:size-3"
      >
        {row.original.status === "Done" ? (
          <CheckCircle2Icon className="text-green-500 dark:text-green-400" />
        ) : (
          <LoaderIcon />
        )}
        {row.original.status}
      </Badge>
    ),
  },
  {
    accessorKey: "target",
    header: () => <div className="w-full text-right">Target</div>,
    cell: ({ row }) => (
      <form
        onSubmit={(e) => {
          e.preventDefault()
          toast.promise(new Promise((resolve) => setTimeout(resolve, 1000)), {
            loading: `Saving ${row.original.header}`,
            success: "Done",
            error: "Error",
          })
        }}
      >
        <Label htmlFor={`${row.original.id}-target`} className="sr-only">
          Target
        </Label>
        <Input
          className="h-8 w-16 border-transparent bg-transparent text-right shadow-none hover:bg-input/30 focus-visible:border focus-visible:bg-background"
          defaultValue={row.original.target}
          id={`${row.original.id}-target`}
        />
      </form>
    ),
  },
  {
    accessorKey: "limit",
    header: () => <div className="w-full text-right">Limit</div>,
    cell: ({ row }) => (
      <form
        onSubmit={(e) => {
          e.preventDefault()
          toast.promise(new Promise((resolve) => setTimeout(resolve, 1000)), {
            loading: `Saving ${row.original.header}`,
            success: "Done",
            error: "Error",
          })
        }}
      >
        <Label htmlFor={`${row.original.id}-limit`} className="sr-only">
          Limit
        </Label>
        <Input
          className="h-8 w-16 border-transparent bg-transparent text-right shadow-none hover:bg-input/30 focus-visible:border focus-visible:bg-background"
          defaultValue={row.original.limit}
          id={`${row.original.id}-limit`}
        />
      </form>
    ),
  },
  {
    accessorKey: "reviewer",
    header: "Reviewer",
    cell: ({ row }) => {
      const isAssigned = row.original.reviewer !== "Assign reviewer"

      if (isAssigned) {
        return row.original.reviewer
      }

      return (
        <>
          <Label htmlFor={`${row.original.id}-reviewer`} className="sr-only">
            Reviewer
          </Label>
          <Select>
            <SelectTrigger
              className="h-8 w-40"
              id={`${row.original.id}-reviewer`}
            >
              <SelectValue placeholder="Assign reviewer" />
            </SelectTrigger>
            <SelectContent align="end">
              <SelectItem value="Eddie Lake">Eddie Lake</SelectItem>
              <SelectItem value="Jamik Tashpulatov">
                Jamik Tashpulatov
              </SelectItem>
            </SelectContent>
          </Select>
        </>
      )
    },
  },
  {
    id: "actions",
    cell: () => (
      <DropdownMenu>
        <DropdownMenuTrigger asChild>
          <Button
            variant="ghost"
            className="flex size-8 text-muted-foreground data-[state=open]:bg-muted"
            size="icon"
          >
            <MoreVerticalIcon />
            <span className="sr-only">Open menu</span>
          </Button>
        </DropdownMenuTrigger>
        <DropdownMenuContent align="end" className="w-32">
          <DropdownMenuItem>Edit</DropdownMenuItem>
          <DropdownMenuItem>Make a copy</DropdownMenuItem>
          <DropdownMenuItem>Favorite</DropdownMenuItem>
          <DropdownMenuSeparator />
          <DropdownMenuItem>Delete</DropdownMenuItem>
        </DropdownMenuContent>
      </DropdownMenu>
    ),
  },
]

function DraggableRow({ row }: { row: Row<z.infer<typeof schema>> }) {
  const { transform, transition, setNodeRef, isDragging } = useSortable({
    id: row.original.id,
  })

  return (
    <TableRow
      data-state={row.getIsSelected() && "selected"}
      data-dragging={isDragging}
      ref={setNodeRef}
      className="relative z-0 data-[dragging=true]:z-10 data-[dragging=true]:opacity-80"
      style={{
        transform: CSS.Transform.toString(transform),
        transition: transition,
      }}
    >
      {row.getVisibleCells().map((cell) => (
        <TableCell key={cell.id}>
          {flexRender(cell.column.columnDef.cell, cell.getContext())}
        </TableCell>
      ))}
    </TableRow>
  )
}

export function DataTable({
  data: initialData,
}: {
  data: z.infer<typeof schema>[]
}) {
  const [data, setData] = React.useState(() => initialData)
  const [rowSelection, setRowSelection] = React.useState({})
  const [columnVisibility, setColumnVisibility] =
    React.useState<VisibilityState>({})
  const [columnFilters, setColumnFilters] = React.useState<ColumnFiltersState>(
    []
  )
  const [sorting, setSorting] = React.useState<SortingState>([])
  const [pagination, setPagination] = React.useState({
    pageIndex: 0,
    pageSize: 10,
  })
  const sortableId = React.useId()
  const sensors = useSensors(
    useSensor(MouseSensor, {}),
    useSensor(TouchSensor, {}),
    useSensor(KeyboardSensor, {})
  )

  const dataIds = React.useMemo<UniqueIdentifier[]>(
    () => data?.map(({ id }) => id) || [],
    [data]
  )

  const table = useReactTable({
    data,
    columns,
    state: {
      sorting,
      columnVisibility,
      rowSelection,
      columnFilters,
      pagination,
    },
    getRowId: (row) => row.id.toString(),
    enableRowSelection: true,
    onRowSelectionChange: setRowSelection,
    onSortingChange: setSorting,
    onColumnFiltersChange: setColumnFilters,
    onColumnVisibilityChange: setColumnVisibility,
    onPaginationChange: setPagination,
    getCoreRowModel: getCoreRowModel(),
    getFilteredRowModel: getFilteredRowModel(),
    getPaginationRowModel: getPaginationRowModel(),
    getSortedRowModel: getSortedRowModel(),
    getFacetedRowModel: getFacetedRowModel(),
    getFacetedUniqueValues: getFacetedUniqueValues(),
  })

  function handleDragEnd(event: DragEndEvent) {
    const { active, over } = event
    if (active && over && active.id !== over.id) {
      setData((data) => {
        const oldIndex = dataIds.indexOf(active.id)
        const newIndex = dataIds.indexOf(over.id)
        return arrayMove(data, oldIndex, newIndex)
      })
    }
  }

  return (
    <Tabs
      defaultValue="outline"
      className="flex w-full flex-col justify-start gap-6"
    >
      <div className="flex items-center justify-between px-4 lg:px-6">
        <Label htmlFor="view-selector" className="sr-only">
          View
        </Label>
        <Select defaultValue="outline">
          <SelectTrigger
            className="@4xl/main:hidden flex w-fit"
            id="view-selector"
          >
            <SelectValue placeholder="Select a view" />
          </SelectTrigger>
          <SelectContent>
            <SelectItem value="outline">Outline</SelectItem>
            <SelectItem value="past-performance">Past Performance</SelectItem>
            <SelectItem value="key-personnel">Key Personnel</SelectItem>
            <SelectItem value="focus-documents">Focus Documents</SelectItem>
          </SelectContent>
        </Select>
        <TabsList className="@4xl/main:flex hidden">
          <TabsTrigger value="outline">Outline</TabsTrigger>
          <TabsTrigger value="past-performance" className="gap-1">
            Past Performance{" "}
            <Badge
              variant="secondary"
              className="flex h-5 w-5 items-center justify-center rounded-full bg-muted-foreground/30"
            >
              3
            </Badge>
          </TabsTrigger>
          <TabsTrigger value="key-personnel" className="gap-1">
            Key Personnel{" "}
            <Badge
              variant="secondary"
              className="flex h-5 w-5 items-center justify-center rounded-full bg-muted-foreground/30"
            >
              2
            </Badge>
          </TabsTrigger>
          <TabsTrigger value="focus-documents">Focus Documents</TabsTrigger>
        </TabsList>
        <div className="flex items-center gap-2">
          <DropdownMenu>
            <DropdownMenuTrigger asChild>
              <Button variant="outline" size="sm">
                <ColumnsIcon />
                <span className="hidden lg:inline">Customize Columns</span>
                <span className="lg:hidden">Columns</span>
                <ChevronDownIcon />
              </Button>
            </DropdownMenuTrigger>
            <DropdownMenuContent align="end" className="w-56">
              {table
                .getAllColumns()
                .filter(
                  (column) =>
                    typeof column.accessorFn !== "undefined" &&
                    column.getCanHide()
                )
                .map((column) => {
                  return (
                    <DropdownMenuCheckboxItem
                      key={column.id}
                      className="capitalize"
                      checked={column.getIsVisible()}
                      onCheckedChange={(value) =>
                        column.toggleVisibility(!!value)
                      }
                    >
                      {column.id}
                    </DropdownMenuCheckboxItem>
                  )
                })}
            </DropdownMenuContent>
          </DropdownMenu>
          <Button variant="outline" size="sm">
            <PlusIcon />
            <span className="hidden lg:inline">Add Section</span>
          </Button>
        </div>
      </div>
      <TabsContent
        value="outline"
        className="relative flex flex-col gap-4 overflow-auto px-4 lg:px-6"
      >
        <div className="overflow-hidden rounded-lg border">
          <DndContext
            collisionDetection={closestCenter}
            modifiers={[restrictToVerticalAxis]}
            onDragEnd={handleDragEnd}
            sensors={sensors}
            id={sortableId}
          >
            <Table>
              <TableHeader className="sticky top-0 z-10 bg-muted">
                {table.getHeaderGroups().map((headerGroup) => (
                  <TableRow key={headerGroup.id}>
                    {headerGroup.headers.map((header) => {
                      return (
                        <TableHead key={header.id} colSpan={header.colSpan}>
                          {header.isPlaceholder
                            ? null
                            : flexRender(
                                header.column.columnDef.header,
                                header.getContext()
                              )}
                        </TableHead>
                      )
                    })}
                  </TableRow>
                ))}
              </TableHeader>
              <TableBody className="**:data-[slot=table-cell]:first:w-8">
                {table.getRowModel().rows?.length ? (
                  <SortableContext
                    items={dataIds}
                    strategy={verticalListSortingStrategy}
                  >
                    {table.getRowModel().rows.map((row) => (
                      <DraggableRow key={row.id} row={row} />
                    ))}
                  </SortableContext>
                ) : (
                  <TableRow>
                    <TableCell
                      colSpan={columns.length}
                      className="h-24 text-center"
                    >
                      No results.
                    </TableCell>
                  </TableRow>
                )}
              </TableBody>
            </Table>
          </DndContext>
        </div>
        <div className="flex items-center justify-between px-4">
          <div className="hidden flex-1 text-sm text-muted-foreground lg:flex">
            {table.getFilteredSelectedRowModel().rows.length} of{" "}
            {table.getFilteredRowModel().rows.length} row(s) selected.
          </div>
          <div className="flex w-full items-center gap-8 lg:w-fit">
            <div className="hidden items-center gap-2 lg:flex">
              <Label htmlFor="rows-per-page" className="text-sm font-medium">
                Rows per page
              </Label>
              <Select
                value={`${table.getState().pagination.pageSize}`}
                onValueChange={(value) => {
                  table.setPageSize(Number(value))
                }}
              >
                <SelectTrigger className="w-20" id="rows-per-page">
                  <SelectValue
                    placeholder={table.getState().pagination.pageSize}
                  />
                </SelectTrigger>
                <SelectContent side="top">
                  {[10, 20, 30, 40, 50].map((pageSize) => (
                    <SelectItem key={pageSize} value={`${pageSize}`}>
                      {pageSize}
                    </SelectItem>
                  ))}
                </SelectContent>
              </Select>
            </div>
            <div className="flex w-fit items-center justify-center text-sm font-medium">
              Page {table.getState().pagination.pageIndex + 1} of{" "}
              {table.getPageCount()}
            </div>
            <div className="ml-auto flex items-center gap-2 lg:ml-0">
              <Button
                variant="outline"
                className="hidden h-8 w-8 p-0 lg:flex"
                onClick={() => table.setPageIndex(0)}
                disabled={!table.getCanPreviousPage()}
              >
                <span className="sr-only">Go to first page</span>
                <ChevronsLeftIcon />
              </Button>
              <Button
                variant="outline"
                className="size-8"
                size="icon"
                onClick={() => table.previousPage()}
                disabled={!table.getCanPreviousPage()}
              >
                <span className="sr-only">Go to previous page</span>
                <ChevronLeftIcon />
              </Button>
              <Button
                variant="outline"
                className="size-8"
                size="icon"
                onClick={() => table.nextPage()}
                disabled={!table.getCanNextPage()}
              >
                <span className="sr-only">Go to next page</span>
                <ChevronRightIcon />
              </Button>
              <Button
                variant="outline"
                className="hidden size-8 lg:flex"
                size="icon"
                onClick={() => table.setPageIndex(table.getPageCount() - 1)}
                disabled={!table.getCanNextPage()}
              >
                <span className="sr-only">Go to last page</span>
                <ChevronsRightIcon />
              </Button>
            </div>
          </div>
        </div>
      </TabsContent>
      <TabsContent
        value="past-performance"
        className="flex flex-col px-4 lg:px-6"
      >
        <div className="aspect-video w-full flex-1 rounded-lg border border-dashed"></div>
      </TabsContent>
      <TabsContent value="key-personnel" className="flex flex-col px-4 lg:px-6">
        <div className="aspect-video w-full flex-1 rounded-lg border border-dashed"></div>
      </TabsContent>
      <TabsContent
        value="focus-documents"
        className="flex flex-col px-4 lg:px-6"
      >
        <div className="aspect-video w-full flex-1 rounded-lg border border-dashed"></div>
      </TabsContent>
    </Tabs>
  )
}

const chartData = [
  { month: "January", desktop: 186, mobile: 80 },
  { month: "February", desktop: 305, mobile: 200 },
  { month: "March", desktop: 237, mobile: 120 },
  { month: "April", desktop: 73, mobile: 190 },
  { month: "May", desktop: 209, mobile: 130 },
  { month: "June", desktop: 214, mobile: 140 },
]

const chartConfig = {
  desktop: {
    label: "Desktop",
    color: "var(--primary)",
  },
  mobile: {
    label: "Mobile",
    color: "var(--primary)",
  },
} satisfies ChartConfig

function TableCellViewer({ item }: { item: z.infer<typeof schema> }) {
  const isMobile = useIsMobile()

  return (
    <Sheet>
      <SheetTrigger asChild>
        <Button variant="link" className="w-fit px-0 text-left text-foreground">
          {item.header}
        </Button>
      </SheetTrigger>
      <SheetContent side="right" className="flex flex-col">
        <SheetHeader className="gap-1">
          <SheetTitle>{item.header}</SheetTitle>
          <SheetDescription>
            Showing total visitors for the last 6 months
          </SheetDescription>
        </SheetHeader>
        <div className="flex flex-1 flex-col gap-4 overflow-y-auto py-4 text-sm">
          {!isMobile && (
            <>
              <ChartContainer config={chartConfig}>
                <AreaChart
                  accessibilityLayer
                  data={chartData}
                  margin={{
                    left: 0,
                    right: 10,
                  }}
                >
                  <CartesianGrid vertical={false} />
                  <XAxis
                    dataKey="month"
                    tickLine={false}
                    axisLine={false}
                    tickMargin={8}
                    tickFormatter={(value) => value.slice(0, 3)}
                    hide
                  />
                  <ChartTooltip
                    cursor={false}
                    content={<ChartTooltipContent indicator="dot" />}
                  />
                  <Area
                    dataKey="mobile"
                    type="natural"
                    fill="var(--color-mobile)"
                    fillOpacity={0.6}
                    stroke="var(--color-mobile)"
                    stackId="a"
                  />
                  <Area
                    dataKey="desktop"
                    type="natural"
                    fill="var(--color-desktop)"
                    fillOpacity={0.4}
                    stroke="var(--color-desktop)"
                    stackId="a"
                  />
                </AreaChart>
              </ChartContainer>
              <Separator />
              <div className="grid gap-2">
                <div className="flex gap-2 font-medium leading-none">
                  Trending up by 5.2% this month{" "}
                  <TrendingUpIcon className="size-4" />
                </div>
                <div className="text-muted-foreground">
                  Showing total visitors for the last 6 months. This is just
                  some random text to test the layout. It spans multiple lines
                  and should wrap around.
                </div>
              </div>
              <Separator />
            </>
          )}
          <form className="flex flex-col gap-4">
            <div className="flex flex-col gap-3">
              <Label htmlFor="header">Header</Label>
              <Input id="header" defaultValue={item.header} />
            </div>
            <div className="grid grid-cols-2 gap-4">
              <div className="flex flex-col gap-3">
                <Label htmlFor="type">Type</Label>
                <Select defaultValue={item.type}>
                  <SelectTrigger id="type" className="w-full">
                    <SelectValue placeholder="Select a type" />
                  </SelectTrigger>
                  <SelectContent>
                    <SelectItem value="Table of Contents">
                      Table of Contents
                    </SelectItem>
                    <SelectItem value="Executive Summary">
                      Executive Summary
                    </SelectItem>
                    <SelectItem value="Technical Approach">
                      Technical Approach
                    </SelectItem>
                    <SelectItem value="Design">Design</SelectItem>
                    <SelectItem value="Capabilities">Capabilities</SelectItem>
                    <SelectItem value="Focus Documents">
                      Focus Documents
                    </SelectItem>
                    <SelectItem value="Narrative">Narrative</SelectItem>
                    <SelectItem value="Cover Page">Cover Page</SelectItem>
                  </SelectContent>
                </Select>
              </div>
              <div className="flex flex-col gap-3">
                <Label htmlFor="status">Status</Label>
                <Select defaultValue={item.status}>
                  <SelectTrigger id="status" className="w-full">
                    <SelectValue placeholder="Select a status" />
                  </SelectTrigger>
                  <SelectContent>
                    <SelectItem value="Done">Done</SelectItem>
                    <SelectItem value="In Progress">In Progress</SelectItem>
                    <SelectItem value="Not Started">Not Started</SelectItem>
                  </SelectContent>
                </Select>
              </div>
            </div>
            <div className="grid grid-cols-2 gap-4">
              <div className="flex flex-col gap-3">
                <Label htmlFor="target">Target</Label>
                <Input id="target" defaultValue={item.target} />
              </div>
              <div className="flex flex-col gap-3">
                <Label htmlFor="limit">Limit</Label>
                <Input id="limit" defaultValue={item.limit} />
              </div>
            </div>
            <div className="flex flex-col gap-3">
              <Label htmlFor="reviewer">Reviewer</Label>
              <Select defaultValue={item.reviewer}>
                <SelectTrigger id="reviewer" className="w-full">
                  <SelectValue placeholder="Select a reviewer" />
                </SelectTrigger>
                <SelectContent>
                  <SelectItem value="Eddie Lake">Eddie Lake</SelectItem>
                  <SelectItem value="Jamik Tashpulatov">
                    Jamik Tashpulatov
                  </SelectItem>
                  <SelectItem value="Emily Whalen">Emily Whalen</SelectItem>
                </SelectContent>
              </Select>
            </div>
          </form>
        </div>
        <SheetFooter className="mt-auto flex gap-2 sm:flex-col sm:space-x-0">
          <Button className="w-full">Submit</Button>
          <SheetClose asChild>
            <Button variant="outline" className="w-full">
              Done
            </Button>
          </SheetClose>
        </SheetFooter>
      </SheetContent>
    </Sheet>
  )
}
</file>

<file path="components/landing/Hero.tsx">
"use client";

import { motion } from "framer-motion";
import { Button } from "@/components/ui/Button";
import SectionContainer from "@/components/ui/SectionContainer";
import { ArrowRight, Sparkles } from "lucide-react";

export default function Hero() {
  return (
    <SectionContainer className="min-h-screen flex items-center justify-center py-12 md:py-16 relative overflow-hidden">
      {/* Background Glow Effects */}
      <div className="absolute inset-0 pointer-events-none">
        {/* Center Glow */}
        <div className="absolute top-1/3 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] bg-[#febe5d]/8 rounded-full blur-3xl" />
        
        {/* Top Right Accent */}
        <div className="absolute top-0 right-0 w-[600px] h-[600px] bg-[#febe5d]/5 rounded-full blur-3xl" />
      </div>

      {/* Content - Centered */}
      <div className="w-full max-w-5xl mx-auto text-center space-y-10 relative z-10 flex flex-col items-center">
        {/* Badge */}
        <motion.div
          initial={{ opacity: 0, scale: 0.9 }}
          animate={{ opacity: 1, scale: 1 }}
          transition={{ duration: 0.6, ease: [0.16, 1, 0.3, 1] }}
          className="inline-flex items-center gap-2 px-5 py-2.5 bg-[#febe5d]/10 border-2 border-[#febe5d]/30 rounded-full shadow-[0_0_20px_rgba(254,190,93,0.2)]"
        >
          <Sparkles className="w-4 h-4 text-[#febe5d]" />
          <span className="text-sm font-semibold text-[#febe5d] uppercase tracking-wide">
            Market Signal Architecture
          </span>
        </motion.div>

        {/* Headline */}
        <motion.h1
          initial={{ opacity: 0, y: 30 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ duration: 0.8, delay: 0.2, ease: [0.16, 1, 0.3, 1] }}
          className="text-5xl md:text-6xl lg:text-7xl xl:text-8xl font-bold leading-[1.1] tracking-tight text-white px-4"
        >
          Fewer guesses.
          <br />
          Better decisions.
          <br />
          <span className="bg-clip-text text-transparent bg-linear-to-r from-[#febe5d] via-[#ffc978] to-[#febe5d] animate-gradient">
            Faster growth.
          </span>
        </motion.h1>

        {/* Subheadline */}
        <motion.p
          initial={{ opacity: 0, y: 30 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ duration: 0.8, delay: 0.4, ease: [0.16, 1, 0.3, 1] }}
          className="text-xl md:text-2xl lg:text-3xl text-[#a3a3a3] max-w-4xl leading-relaxed px-4"
        >
          The 92% of business effort is execution. We help you architect the{" "}
          <span className="text-white font-bold">
            8% that actually determines the outcome.
          </span>
        </motion.p>

        {/* Primary CTA Button - CENTERED */}
        <motion.div
          initial={{ opacity: 0, y: 30 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ duration: 0.8, delay: 0.6, ease: [0.16, 1, 0.3, 1] }}
          className="pt-4 w-full flex justify-center"
        >
          <Button
            variant="default"
            size="lg"
            onClick={() => (window.location.href = "/assessment")}
            className="rounded-full text-lg md:text-xl px-10 py-7 font-bold bg-[#febe5d] hover:bg-[#ffc978] text-black shadow-[0_0_40px_rgba(254,190,93,0.5)] hover:shadow-[0_0_60px_rgba(254,190,93,0.7)] transition-all duration-300"
          >
            Start Market Signal Assessment
            <ArrowRight className="ml-3 w-6 h-6" />
          </Button>
        </motion.div>

        {/* Trust Signals */}
        <motion.div
          initial={{ opacity: 0 }}
          animate={{ opacity: 1 }}
          transition={{ duration: 0.8, delay: 0.8 }}
          className="pt-8 flex flex-col md:flex-row items-center justify-center gap-4 md:gap-8 text-base text-[#a3a3a3]"
        >
          <div className="flex items-center gap-2.5">
            <div className="w-2 h-2 rounded-full bg-[#febe5d] shadow-[0_0_8px_rgba(254,190,93,0.6)]" />
            <span>3-minute assessment</span>
          </div>
          <div className="hidden md:block w-px h-4 bg-white/20" />
          <div className="flex items-center gap-2.5">
            <div className="w-2 h-2 rounded-full bg-[#febe5d] shadow-[0_0_8px_rgba(254,190,93,0.6)]" />
            <span>No credit card required</span>
          </div>
          <div className="hidden md:block w-px h-4 bg-white/20" />
          <div className="flex items-center gap-2.5">
            <div className="w-2 h-2 rounded-full bg-[#febe5d] shadow-[0_0_8px_rgba(254,190,93,0.6)]" />
            <span>Instant results</span>
          </div>
        </motion.div>
      </div>
    </SectionContainer>
  );
}
</file>

<file path="components/nav-main.tsx">
"use client"

import { MailIcon, PlusCircleIcon, type LucideIcon } from "lucide-react"

import { Button } from "@/components/ui/Button"
import {
  SidebarGroup,
  SidebarGroupContent,
  SidebarMenu,
  SidebarMenuButton,
  SidebarMenuItem,
} from "@/components/ui/sidebar"

export function NavMain({
  items,
}: {
  items: {
    title: string
    url: string
    icon?: LucideIcon
  }[]
}) {
  return (
    <SidebarGroup>
      <SidebarGroupContent className="flex flex-col gap-2">
        <SidebarMenu>
          <SidebarMenuItem className="flex items-center gap-2">
            <SidebarMenuButton
              tooltip="Quick Create"
              className="min-w-8 bg-primary text-primary-foreground duration-200 ease-linear hover:bg-primary/90 hover:text-primary-foreground active:bg-primary/90 active:text-primary-foreground"
            >
              <PlusCircleIcon />
              <span>Quick Create</span>
            </SidebarMenuButton>
            <Button
              size="icon"
              className="h-9 w-9 shrink-0 group-data-[collapsible=icon]:opacity-0"
              variant="outline"
            >
              <MailIcon />
              <span className="sr-only">Inbox</span>
            </Button>
          </SidebarMenuItem>
        </SidebarMenu>
        <SidebarMenu>
          {items.map((item) => (
            <SidebarMenuItem key={item.title}>
              <SidebarMenuButton tooltip={item.title}>
                {item.icon && <item.icon />}
                <span>{item.title}</span>
              </SidebarMenuButton>
            </SidebarMenuItem>
          ))}
        </SidebarMenu>
      </SidebarGroupContent>
    </SidebarGroup>
  )
}
</file>

<file path="components/ui/calendar.tsx">
"use client"

import * as React from "react"
import {
  ChevronDownIcon,
  ChevronLeftIcon,
  ChevronRightIcon,
} from "lucide-react"
import { DayButton, DayPicker, getDefaultClassNames } from "react-day-picker"

import { cn } from "@/lib/utils"
import { Button, buttonVariants } from "@/components/ui/Button"

function Calendar({
  className,
  classNames,
  showOutsideDays = true,
  captionLayout = "label",
  buttonVariant = "ghost",
  formatters,
  components,
  ...props
}: React.ComponentProps<typeof DayPicker> & {
  buttonVariant?: React.ComponentProps<typeof Button>["variant"]
}) {
  const defaultClassNames = getDefaultClassNames()

  return (
    <DayPicker
      showOutsideDays={showOutsideDays}
      className={cn(
        "bg-background group/calendar p-3 [--cell-size:2rem] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",
        String.raw`rtl:**:[.rdp-button\_next>svg]:rotate-180`,
        String.raw`rtl:**:[.rdp-button\_previous>svg]:rotate-180`,
        className
      )}
      captionLayout={captionLayout}
      formatters={{
        formatMonthDropdown: (date) =>
          date.toLocaleString("default", { month: "short" }),
        ...formatters,
      }}
      classNames={{
        root: cn("w-fit", defaultClassNames.root),
        months: cn(
          "relative flex flex-col gap-4 md:flex-row",
          defaultClassNames.months
        ),
        month: cn("flex w-full flex-col gap-4", defaultClassNames.month),
        nav: cn(
          "absolute inset-x-0 top-0 flex w-full items-center justify-between gap-1",
          defaultClassNames.nav
        ),
        button_previous: cn(
          buttonVariants({ variant: buttonVariant }),
          "h-[--cell-size] w-[--cell-size] select-none p-0 aria-disabled:opacity-50",
          defaultClassNames.button_previous
        ),
        button_next: cn(
          buttonVariants({ variant: buttonVariant }),
          "h-[--cell-size] w-[--cell-size] select-none p-0 aria-disabled:opacity-50",
          defaultClassNames.button_next
        ),
        month_caption: cn(
          "flex h-[--cell-size] w-full items-center justify-center px-[--cell-size]",
          defaultClassNames.month_caption
        ),
        dropdowns: cn(
          "flex h-[--cell-size] w-full items-center justify-center gap-1.5 text-sm font-medium",
          defaultClassNames.dropdowns
        ),
        dropdown_root: cn(
          "has-focus:border-ring border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] relative rounded-md border",
          defaultClassNames.dropdown_root
        ),
        dropdown: cn(
          "bg-popover absolute inset-0 opacity-0",
          defaultClassNames.dropdown
        ),
        caption_label: cn(
          "select-none font-medium",
          captionLayout === "label"
            ? "text-sm"
            : "[&>svg]:text-muted-foreground flex h-8 items-center gap-1 rounded-md pl-2 pr-1 text-sm [&>svg]:size-3.5",
          defaultClassNames.caption_label
        ),
        table: "w-full border-collapse",
        weekdays: cn("flex", defaultClassNames.weekdays),
        weekday: cn(
          "text-muted-foreground flex-1 select-none rounded-md text-[0.8rem] font-normal",
          defaultClassNames.weekday
        ),
        week: cn("mt-2 flex w-full", defaultClassNames.week),
        week_number_header: cn(
          "w-[--cell-size] select-none",
          defaultClassNames.week_number_header
        ),
        week_number: cn(
          "text-muted-foreground select-none text-[0.8rem]",
          defaultClassNames.week_number
        ),
        day: cn(
          "group/day relative aspect-square h-full w-full select-none p-0 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md",
          defaultClassNames.day
        ),
        range_start: cn(
          "bg-accent rounded-l-md",
          defaultClassNames.range_start
        ),
        range_middle: cn("rounded-none", defaultClassNames.range_middle),
        range_end: cn("bg-accent rounded-r-md", defaultClassNames.range_end),
        today: cn(
          "bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none",
          defaultClassNames.today
        ),
        outside: cn(
          "text-muted-foreground aria-selected:text-muted-foreground",
          defaultClassNames.outside
        ),
        disabled: cn(
          "text-muted-foreground opacity-50",
          defaultClassNames.disabled
        ),
        hidden: cn("invisible", defaultClassNames.hidden),
        ...classNames,
      }}
      components={{
        Root: ({ className, rootRef, ...props }) => {
          return (
            <div
              data-slot="calendar"
              ref={rootRef}
              className={cn(className)}
              {...props}
            />
          )
        },
        Chevron: ({ className, orientation, ...props }) => {
          if (orientation === "left") {
            return (
              <ChevronLeftIcon className={cn("size-4", className)} {...props} />
            )
          }

          if (orientation === "right") {
            return (
              <ChevronRightIcon
                className={cn("size-4", className)}
                {...props}
              />
            )
          }

          return (
            <ChevronDownIcon className={cn("size-4", className)} {...props} />
          )
        },
        DayButton: CalendarDayButton,
        WeekNumber: ({ children, ...props }) => {
          return (
            <td {...props}>
              <div className="flex size-[--cell-size] items-center justify-center text-center">
                {children}
              </div>
            </td>
          )
        },
        ...components,
      }}
      {...props}
    />
  )
}

function CalendarDayButton({
  className,
  day,
  modifiers,
  ...props
}: React.ComponentProps<typeof DayButton>) {
  const defaultClassNames = getDefaultClassNames()

  const ref = React.useRef<HTMLButtonElement>(null)
  React.useEffect(() => {
    if (modifiers.focused) ref.current?.focus()
  }, [modifiers.focused])

  return (
    <Button
      ref={ref}
      variant="ghost"
      size="icon"
      data-day={day.date.toLocaleDateString()}
      data-selected-single={
        modifiers.selected &&
        !modifiers.range_start &&
        !modifiers.range_end &&
        !modifiers.range_middle
      }
      data-range-start={modifiers.range_start}
      data-range-end={modifiers.range_end}
      data-range-middle={modifiers.range_middle}
      className={cn(
        "data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 flex aspect-square h-auto w-full min-w-[--cell-size] flex-col gap-1 font-normal leading-none data-[range-end=true]:rounded-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] [&>span]:text-xs [&>span]:opacity-70",
        defaultClassNames.day,
        className
      )}
      {...props}
    />
  )
}

export { Calendar, CalendarDayButton }
</file>

<file path="components/ui/pagination.tsx">
import * as React from "react"
import { ChevronLeft, ChevronRight, MoreHorizontal } from "lucide-react"

import { cn } from "@/lib/utils"
import { ButtonProps, buttonVariants } from "@/components/ui/Button"

const Pagination = ({ className, ...props }: React.ComponentProps<"nav">) => (
  <nav
    role="navigation"
    aria-label="pagination"
    className={cn("mx-auto flex w-full justify-center", className)}
    {...props}
  />
)
Pagination.displayName = "Pagination"

const PaginationContent = React.forwardRef<
  HTMLUListElement,
  React.ComponentProps<"ul">
>(({ className, ...props }, ref) => (
  <ul
    ref={ref}
    className={cn("flex flex-row items-center gap-1", className)}
    {...props}
  />
))
PaginationContent.displayName = "PaginationContent"

const PaginationItem = React.forwardRef<
  HTMLLIElement,
  React.ComponentProps<"li">
>(({ className, ...props }, ref) => (
  <li ref={ref} className={cn("", className)} {...props} />
))
PaginationItem.displayName = "PaginationItem"

type PaginationLinkProps = {
  isActive?: boolean
} & Pick<ButtonProps, "size"> &
  React.ComponentProps<"a">

const PaginationLink = ({
  className,
  isActive,
  size = "icon",
  ...props
}: PaginationLinkProps) => (
  <a
    aria-current={isActive ? "page" : undefined}
    className={cn(
      buttonVariants({
        variant: isActive ? "outline" : "ghost",
        size,
      }),
      className
    )}
    {...props}
  />
)
PaginationLink.displayName = "PaginationLink"

const PaginationPrevious = ({
  className,
  ...props
}: React.ComponentProps<typeof PaginationLink>) => (
  <PaginationLink
    aria-label="Go to previous page"
    size="default"
    className={cn("gap-1 pl-2.5", className)}
    {...props}
  >
    <ChevronLeft className="h-4 w-4" />
    <span>Previous</span>
  </PaginationLink>
)
PaginationPrevious.displayName = "PaginationPrevious"

const PaginationNext = ({
  className,
  ...props
}: React.ComponentProps<typeof PaginationLink>) => (
  <PaginationLink
    aria-label="Go to next page"
    size="default"
    className={cn("gap-1 pr-2.5", className)}
    {...props}
  >
    <span>Next</span>
    <ChevronRight className="h-4 w-4" />
  </PaginationLink>
)
PaginationNext.displayName = "PaginationNext"

const PaginationEllipsis = ({
  className,
  ...props
}: React.ComponentProps<"span">) => (
  <span
    aria-hidden
    className={cn("flex h-9 w-9 items-center justify-center", className)}
    {...props}
  >
    <MoreHorizontal className="h-4 w-4" />
    <span className="sr-only">More pages</span>
  </span>
)
PaginationEllipsis.displayName = "PaginationEllipsis"

export {
  Pagination,
  PaginationContent,
  PaginationLink,
  PaginationItem,
  PaginationPrevious,
  PaginationNext,
  PaginationEllipsis,
}
</file>

<file path="components/ui/sidebar.tsx">
"use client"

import * as React from "react"
import { Slot } from "@radix-ui/react-slot"
import { cva, type VariantProps } from "class-variance-authority"
import { PanelLeft } from "lucide-react"

import { useIsMobile } from "@/hooks/use-mobile"
import { cn } from "@/lib/utils"
import { Button } from "@/components/ui/Button"
import { Input } from "@/components/ui/input"
import { Separator } from "@/components/ui/separator"
import {
  Sheet,
  SheetContent,
  SheetDescription,
  SheetHeader,
  SheetTitle,
} from "@/components/ui/sheet"
import { Skeleton } from "@/components/ui/skeleton"
import {
  Tooltip,
  TooltipContent,
  TooltipProvider,
  TooltipTrigger,
} from "@/components/ui/tooltip"

const SIDEBAR_COOKIE_NAME = "sidebar_state"
const SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7
const SIDEBAR_WIDTH = "16rem"
const SIDEBAR_WIDTH_MOBILE = "18rem"
const SIDEBAR_WIDTH_ICON = "3rem"
const SIDEBAR_KEYBOARD_SHORTCUT = "b"

type SidebarContextProps = {
  state: "expanded" | "collapsed"
  open: boolean
  setOpen: (open: boolean) => void
  openMobile: boolean
  setOpenMobile: (open: boolean) => void
  isMobile: boolean
  toggleSidebar: () => void
}

const SidebarContext = React.createContext<SidebarContextProps | null>(null)

function useSidebar() {
  const context = React.useContext(SidebarContext)
  if (!context) {
    throw new Error("useSidebar must be used within a SidebarProvider.")
  }

  return context
}

const SidebarProvider = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"div"> & {
    defaultOpen?: boolean
    open?: boolean
    onOpenChange?: (open: boolean) => void
  }
>(
  (
    {
      defaultOpen = true,
      open: openProp,
      onOpenChange: setOpenProp,
      className,
      style,
      children,
      ...props
    },
    ref
  ) => {
    const isMobile = useIsMobile()
    const [openMobile, setOpenMobile] = React.useState(false)

    // This is the internal state of the sidebar.
    // We use openProp and setOpenProp for control from outside the component.
    const [_open, _setOpen] = React.useState(defaultOpen)
    const open = openProp ?? _open
    const setOpen = React.useCallback(
      (value: boolean | ((value: boolean) => boolean)) => {
        const openState = typeof value === "function" ? value(open) : value
        if (setOpenProp) {
          setOpenProp(openState)
        } else {
          _setOpen(openState)
        }

        // This sets the cookie to keep the sidebar state.
        document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`
      },
      [setOpenProp, open]
    )

    // Helper to toggle the sidebar.
    const toggleSidebar = React.useCallback(() => {
      return isMobile
        ? setOpenMobile((open) => !open)
        : setOpen((open) => !open)
    }, [isMobile, setOpen, setOpenMobile])

    // Adds a keyboard shortcut to toggle the sidebar.
    React.useEffect(() => {
      const handleKeyDown = (event: KeyboardEvent) => {
        if (
          event.key === SIDEBAR_KEYBOARD_SHORTCUT &&
          (event.metaKey || event.ctrlKey)
        ) {
          event.preventDefault()
          toggleSidebar()
        }
      }

      window.addEventListener("keydown", handleKeyDown)
      return () => window.removeEventListener("keydown", handleKeyDown)
    }, [toggleSidebar])

    // We add a state so that we can do data-state="expanded" or "collapsed".
    // This makes it easier to style the sidebar with Tailwind classes.
    const state = open ? "expanded" : "collapsed"

    const contextValue = React.useMemo<SidebarContextProps>(
      () => ({
        state,
        open,
        setOpen,
        isMobile,
        openMobile,
        setOpenMobile,
        toggleSidebar,
      }),
      [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar]
    )

    return (
      <SidebarContext.Provider value={contextValue}>
        <TooltipProvider delayDuration={0}>
          <div
            style={
              {
                "--sidebar-width": SIDEBAR_WIDTH,
                "--sidebar-width-icon": SIDEBAR_WIDTH_ICON,
                ...style,
              } as React.CSSProperties
            }
            className={cn(
              "group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",
              className
            )}
            ref={ref}
            {...props}
          >
            {children}
          </div>
        </TooltipProvider>
      </SidebarContext.Provider>
    )
  }
)
SidebarProvider.displayName = "SidebarProvider"

const Sidebar = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"div"> & {
    side?: "left" | "right"
    variant?: "sidebar" | "floating" | "inset"
    collapsible?: "offcanvas" | "icon" | "none"
  }
>(
  (
    {
      side = "left",
      variant = "sidebar",
      collapsible = "offcanvas",
      className,
      children,
      ...props
    },
    ref
  ) => {
    const { isMobile, state, openMobile, setOpenMobile } = useSidebar()

    if (collapsible === "none") {
      return (
        <div
          className={cn(
            "flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",
            className
          )}
          ref={ref}
          {...props}
        >
          {children}
        </div>
      )
    }

    if (isMobile) {
      return (
        <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>
          <SheetContent
            data-sidebar="sidebar"
            data-mobile="true"
            className="w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden"
            style={
              {
                "--sidebar-width": SIDEBAR_WIDTH_MOBILE,
              } as React.CSSProperties
            }
            side={side}
          >
            <SheetHeader className="sr-only">
              <SheetTitle>Sidebar</SheetTitle>
              <SheetDescription>Displays the mobile sidebar.</SheetDescription>
            </SheetHeader>
            <div className="flex h-full w-full flex-col">{children}</div>
          </SheetContent>
        </Sheet>
      )
    }

    return (
      <div
        ref={ref}
        className="group peer hidden text-sidebar-foreground md:block"
        data-state={state}
        data-collapsible={state === "collapsed" ? collapsible : ""}
        data-variant={variant}
        data-side={side}
      >
        {/* This is what handles the sidebar gap on desktop */}
        <div
          className={cn(
            "relative w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear",
            "group-data-[collapsible=offcanvas]:w-0",
            "group-data-[side=right]:rotate-180",
            variant === "floating" || variant === "inset"
              ? "group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]"
              : "group-data-[collapsible=icon]:w-[--sidebar-width-icon]"
          )}
        />
        <div
          className={cn(
            "fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex",
            side === "left"
              ? "left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]"
              : "right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",
            // Adjust the padding for floating and inset variants.
            variant === "floating" || variant === "inset"
              ? "p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]"
              : "group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",
            className
          )}
          {...props}
        >
          <div
            data-sidebar="sidebar"
            className="flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow"
          >
            {children}
          </div>
        </div>
      </div>
    )
  }
)
Sidebar.displayName = "Sidebar"

const SidebarTrigger = React.forwardRef<
  React.ElementRef<typeof Button>,
  React.ComponentProps<typeof Button>
>(({ className, onClick, ...props }, ref) => {
  const { toggleSidebar } = useSidebar()

  return (
    <Button
      ref={ref}
      data-sidebar="trigger"
      variant="ghost"
      size="icon"
      className={cn("h-7 w-7", className)}
      onClick={(event) => {
        onClick?.(event)
        toggleSidebar()
      }}
      {...props}
    >
      <PanelLeft />
      <span className="sr-only">Toggle Sidebar</span>
    </Button>
  )
})
SidebarTrigger.displayName = "SidebarTrigger"

const SidebarRail = React.forwardRef<
  HTMLButtonElement,
  React.ComponentProps<"button">
>(({ className, ...props }, ref) => {
  const { toggleSidebar } = useSidebar()

  return (
    <button
      ref={ref}
      data-sidebar="rail"
      aria-label="Toggle Sidebar"
      tabIndex={-1}
      onClick={toggleSidebar}
      title="Toggle Sidebar"
      className={cn(
        "absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex",
        "[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize",
        "[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize",
        "group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar",
        "[[data-side=left][data-collapsible=offcanvas]_&]:-right-2",
        "[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",
        className
      )}
      {...props}
    />
  )
})
SidebarRail.displayName = "SidebarRail"

const SidebarInset = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"main">
>(({ className, ...props }, ref) => {
  return (
    <main
      ref={ref}
      className={cn(
        "relative flex w-full flex-1 flex-col bg-background",
        "md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",
        className
      )}
      {...props}
    />
  )
})
SidebarInset.displayName = "SidebarInset"

const SidebarInput = React.forwardRef<
  React.ElementRef<typeof Input>,
  React.ComponentProps<typeof Input>
>(({ className, ...props }, ref) => {
  return (
    <Input
      ref={ref}
      data-sidebar="input"
      className={cn(
        "h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",
        className
      )}
      {...props}
    />
  )
})
SidebarInput.displayName = "SidebarInput"

const SidebarHeader = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"div">
>(({ className, ...props }, ref) => {
  return (
    <div
      ref={ref}
      data-sidebar="header"
      className={cn("flex flex-col gap-2 p-2", className)}
      {...props}
    />
  )
})
SidebarHeader.displayName = "SidebarHeader"

const SidebarFooter = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"div">
>(({ className, ...props }, ref) => {
  return (
    <div
      ref={ref}
      data-sidebar="footer"
      className={cn("flex flex-col gap-2 p-2", className)}
      {...props}
    />
  )
})
SidebarFooter.displayName = "SidebarFooter"

const SidebarSeparator = React.forwardRef<
  React.ElementRef<typeof Separator>,
  React.ComponentProps<typeof Separator>
>(({ className, ...props }, ref) => {
  return (
    <Separator
      ref={ref}
      data-sidebar="separator"
      className={cn("mx-2 w-auto bg-sidebar-border", className)}
      {...props}
    />
  )
})
SidebarSeparator.displayName = "SidebarSeparator"

const SidebarContent = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"div">
>(({ className, ...props }, ref) => {
  return (
    <div
      ref={ref}
      data-sidebar="content"
      className={cn(
        "flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",
        className
      )}
      {...props}
    />
  )
})
SidebarContent.displayName = "SidebarContent"

const SidebarGroup = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"div">
>(({ className, ...props }, ref) => {
  return (
    <div
      ref={ref}
      data-sidebar="group"
      className={cn("relative flex w-full min-w-0 flex-col p-2", className)}
      {...props}
    />
  )
})
SidebarGroup.displayName = "SidebarGroup"

const SidebarGroupLabel = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"div"> & { asChild?: boolean }
>(({ className, asChild = false, ...props }, ref) => {
  const Comp = asChild ? Slot : "div"

  return (
    <Comp
      ref={ref}
      data-sidebar="group-label"
      className={cn(
        "flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0",
        "group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",
        className
      )}
      {...props}
    />
  )
})
SidebarGroupLabel.displayName = "SidebarGroupLabel"

const SidebarGroupAction = React.forwardRef<
  HTMLButtonElement,
  React.ComponentProps<"button"> & { asChild?: boolean }
>(({ className, asChild = false, ...props }, ref) => {
  const Comp = asChild ? Slot : "button"

  return (
    <Comp
      ref={ref}
      data-sidebar="group-action"
      className={cn(
        "absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0",
        // Increases the hit area of the button on mobile.
        "after:absolute after:-inset-2 after:md:hidden",
        "group-data-[collapsible=icon]:hidden",
        className
      )}
      {...props}
    />
  )
})
SidebarGroupAction.displayName = "SidebarGroupAction"

const SidebarGroupContent = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"div">
>(({ className, ...props }, ref) => (
  <div
    ref={ref}
    data-sidebar="group-content"
    className={cn("w-full text-sm", className)}
    {...props}
  />
))
SidebarGroupContent.displayName = "SidebarGroupContent"

const SidebarMenu = React.forwardRef<
  HTMLUListElement,
  React.ComponentProps<"ul">
>(({ className, ...props }, ref) => (
  <ul
    ref={ref}
    data-sidebar="menu"
    className={cn("flex w-full min-w-0 flex-col gap-1", className)}
    {...props}
  />
))
SidebarMenu.displayName = "SidebarMenu"

const SidebarMenuItem = React.forwardRef<
  HTMLLIElement,
  React.ComponentProps<"li">
>(({ className, ...props }, ref) => (
  <li
    ref={ref}
    data-sidebar="menu-item"
    className={cn("group/menu-item relative", className)}
    {...props}
  />
))
SidebarMenuItem.displayName = "SidebarMenuItem"

const sidebarMenuButtonVariants = cva(
  "peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",
  {
    variants: {
      variant: {
        default: "hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",
        outline:
          "bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]",
      },
      size: {
        default: "h-8 text-sm",
        sm: "h-7 text-xs",
        lg: "h-12 text-sm group-data-[collapsible=icon]:!p-0",
      },
    },
    defaultVariants: {
      variant: "default",
      size: "default",
    },
  }
)

const SidebarMenuButton = React.forwardRef<
  HTMLButtonElement,
  React.ComponentProps<"button"> & {
    asChild?: boolean
    isActive?: boolean
    tooltip?: string | React.ComponentProps<typeof TooltipContent>
  } & VariantProps<typeof sidebarMenuButtonVariants>
>(
  (
    {
      asChild = false,
      isActive = false,
      variant = "default",
      size = "default",
      tooltip,
      className,
      ...props
    },
    ref
  ) => {
    const Comp = asChild ? Slot : "button"
    const { isMobile, state } = useSidebar()

    const button = (
      <Comp
        ref={ref}
        data-sidebar="menu-button"
        data-size={size}
        data-active={isActive}
        className={cn(sidebarMenuButtonVariants({ variant, size }), className)}
        {...props}
      />
    )

    if (!tooltip) {
      return button
    }

    if (typeof tooltip === "string") {
      tooltip = {
        children: tooltip,
      }
    }

    return (
      <Tooltip>
        <TooltipTrigger asChild>{button}</TooltipTrigger>
        <TooltipContent
          side="right"
          align="center"
          hidden={state !== "collapsed" || isMobile}
          {...tooltip}
        />
      </Tooltip>
    )
  }
)
SidebarMenuButton.displayName = "SidebarMenuButton"

const SidebarMenuAction = React.forwardRef<
  HTMLButtonElement,
  React.ComponentProps<"button"> & {
    asChild?: boolean
    showOnHover?: boolean
  }
>(({ className, asChild = false, showOnHover = false, ...props }, ref) => {
  const Comp = asChild ? Slot : "button"

  return (
    <Comp
      ref={ref}
      data-sidebar="menu-action"
      className={cn(
        "absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0",
        // Increases the hit area of the button on mobile.
        "after:absolute after:-inset-2 after:md:hidden",
        "peer-data-[size=sm]/menu-button:top-1",
        "peer-data-[size=default]/menu-button:top-1.5",
        "peer-data-[size=lg]/menu-button:top-2.5",
        "group-data-[collapsible=icon]:hidden",
        showOnHover &&
          "group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",
        className
      )}
      {...props}
    />
  )
})
SidebarMenuAction.displayName = "SidebarMenuAction"

const SidebarMenuBadge = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"div">
>(({ className, ...props }, ref) => (
  <div
    ref={ref}
    data-sidebar="menu-badge"
    className={cn(
      "pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground",
      "peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground",
      "peer-data-[size=sm]/menu-button:top-1",
      "peer-data-[size=default]/menu-button:top-1.5",
      "peer-data-[size=lg]/menu-button:top-2.5",
      "group-data-[collapsible=icon]:hidden",
      className
    )}
    {...props}
  />
))
SidebarMenuBadge.displayName = "SidebarMenuBadge"

const SidebarMenuSkeleton = React.forwardRef<
  HTMLDivElement,
  React.ComponentProps<"div"> & {
    showIcon?: boolean
  }
>(({ className, showIcon = false, ...props }, ref) => {
  // Random width between 50 to 90%.
  const width = React.useMemo(() => {
    return `${Math.floor(Math.random() * 40) + 50}%`
  }, [])

  return (
    <div
      ref={ref}
      data-sidebar="menu-skeleton"
      className={cn("flex h-8 items-center gap-2 rounded-md px-2", className)}
      {...props}
    >
      {showIcon && (
        <Skeleton
          className="size-4 rounded-md"
          data-sidebar="menu-skeleton-icon"
        />
      )}
      <Skeleton
        className="h-4 max-w-[--skeleton-width] flex-1"
        data-sidebar="menu-skeleton-text"
        style={
          {
            "--skeleton-width": width,
          } as React.CSSProperties
        }
      />
    </div>
  )
})
SidebarMenuSkeleton.displayName = "SidebarMenuSkeleton"

const SidebarMenuSub = React.forwardRef<
  HTMLUListElement,
  React.ComponentProps<"ul">
>(({ className, ...props }, ref) => (
  <ul
    ref={ref}
    data-sidebar="menu-sub"
    className={cn(
      "mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5",
      "group-data-[collapsible=icon]:hidden",
      className
    )}
    {...props}
  />
))
SidebarMenuSub.displayName = "SidebarMenuSub"

const SidebarMenuSubItem = React.forwardRef<
  HTMLLIElement,
  React.ComponentProps<"li">
>(({ ...props }, ref) => <li ref={ref} {...props} />)
SidebarMenuSubItem.displayName = "SidebarMenuSubItem"

const SidebarMenuSubButton = React.forwardRef<
  HTMLAnchorElement,
  React.ComponentProps<"a"> & {
    asChild?: boolean
    size?: "sm" | "md"
    isActive?: boolean
  }
>(({ asChild = false, size = "md", isActive, className, ...props }, ref) => {
  const Comp = asChild ? Slot : "a"

  return (
    <Comp
      ref={ref}
      data-sidebar="menu-sub-button"
      data-size={size}
      data-active={isActive}
      className={cn(
        "flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground",
        "data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",
        size === "sm" && "text-xs",
        size === "md" && "text-sm",
        "group-data-[collapsible=icon]:hidden",
        className
      )}
      {...props}
    />
  )
})
SidebarMenuSubButton.displayName = "SidebarMenuSubButton"

export {
  Sidebar,
  SidebarContent,
  SidebarFooter,
  SidebarGroup,
  SidebarGroupAction,
  SidebarGroupContent,
  SidebarGroupLabel,
  SidebarHeader,
  SidebarInput,
  SidebarInset,
  SidebarMenu,
  SidebarMenuAction,
  SidebarMenuBadge,
  SidebarMenuButton,
  SidebarMenuItem,
  SidebarMenuSkeleton,
  SidebarMenuSub,
  SidebarMenuSubButton,
  SidebarMenuSubItem,
  SidebarProvider,
  SidebarRail,
  SidebarSeparator,
  SidebarTrigger,
  useSidebar,
}
</file>

<file path="package.json">
{
  "scripts": {
    "dev": "next dev",
    "build": "next build",
    "start": "next start",
    "lint": "next lint",
    "test:unit": "vitest",
    "test:e2e": "playwright test",
    "test": "npm run test:unit && npm run test:e2e",
    "test:supabase": "node -r dotenv/config node_modules/.bin/tsx test-supabase-connection.ts dotenv_config_path=.env.local"
  },
  "dependencies": {
    "@dnd-kit/core": "^6.3.1",
    "@dnd-kit/modifiers": "^9.0.0",
    "@dnd-kit/sortable": "^10.0.0",
    "@dnd-kit/utilities": "^3.2.2",
    "@hookform/resolvers": "^5.2.2",
    "@radix-ui/react-avatar": "^1.1.11",
    "@radix-ui/react-checkbox": "^1.3.3",
    "@radix-ui/react-dialog": "^1.1.15",
    "@radix-ui/react-dropdown-menu": "^2.1.16",
    "@radix-ui/react-label": "^2.1.8",
    "@radix-ui/react-scroll-area": "^1.2.10",
    "@radix-ui/react-select": "^2.2.6",
    "@radix-ui/react-separator": "^1.1.8",
    "@radix-ui/react-switch": "^1.2.6",
    "@radix-ui/react-tabs": "^1.1.13",
    "@radix-ui/react-toggle": "^1.1.10",
    "@radix-ui/react-toggle-group": "^1.1.11",
    "@radix-ui/react-tooltip": "^1.2.8",
    "@supabase/ssr": "^0.5.2",
    "@supabase/supabase-js": "^2.45.4",
    "@tanstack/react-table": "^8.21.3",
    "clsx": "^2.1.1",
    "cmdk": "^1.1.1",
    "date-fns": "^4.1.0",
    "framer-motion": "^11.11.17",
    "lucide-react": "^0.454.0",
    "next": "^15.1.3",
    "next-themes": "^0.4.6",
    "react": "^19.0.0",
    "react-day-picker": "^9.13.0",
    "react-dom": "^19.0.0",
    "react-hook-form": "^7.70.0",
    "recharts": "^2.15.4",
    "sonner": "^2.0.7",
    "tailwind-merge": "^3.4.0",
    "vaul": "^1.1.2",
    "zod": "^4.3.5",
    "zustand": "^5.0.2"
  },
  "devDependencies": {
    "@playwright/test": "^1.57.0",
    "@radix-ui/react-slot": "^1.2.4",
    "@tailwindcss/postcss": "^4.1.18",
    "@types/node": "^22",
    "@types/react": "^19",
    "@types/react-dom": "^19",
    "autoprefixer": "^10.4.20",
    "class-variance-authority": "^0.7.1",
    "dotenv": "^16.6.1",
    "eslint": "^9",
    "eslint-config-next": "^15.1.3",
    "postcss": "^8.4.49",
    "tailwindcss": "^4.0.0",
    "tailwindcss-animate": "^1.0.7",
    "typescript": "^5",
    "vitest": "^4.0.16"
  }
}
</file>

<file path="README.md">
This is a [Next.js](https://nextjs.org) project bootstrapped with [`create-next-app`](https://nextjs.org/docs/app/api-reference/cli/create-next-app).

## Getting Started

First, run the development server:

```bash
npm run dev
# or
yarn dev
# or
pnpm dev
# or
bun dev
```

Open [http://localhost:3000](http://localhost:3000) with your browser to see the result.

You can start editing the page by modifying `app/page.tsx`. The page auto-updates as you edit the file.

This project uses [`next/font`](https://nextjs.org/docs/app/building-your-application/optimizing/fonts) to automatically optimize and load [Geist](https://vercel.com/font), a new font family for Vercel.

## Learn More

To learn more about Next.js, take a look at the following resources:

- [Next.js Documentation](https://nextjs.org/docs) - learn about Next.js features and API.
- [Learn Next.js](https://nextjs.org/learn) - an interactive Next.js tutorial.

You can check out [the Next.js GitHub repository](https://github.com/vercel/next.js) - your feedback and contributions are welcome!

## Deploy on Vercel

The easiest way to deploy your Next.js app is to use the [Vercel Platform](https://vercel.com/new?utm_medium=default-template&filter=next.js&utm_source=create-next-app&utm_campaign=create-next-app-readme) from the creators of Next.js.

Check out our [Next.js deployment documentation](https://nextjs.org/docs/app/building-your-application/deploying) for more details.

---

## Database: leads_assessment table (Supabase)

If you see an error like `Table 'public.leads_assessment' not found`, create the table in your Supabase project using the SQL in `migrations/001_create_leads_assessment.sql`.

Steps:
1. Open your Supabase project → Database → SQL Editor.
2. Paste the SQL from `migrations/001_create_leads_assessment.sql` and run it.
3. Verify the table exists under Database → Tables.

Environment (server secrets):
- For server-side inserts you should set the **SUPABASE_SERVICE_ROLE_KEY** in your server environment (e.g., add to `.env.local` for local dev and as a secret in Vercel). This key must never be exposed to the browser or committed to source control.

If you do not want to use the service role key, ensure you have appropriate Row Level Security (RLS) policies to allow INSERTs from the authenticated principal your server uses.

If inserts fail with errors mentioning `row-level security` or `violates row-level security policy`, either configure an INSERT policy in Supabase for `leads_assessment` or set `SUPABASE_SERVICE_ROLE_KEY` for trusted server-side inserts.

Alternatively, create the table via the Supabase Dashboard (Database → New Table) with these columns:
- `id` (uuid, primary key, default gen_random_uuid())
- `contact_name` (text, not null)
- `contact_email` (text, not null)
- `contact_role` (text)
- `company_industry` (text)
- `answers` (jsonb)
- `score_total` (integer)
- `tier_result` (text)
- `status` (text, default 'new')
- `inserted_at` (timestamptz, default now())

If your database already contains a `created_at` column instead of `inserted_at`, run the migration `migrations/002_add_inserted_at_column.sql` to add `inserted_at` and backfill it from `created_at`.

Steps to run the migration:
1. Open Supabase → Database → SQL Editor.
2. Paste and run the SQL from `migrations/002_add_inserted_at_column.sql`.
3. Verify with:

```sql
SELECT column_name, data_type
FROM information_schema.columns
WHERE table_schema = 'public' AND table_name = 'leads_assessment'
ORDER BY ordinal_position;
```

After running the migration, you can `SELECT * FROM public.leads_assessment ORDER BY inserted_at DESC LIMIT 5;` to verify insertion timestamps.
</file>

<file path="tsconfig.json">
{
  "compilerOptions": {
    "target": "ES2020",
    "lib": [
      "dom",
      "dom.iterable",
      "esnext"
    ],
    "allowJs": true,
    "skipLibCheck": true,
    "strict": true,
    "noEmit": true,
    "esModuleInterop": true,
    "module": "esnext",
    "moduleResolution": "bundler",
    "resolveJsonModule": true,
    "isolatedModules": true,
    "jsx": "preserve",
    "incremental": true,
    "plugins": [
      {
        "name": "next"
      }
    ],
    "paths": {
      "@/*": [
        "./*"
      ]
    }
  },
  "include": [
    "next-env.d.ts",
    "**/*.ts",
    "**/*.tsx",
    ".next/types/**/*.ts",
    ".next/dev/types/**/*.ts"
  ],
  "exclude": [
    "node_modules"
  ]
}
</file>

</files>
